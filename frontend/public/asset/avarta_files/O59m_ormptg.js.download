if (self.CavalryLogger) { CavalryLogger.start_js(["B4t2S"]); }

__d("MediaManagerInboxFBCommsHeader.react",["cx","ActionList.react","CenteredContainer.react","DateConsts","FlexLayout.react","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","LineClamp.react","MercuryThreadTimestampReact.re","MercuryTimestamp","PagesManagerAction","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MercuryThreadTimestampReact.re").make,i=57;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.item==null)return null;var a=this.props.item.node;b("PagesManagerAction").setHeaderHeight(i);var c=a.validationTime*b("DateConsts").MS_PER_SEC;return b("React").jsxs(b("Layout.react"),{className:"_iyn","data-testid":"header_container",children:[b("React").jsx(b("LayoutColumn.react"),{children:b("React").jsx(b("CenteredContainer.react"),{className:"_iyp _84mg _5m0-",fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("Image.react"),{src:"/images/fb_communications/glyph-app-facebook-circle-1x.png"})})}),b("React").jsx(b("LayoutFillColumn.react"),{children:b("React").jsxs(b("CenteredContainer.react"),{className:"_84mh",fullHeight:!0,horizontal:!1,vertical:!0,children:[b("React").jsx("div",{className:"_iyo",children:b("React").jsx(b("LineClamp.react"),{lines:1,children:a.title})}),b("React").jsx(b("FlexLayout.react"),{children:b("React").jsx(b("ActionList.react"),{children:b("React").jsx(h,{text:b("MercuryTimestamp").getRelativeTimestamp(c),time:c,title:(a=b("MercuryTimestamp").getAbsoluteTimestamp(c))!=null?a:void 0})})})]})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MediaManagerInboxFBCommsActions",["MediaManagerActionTypes","PagesManagerDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES,pageID:a})};c=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_FINISHED,pageID:a,messages:c})};d=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_ERROR,pageID:a,error:c})};f=function(a,c,d){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_FB_COMMS_SET_MESSAGE_SEEN,pageID:a,message:c,clickedTime:d})};e.exports={loadFBCommsMessages:a,loadFBCommsMessagesFinished:c,loadFBCommsMessagesError:d,setFBCommsMessageSeen:f}}),null);
__d("MediaManagerFBCommsStore",["FluxLoadObjectStore","MediaManagerActionTypes","MediaManagerInboxFBCommsActions","PagesManagerDispatcher","RelayFBEnvironment","RelayModern","immutable","promiseDone","MediaManagerFBCommsStoreQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("MediaManagerActionTypes").MediaManagerActionTypes,i=b("MediaManagerInboxFBCommsActions").loadFBCommsMessagesError,j=b("MediaManagerInboxFBCommsActions").loadFBCommsMessagesFinished,k=b("RelayModern").fetchQuery;b("RelayModern").graphql;var l=g!==void 0?g:g=b("MediaManagerFBCommsStoreQuery.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return[this.getActionTypeStartLoad(),h.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_FINISHED,h.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES,h.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_ERROR,h.MEDIA_MANAGER_INBOX_FB_COMMS_SET_MESSAGE_SEEN]};d.reduce=function(a,b){__p&&__p();var c;switch(b.type){case h.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES:((c=a.get(b.pageID))==null?void 0:c.hasValue())||this.__load(b.pageID);return a;case h.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_FINISHED:return this.__handleOne(a,b.pageID,b.messages);case h.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_ERROR:return this.__handleOne(a,b.pageID,b.error);case h.MEDIA_MANAGER_INBOX_FB_COMMS_SET_MESSAGE_SEEN:c=a.get(b.pageID);if(c.hasValue()){c=c.getValue();if(c!=null){var d=c.find(function(a){return a.node.id===b.message.node.id});d.node.clickedTime=b.clickedTime;return this.__handleOne(a,b.pageID,c)}}return a;default:return a}};d.__load=function(a){__p&&__p();b("promiseDone")(k(b("RelayFBEnvironment"),l,{page_id:String(a)}),function(c){__p&&__p();c=(c=c.viewer)==null?void 0:(c=c.inbox_fb_comms_rows)==null?void 0:c.nodes;var d=b("immutable").List();if(c!=null){c=c.reduce(function(b,c){c=c.content;var d=c==null?void 0:c.id,a=c==null?void 0:c.page_id,e=c==null?void 0:c.tip_name,f=c==null?void 0:c.title,g=c==null?void 0:c.body,h=c==null?void 0:c.button_label,i=c==null?void 0:c.button_uri,j=c==null?void 0:c.validation_timestamp;c=c==null?void 0:c.clicked_timestamp;if(d==null||e==null||f==null||g==null||h==null||i==null||j==null)return b;b.push({node:{id:d,pageID:a,tipName:e,title:f,body:g,cta:{label:h,action:i},validationTime:j,clickedTime:c,productType:"MONETIZATION"}});return b},[]);d=b("immutable").List(c)}j(a,d)},function(b){i(a,b)})};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerDispatcher"))}),null);
__d("PagesManagerInboxActionType",["ImmutableObject","keyMirrorRecursive"],(function(a,b,c,d,e,f){a=new(b("ImmutableObject"))(b("keyMirrorRecursive")({COMMENT:"",CONFIG_SET:"",FACEBOOK_POST:{LOADED:""},LIST:{MORE_LOADED:""},NUX:{DISMISS:"",HIDE:"",VIEW:""},IG_COMMENT:{DELETE_REPLY:"",REPLY:""},SWITCH_INTERFACE:{SWITCH_TO_OLD:""},CHANGE_NAV_MODE:""}));e.exports=a}),null);
__d("MediaManagerInboxQEUtils",["qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(){var a;return(a=b("qex")._("1166058"))!=null?a:"CONTROL"};a=function(){return g()!=="CONTROL"};c=function(){return g()==="COMMENT_RANKING"||g()==="BOTH_RANKING"};d=function(){return g()==="MESSENGER_RANKING"||g()==="BOTH_RANKING"};e.exports={shouldShowCommentRanking:c,shouldShowMessengerRanking:d,shouldShowNewDesign:a}}),null);
__d("MediaManagerInboxUtils",["MediaManagerInboxQEUtils","PageCommItemFolder"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){return a!==null&&a!==void 0?a:0};c=function(){return b("MediaManagerInboxQEUtils").shouldShowNewDesign()?"inbox_plus":"inbox"};var g=function(a){switch(a){case"FACEBOOK":return b("MediaManagerInboxQEUtils").shouldShowCommentRanking()?[b("PageCommItemFolder").PRIORITY]:[];case"MESSENGER":return b("MediaManagerInboxQEUtils").shouldShowMessengerRanking()?[b("PageCommItemFolder").PRIORITY]:[];default:return[]}};d=function(a,c){if(!g(a).includes(b("PageCommItemFolder").PRIORITY))return!1;var d=!0;c!=null&&c[a]!=null&&(d=c[a]>0);return d};f={FormatInitialCount:a,InboxTabType:c,MediaManagerInboxSpecificFolders:g,ShouldPriorityAsDefault:d};e.exports=f}),null);
__d("PagesManagerInboxCustomLabelSearchableEntry",["SearchableEntry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,{uniqueID:b.id,title:b.name})||this;c.$PagesManagerInboxCustomLabelSearchableEntry1=b;return c}var c=b.prototype;c.getColor=function(){return"#"+this.$PagesManagerInboxCustomLabelSearchableEntry1.color.substring(2)};c.getFBID=function(){return this.$PagesManagerInboxCustomLabelSearchableEntry1.id};c.getName=function(){return this.$PagesManagerInboxCustomLabelSearchableEntry1.name};c.getData=function(){return this.$PagesManagerInboxCustomLabelSearchableEntry1};return b}(b("SearchableEntry"));e.exports=a}),null);
__d("PagesInboxImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("pages_inbox_impression");e.exports=a}),null);
__d("PagesManagerMessagingLogger",["invariant","PageCommItemFolder","PagesEventObserver","PagesInboxImpressionFalcoEvent"],(function(a,b,c,d,e,f,g){__p&&__p();var h="MESSENGER",i="inbox",j=":";a={logMessagesSectionViewEvent:function(a,c,d){c=c||i;var e;c.indexOf(":")&&(e=c.split(j),c=e[e.length-1]);b("PagesEventObserver").notify("view_messages",a,{section:d||h,subsection:c})},logPageViewFolderEventForInbox:function(a,c,d){__p&&__p();var e="";switch(c){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").FOLLOW_UP:case b("PageCommItemFolder").UNREAD:case b("PageCommItemFolder").MESSENGER_THREADS:case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").PRIORITY:e="messages_view_inbox";break;case b("PageCommItemFolder").DONE:e="messages_view_archived";break;case b("PageCommItemFolder").SPAM:e="messages_view_spam";break;default:g(0,6258)}b("PagesEventObserver").notify(e,a,{source:d});e==="messages_view_inbox"&&b("PagesInboxImpressionFalcoEvent").log(function(){return{event_location:"page__inbox",page_id:a,referrer:d,event_data:{num_threads_viewed:null}}})}};e.exports=a}),null);
__d("PagesManagerMessagingNavigationUnitKey",["MercuryFilters.bs","MessagingTag"],(function(a,b,c,d,e,f){"use strict";c={FILTERS:{ALL:b("MercuryFilters.bs").all,UNREAD:b("MercuryFilters.bs").unread,FLAGGED:"flag",PRIORITY:"important"},FOLDERS:{INBOX:(a=b("MessagingTag")).INBOX,ARCHIVED:a.ACTION_ARCHIVED,PAGE_BACKGROUND:a.PAGE_BACKGROUND,SPAM:a.OTHER}};e.exports=c}),null);
__d("PagesManagerInboxFilterStore",["invariant","FluxStore","MediaManagerInboxUtils","MediaManagerUtils","PageCommItemFolder","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxCustomLabelSearchableEntry","PagesManagerMessagingLogger","PagesManagerMessagingNavigationUnitKey","QE2Logger"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MediaManagerInboxUtils").MediaManagerInboxSpecificFolders,i="unified_inbox_instagram_comments_revamp",j="CUSTOM_TAG_",k="OWNER_";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerInboxFilterStore1=b("PageCommItemFolder").TODO;c.$PagesManagerInboxFilterStore2="ALL";c.$PagesManagerInboxFilterStore3={id:null,photoURL:null,name:null};c.$PagesManagerInboxFilterStore4="MESSENGER";c.$PagesManagerInboxFilterStore5=!1;c.$PagesManagerInboxFilterStore6=!1;c.$PagesManagerInboxFilterStore7=!1;c.$PagesManagerInboxFilterStore8="";c.$PagesManagerInboxFilterStore9="CUSTOMER";c.$PagesManagerInboxFilterStore10=null;c.$PagesManagerInboxFilterStore11=[];c.$PagesManagerInboxFilterStore12=new Map();c.$PagesManagerInboxFilterStore13=!1;c.$PagesManagerInboxFilterStore14="all";c.$PagesManagerInboxFilterStore15=!1;return c}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE:var c=!1,d=!1;this.$PagesManagerInboxFilterStore4!==a.activeTypeFilter&&a.activeTypeFilter&&(c=!0);this.$PagesManagerInboxFilterStore4==="MESSENGER"&&a.activeFolderFilter&&this.$PagesManagerInboxFilterStore1!==a.activeFolderFilter&&(d=!0);c&&(b("PagesManagerMessagingLogger").logMessagesSectionViewEvent(a.pageID,null,a.activeTypeFilter),a.activeTypeFilter==="INSTAGRAM"&&b("QE2Logger").logExposureForPage(i,a.pageID));d&&a.activeFolderFilter!==b("PageCommItemFolder").FOLLOW_UP&&b("PagesManagerMessagingLogger").logPageViewFolderEventForInbox(a.pageID,a.activeFolderFilter,"new_message_tab");a.activeFolderFilter||a.activeTypeFilter||a.activeOwnerFilter||g(0,6210);a.activeFolderFilter&&(this.$PagesManagerInboxFilterStore1=a.activeFolderFilter,this.$PagesManagerInboxFilterStore4==="WEC"&&this.$PagesManagerInboxFilterStore1!==b("PageCommItemFolder").TODO&&(this.$PagesManagerInboxFilterStore4="MESSENGER"));a.activeTypeFilter&&(this.$PagesManagerInboxFilterStore4=a.activeTypeFilter);a.activeOwnerFilter&&(this.$PagesManagerInboxFilterStore3=a.activeOwnerFilter);this.__emitChange();break;case b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE_PLATFORM:c=a.activeTypeFilter;c!=null&&a.activeFolderFilter!==this.$PagesManagerInboxFilterStore4&&(this.$PagesManagerInboxFilterStore4=c,b("MediaManagerUtils").isMediaManagerApp()&&this.$PagesManagerInboxFilterStore1===b("PageCommItemFolder").PRIORITY&&!h(c).includes(b("PageCommItemFolder").PRIORITY)&&(this.$PagesManagerInboxFilterStore1=b("PageCommItemFolder").TODO));this.__emitChange();break;case b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE_UTL_FOLDER:this.$PagesManagerInboxFilterStore2=a.activeUTLFolder;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.CHANGE_SEARCH_TERM:this.$PagesManagerInboxFilterStore8=a.searchTerm;this.$PagesManagerInboxFilterStore15=!0;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.CUSTOMER_SEARCH_DONE:this.$PagesManagerInboxFilterStore15=!1;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.SELECT_CUSTOMER:this.$PagesManagerInboxFilterStore10=a.pageCustomerID;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.CLEAR:this.$PagesManagerInboxFilterStore8="";this.$PagesManagerInboxFilterStore10=null;this.$PagesManagerInboxFilterStore9="CUSTOMER";this.$PagesManagerInboxFilterStore3={id:null,photoURL:null,name:null};this.$PagesManagerInboxFilterStore11=[];this.__emitChange();break;case b("PagesManagerActionType").SEARCH.TOGGLE:this.$PagesManagerInboxFilterStore5=a.targetStatus;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.CHANGE_TYPE:a.searchType!=="ADMIN"&&(this.$PagesManagerInboxFilterStore3={id:null,photoURL:null,name:null});this.$PagesManagerInboxFilterStore9=a.searchType;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG:this.$PagesManagerInboxFilterStore8="";d=this.$PagesManagerInboxFilterStore11.findIndex(function(b){return b.name===a.label.name});d===-1&&this.$PagesManagerInboxFilterStore11.push(a.label);this.__emitChange();break;case b("PagesManagerActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG:c=this.$PagesManagerInboxFilterStore11.findIndex(function(b){return b.name===a.label.name});c!==-1&&(this.$PagesManagerInboxFilterStore11.splice(c,1),this.__emitChange());break;case b("PagesManagerActionType").LIST.TOGGLE_FOLDER_SELECTOR:this.$PagesManagerInboxFilterStore6=a.isFolderChangeActive;this.__emitChange();break;case b("PagesManagerActionType").LIST.TOGGLE_FILTER_SELECTOR:this.$PagesManagerInboxFilterStore7=a.isFilterChangeActive;this.__emitChange();break;case b("PagesManagerActionType").COMMENTS.CHANGE_TAB:this.$PagesManagerInboxFilterStore14=a.tab;this.__emitChange();break;case b("PagesManagerActionType").COMMENTS.MARK_ALL_ITEMS_AS_READ:this.$PagesManagerInboxFilterStore12.set(this.$PagesManagerInboxFilterStore4,a.commentsLastMarkAsReadTimeStamp);this.__emitChange();break}};d.setIsNewFolder=function(a){this.$PagesManagerInboxFilterStore13=a};d.getCurrentSearchCustomLabels=function(){return this.$PagesManagerInboxFilterStore11.map(function(a){return new(b("PagesManagerInboxCustomLabelSearchableEntry"))(a)})};d.getIsFolderChangeActive=function(){return this.$PagesManagerInboxFilterStore6};d.getIsFilterChangeActive=function(){return this.$PagesManagerInboxFilterStore7};d.getActiveType=function(){return this.$PagesManagerInboxFilterStore4};d.getActiveFolder=function(){return this.$PagesManagerInboxFilterStore1};d.getActiveUTLFolder=function(){return this.$PagesManagerInboxFilterStore2};d.getActiveOwner=function(){return this.$PagesManagerInboxFilterStore3};d.getIsPeopleSearchLoading=function(){return this.$PagesManagerInboxFilterStore15};d.getActiveMessageFolder=function(){switch(this.$PagesManagerInboxFilterStore1){case b("PageCommItemFolder").FOLLOW_UP:case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").UNREAD:case b("PageCommItemFolder").MESSENGER_THREADS:case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").PRIORITY:case b("PageCommItemFolder").MEDIA_MANAGER_TOP_COMMENT:case b("PageCommItemFolder").MEDIA_MANAGER_TOP_MESSAGE:case b("PageCommItemFolder").MEDIA_MANAGER_ALL_TOP_PRIORITY:return b("PagesManagerMessagingNavigationUnitKey").FOLDERS.INBOX;case b("PageCommItemFolder").SPAM:return b("PagesManagerMessagingNavigationUnitKey").FOLDERS.SPAM;case b("PageCommItemFolder").DONE:return b("PagesManagerMessagingNavigationUnitKey").FOLDERS.ARCHIVED;default:g(0,6211)}};d.getActiveMessageFilter=function(){switch(this.$PagesManagerInboxFilterStore1){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").SPAM:case b("PageCommItemFolder").DONE:case b("PageCommItemFolder").FOLLOW_UP:case b("PageCommItemFolder").MESSENGER_THREADS:case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").PRIORITY:case b("PageCommItemFolder").MEDIA_MANAGER_TOP_COMMENT:case b("PageCommItemFolder").MEDIA_MANAGER_TOP_MESSAGE:case b("PageCommItemFolder").MEDIA_MANAGER_ALL_TOP_PRIORITY:return b("PagesManagerMessagingNavigationUnitKey").FILTERS.ALL;case b("PageCommItemFolder").UNREAD:return b("PagesManagerMessagingNavigationUnitKey").FILTERS.UNREAD;default:g(0,6211)}};d.$PagesManagerInboxFilterStore16=function(){return this.$PagesManagerInboxFilterStore11.length===0?null:j+JSON.stringify(this.$PagesManagerInboxFilterStore11.map(function(a){return a.name}).sort())};d.$PagesManagerInboxFilterStore17=function(){return this.$PagesManagerInboxFilterStore3.id===null?null:k+String(this.$PagesManagerInboxFilterStore3.id)};d.getActiveFilter=function(){return this.$PagesManagerInboxFilterStore17()||this.$PagesManagerInboxFilterStore16()||this.getActiveMessageFilter()};d.getSearchTerm=function(){return this.$PagesManagerInboxFilterStore8};d.getPageCustomerID=function(){return this.$PagesManagerInboxFilterStore10};d.getIsSearchActive=function(){return this.$PagesManagerInboxFilterStore5};d.getSearchType=function(){return this.$PagesManagerInboxFilterStore9};d.getIsNewFolder=function(){return this.$PagesManagerInboxFilterStore13};d.getCommentsTab=function(){return this.$PagesManagerInboxFilterStore14};d.getLastMarkedAsReadTimestamp=function(){var a;return(a=this.$PagesManagerInboxFilterStore12.get(this.$PagesManagerInboxFilterStore4))!=null?a:0};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxStore",["invariant","FluxStore","HistoryManager","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxActionType","PagesManagerInboxFilterStore","PagesManagerInboxNUX","PagesManagerStore","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i="selected_item_id",j="mailbox_id",k="platform",l="page_inbox_instagram_direct_upsell";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerInboxStore4={};c.$PagesManagerInboxStore5=0;c.$PagesManagerInboxStore6=!1;c.$PagesManagerInboxStore7="messages";return c}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesManagerInboxActionType").CONFIG_SET:this.$PagesManagerInboxStore1=a.config;this.$PagesManagerInboxStore2=a.businessInboxConfig;this.__emitChange();break;case b("PagesManagerInboxActionType").NUX.VIEW:a.nuxID!==b("PagesManagerInboxNUX")[l]&&(this.$PagesManagerInboxStore3=a.nuxID);this.__emitChange();break;case b("PagesManagerInboxActionType").NUX.DISMISS:this.$PagesManagerInboxStore4[a.nuxID]=!0;this.$PagesManagerInboxStore3===a.nuxID&&(this.$PagesManagerInboxStore5++,this.$PagesManagerInboxStore3=null);this.__emitChange();break;case b("PagesManagerInboxActionType").NUX.HIDE:this.$PagesManagerInboxStore3=null;this.$PagesManagerInboxStore5++;this.__emitChange();break;case b("PagesManagerActionType").LIST.VIEW:b("PagesManagerDispatcher").waitFor([b("PagesManagerStore").getDispatchToken()]);this.$PagesManagerInboxStore8(a.listItem);break;case b("PagesManagerInboxActionType").COMMENT:this.$PagesManagerInboxStore6=!0;this.__emitChange();break;case b("PagesManagerInboxActionType").CHANGE_NAV_MODE:this.$PagesManagerInboxStore7=a.navMode;this.__emitChange();break}};d.getCurrentNavMode=function(){return this.$PagesManagerInboxStore7};d.hasCommented=function(){return this.$PagesManagerInboxStore6};d.getIsMultiAdminEnabled=function(){var a=this.getBusinessInboxAppConfig();if(a==null)return this.getConfig().platformConfigs.MESSENGER.admins.length>1;a=(a=this.getBusinessInboxAppConfig())==null?void 0:a.pageConfig;return a==null?!1:a.admins.length>1};d.getPageID=function(){var a=this.getBusinessInboxAppConfig();if(a==null)return this.getConfig().pageID;else{return(a=a.pageConfig)==null?void 0:a.pageID}};d.getMailboxID=function(a){__p&&__p();a===void 0&&(a="MESSENGER");var b=this.getBusinessInboxAppConfig();if(b!=null){var c=null;switch(a){case"INSTAGRAM":c=b.instagramConfig;break;case"INSTAGRAM_DIRECT":c=b.instagramDirectConfig;break;case"MESSENGER":case"FACEBOOK":c=b.messengerConfig;break;case"WEC":c=b.wecConfig;break}c!=null||g(0,19861,a);return c.mailboxID}else return this.getConfig().platformConfigs[a].mailboxID};d.getConfig=function(){this.$PagesManagerInboxStore1||g(0,5991);return this.$PagesManagerInboxStore1};d.getBusinessInboxAppConfig=function(){return this.$PagesManagerInboxStore2};d.getBusinessInboxAppConfigNonNull=function(){this.$PagesManagerInboxStore2!=null||g(0,5991);return this.$PagesManagerInboxStore2};d.shouldShowBulkActions=function(){var a=this.getBusinessInboxAppConfig();if(a!=null){return Boolean((a=a.messengerConfig)==null?void 0:(a=a.commerceConfig)==null?void 0:a.shouldShowBulkSelection)}else{a=(a=this.$PagesManagerInboxStore1)==null?void 0:a.platformConfigs.MESSENGER;return Boolean(a==null?void 0:a.showBulkSelection)}};d.shouldAllowBulkDelete=function(){var a;a=(a=this.$PagesManagerInboxStore1)==null?void 0:a.platformConfigs.MESSENGER;return Boolean(a==null?void 0:a.shouldAllowBulkDelete)};d.shouldShowNUX=function(a){var c=b("PagesManagerInboxNUX")[a];c||g(0,5992,a);var d=this.getBusinessInboxAppConfig();return d!=null?d.nuxConfig==null?!1:d.nuxConfig[a]&&!this.$PagesManagerInboxStore4[c]&&(!this.$PagesManagerInboxStore3||this.$PagesManagerInboxStore3===c):this.getConfig().nuxConfig[a]&&!this.$PagesManagerInboxStore4[c]&&(!this.$PagesManagerInboxStore3||this.$PagesManagerInboxStore3===c)};d.getBadgeCounts=function(){__p&&__p();var a=this.getBusinessInboxAppConfig();if(a!=null){var b=a.validPlatformTypes,c={};b.forEach(function(b){__p&&__p();switch(b){case"MESSENGER":c.MESSENGER=(b=(b=a.messengerConfig)==null?void 0:b.badgeCount)!=null?b:0;break;case"FACEBOOK":c.FACEBOOK=(b=(b=a.facebookConfig)==null?void 0:b.badgeCount)!=null?b:0;break;case"INSTAGRAM":c.INSTAGRAM=(b=(b=a.instagramConfig)==null?void 0:b.badgeCount)!=null?b:0;break;case"INSTAGRAM_DIRECT":c.INSTAGRAM_DIRECT=(b=(b=a.instagramDirectConfig)==null?void 0:b.badgeCount)!=null?b:0;break;case"WEC":c.WEC=(b=(b=a.wecConfig)==null?void 0:b.badgeCount)!=null?b:0;break}});return c}else return this.getConfig().badgeCounts};d.$PagesManagerInboxStore8=function(a){var c=new(h||(h=b("URI")))(window.location.href);if(a){b("PagesManagerDispatcher").waitFor([b("PagesManagerInboxFilterStore").getDispatchToken()]);var d=b("PagesManagerInboxFilterStore").getActiveType();d=this.getMailboxID(d);c.addQueryData(j,d).addQueryData(i,a).removeQueryData(k)}else c.removeQueryData(i);b("HistoryManager").go(c.toString(),!1,!0)};d.getPageAdmins=function(){var a=this.getBusinessInboxAppConfig();if(a==null)return this.getConfig().platformConfigs.MESSENGER.admins;else{a=a.pageConfig;return a==null?void 0:a.admins}};d.getPageName=function(){var a=this.getBusinessInboxAppConfig();if(a==null)return this.getConfig().pageName;else{return(a=a.pageConfig)==null?void 0:a.pageName}};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("MediaManagerInboxFBCommsHeaderContainer.react",["FluxContainer","MediaManagerFBCommsStore","MediaManagerInboxFBCommsHeader.react","PagesManagerInboxStore","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore"),b("MediaManagerFBCommsStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getMailboxID("MEDIA_MANAGER_FB_COMMS");a=b("MediaManagerFBCommsStore").get(a);a=a.hasValue()?a.getValueEnforcing():b("immutable").List();return{messages:a}};var d=c.prototype;d.render=function(){var a=this;if(this.state.messages==null||this.props.viewingItem==null)return null;var c=this.state.messages.find(function(b){return b.node.id===a.props.viewingItem});return b("React").jsx(b("MediaManagerInboxFBCommsHeader.react"),{item:c})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesContentEditorAttachment.react",["ix","cx","fbt","FDSButton.react","FDSSpinner.react","FDSText.react","FileInput.react","Image.react","Link.react","React","SUIBusinessTheme","SUITextInput.react","XUICard.react","XUIError.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=80;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;if(this.props.attachmentType===null)return b("React").jsx(b("Link.react"),{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrj":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-aw"),onClick:this.props.onAddAttachmentLinkPressed,children:this.props.videoDisabled===!0?i._("+ Add Photo"):i._("+ Add an attachment")});var c=this.props.errors&&this.props.errors.mediaError;return b("React").jsxs(b("XUICard.react"),{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrk":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-b2"),children:[b("React").jsx(b("Image.react"),{onClick:this.props.onClosePressed,src:this.props.isInboxCombinedCustomQuestionTest===!0?g("515976"):g("478237"),style:this.props.isInboxCombinedCustomQuestionTest===!0?{position:"absolute",top:12,right:17,cursor:"pointer"}:{position:"absolute",top:12,right:12}}),b("React").jsx(b("FDSText.react"),{size:"body1",weight:"bold",children:this.props.attachmentType==="image"?i._("Image"):i._("Video")}),b("React").jsx(k,{attachmentType:this.props.attachmentType,disabled:this.props.disabled===!0,isLoading:this.props.isLoading,onSelectAttachmentType:this.props.onSelectAttachmentType,videoDisabled:(a=this.props.videoDisabled)!=null?a:!1}),b("React").jsxs("div",{className:"_6-b3",children:[b("React").jsx(b("XUIError.react"),{xuiError:c,children:this.props.media&&this.props.media.type===this.props.attachmentType?b("React").jsx(b("Image.react"),{className:"_6-b4",src:this.props.media&&this.props.media.url}):b("React").jsx("div",{className:"_6-b4",children:b("React").jsx(b("Image.react"),{className:"_6-b5",src:this.props.attachmentType==="image"?g("481807"):g("493176")})})}),b("React").jsx(l,{attachmentType:this.props.attachmentType,currentMedia:this.props.media,disabled:this.props.disabled===!0,hasSizeError:this.props.hasSizeError,isLoading:this.props.isLoading,onImageUpload:this.props.onImageUpload,onVideoUpload:this.props.onVideoUpload})]}),this.props.onImageTitleChange&&this.props.attachmentType==="image"?b("React").jsxs("div",{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrl":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-ax"),children:[b("React").jsx("div",{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:i._("Image Title")}),b("React").jsx("div",{className:this.props.isInboxCombinedCustomQuestionTest?"_8hrn":"",children:b("React").jsx(b("SUITextInput.react"),{disabled:this.props.disabled,errorMessage:this.props.errors&&this.props.errors.imageTitleError,maxLength:j,onChange:this.props.onImageTitleChange,placeholder:i._("Enter a title"),theme:b("SUIBusinessTheme"),value:this.props.media&&this.props.media.title})})]}):null,this.props.onImageSubtitleChange&&this.props.attachmentType==="image"?b("React").jsxs("div",{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrl":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-ax"),children:[b("React").jsx("div",{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:i._("Image Subtitle (Optional)")}),b("React").jsx("div",{className:this.props.isInboxCombinedCustomQuestionTest?"_8hrn":"",children:b("React").jsx(b("SUITextInput.react"),{disabled:this.props.disabled,errorMessage:null,maxLength:j,onChange:this.props.onImageSubtitleChange,placeholder:i._("Enter a subtitle to provide more information"),theme:b("SUIBusinessTheme"),value:this.props.media&&this.props.media.subtitle})})]}):null]})};return c}(b("React").PureComponent);function k(a){return b("React").jsxs("div",{className:"_6-b6",children:[b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:a.attachmentType==="image"?g("504181"):g("481807")}),isDisabled:a.isLoading||a.disabled,label:i._("Change Format to Image"),labelIsHidden:!0,onClick:function(){return a.onSelectAttachmentType("image")},size:"large",use:a.attachmentType==="image"?"primary":"default"}),a.videoDisabled?null:b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:a.attachmentType==="video"?g("495229"):g("493176")}),isDisabled:a.isLoading||a.disabled,label:i._("Change Format to Video"),labelIsHidden:!0,onClick:function(){return a.onSelectAttachmentType("video")},size:"large",use:a.attachmentType==="video"?"primary":"default"})]})}function l(a){var c,d,e,f,g;a.attachmentType==="image"?(c=".png,.jpg,.jpeg",g=a.onImageUpload,d=a.currentMedia&&a.currentMedia.type==="image"?i._("Change Image"):i._("Choose Image"),e=i._("Images must be no more than 25 MB."),f=a.hasSizeError?i._("Choose an image smaller than 25 MB."):null):(c="video/*",g=a.onVideoUpload,d=a.currentMedia&&a.currentMedia.type==="video"&&a.currentMedia.url!=null?i._("Change Video"):i._("Choose Video"),e=i._("Videos must be no more than 25 MB."),f=a.hasSizeError?i._("Choose a video smaller than 25 MB."):null);return b("React").jsx(m,{disabled:a.disabled,accept:c,description:e,errorText:f,isLoading:a.isLoading,label:d,onUpload:g})}function m(a){var c=a.disabled||a.isLoading,d=b("React").jsx(b("FDSButton.react"),{isDisabled:c,href:{url:"#"},label:a.label,margin:"_3-95",use:"default"});return b("React").jsxs("div",{className:"_6-b7",children:[b("React").jsxs("span",{children:[b("React").jsx(b("XUIError.react"),{xuiError:a.errorText,children:b("React").jsx("div",{className:"_6-b8",children:c?d:b("React").jsx(b("FileInput.react"),{accept:a.accept,name:"file",onChange:a.onUpload,children:d})})}),a.isLoading?b("React").jsx(b("FDSSpinner.react"),{margin:"_3-99"}):null]}),b("React").jsx(b("FDSText.react"),{color:"placeholder",size:"body3",children:a.description})]})}e.exports=a}),null);
__d("PagesContentEditorCTASection.react",["ix","cx","fbt","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","Image.react","LeftRight.react","Link.react","React","SUIBusinessTheme","SUITextInput.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=80,k=3,l=function(a){__p&&__p();var c=i._("Button Label"),d=i._("Add an action you want people to take"),e=a.cta?a.cta.content:"",f=a.cta?a.cta.type:"button",h="";a.cta&&(h=a.cta.url);var k=i._("Button #{cta_index}",[i._param("cta_index",a.index+1)]),l=function(b){a.onCTATitleChange(a.index,b)},m=function(b){a.onCTAURLChange(a.index,b)},n=function(b){b&&a.onCTATypeChange(a.index,b)},o=function(){a.onRemoveCTA(a.index)};o=b("React").jsx(b("Image.react"),{onClick:o,src:a.isInboxCombinedCustomQuestionTest===!0?g("515976"):g("478237"),style:a.isInboxCombinedCustomQuestionTest===!0?{position:"relative",right:5,cursor:"pointer"}:null});var p=i._("Action"),q=f==="postback"?i._("Bot Payload"):i._("Website URL"),r=f==="postback"?i._("Optional: This will be sent back to your webhook."):i._("Add a URL");return b("React").jsxs("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrk":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-9w"),children:[b("React").jsxs(b("LeftRight.react"),{className:(a.isInboxCombinedCustomQuestionTest?"_8hro":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-9x"),children:[b("React").jsx("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrp":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-9y"),children:k}),b("React").jsx("div",{className:Boolean(a.isInboxCombinedCustomQuestionTest)?"":"_6-aw",children:o})]}),b("React").jsxs("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrl":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-ax"),children:[b("React").jsx("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:c}),b("React").jsx(b("SUITextInput.react"),{disabled:a.disabled,errorMessage:a.errors?a.errors.ctaLabelError:null,maxLength:j,onChange:l,placeholder:d,theme:b("SUIBusinessTheme"),value:e})]}),Boolean(a.showCTATypes)&&b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:p}),b("React").jsx("div",{className:Boolean(a.isInboxCombinedCustomQuestionTest)?"_8hrn":"",children:b("React").jsxs(b("FDSDropdownSelector.react"),{onChange:n,value:f,children:[b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:"button",children:i._("Open a website")}),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:"postback",children:i._("Send a postback")})]})})]}),b("React").jsxs("div",{className:(Boolean(a.isInboxCombinedCustomQuestionTest)?"_8hrl":"")+(Boolean(a.isInboxCombinedCustomQuestionTest)?"":" _6-ax"),children:[b("React").jsx("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:q}),b("React").jsx(b("SUITextInput.react"),{disabled:a.disabled,errorMessage:a.errors?a.errors.ctaURLError:null,onChange:m,placeholder:r,theme:b("SUIBusinessTheme"),value:h})]})]},a.index)};function a(a){var c=a.ctas,d=c&&c.length?c.map(function(d,e){var f=null;a.errors&&(f=a.errors.ctaErrors.find(function(a){return a&&a.buttonNumber===e}));return b("React").jsx(l,{cta:d,ctaCount:c.length,disabled:a.disabled,errors:f,index:e,isInboxCombinedCustomQuestionTest:a.isInboxCombinedCustomQuestionTest,onCTATitleChange:a.onCTATitleChange,onCTATypeChange:a.onCTATypeChange,onCTAURLChange:a.onCTAURLChange,onRemoveCTA:a.onRemoveCTA,showCTATypes:a.showCTATypes},e)}):null,e=null;(!a.ctas||a.ctas.length<k)&&(e=b("React").jsx(b("Link.react"),{className:(a.isInboxCombinedCustomQuestionTest?"_8hrq":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-az"),onClick:a.onAddCTA,children:!a.ctas||a.ctas.length===0?i._("+ Add a button"):i._("+ Add another button")}));return b("React").jsxs("div",{children:[d,e]})}e.exports=a}),null);
__d("PagesContentEditorConstants",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Type a message...").toString();b=Object.freeze({QUESTIONNAIRE_WELCOME_MESSAGE:"questionnaireWelcomeMessage",QUESTIONNAIRE_THANK_YOU_MESSAGE:"questionnaireThankYouMessage",QUESTIONNAIRE_REMINDER_MESSAGE:"questionnaireReminderMessage",QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE:"questionnaireStopQuestionsMessage",QUESTIONNAIRE_SUMMARY_MESSAGE:"questionnaireSummaryMessage",QUESTIONNAIRE_DISQUALIFICATION_MESSAGE:"questionnaireDisqualificationMessage"});e.exports={PagesContentEditorMessageComposerSpecialTypes:b,DEFAULT_MESSAGE:a}}),null);
__d("PagesContentEditorMessageComposer.react",["cx","fbt","AdsCMFormHorizontalLine.react","FDSText.react","FileInputUploader","PagesContentEditorAttachment.react","PagesContentEditorConstants","PagesContentEditorCTASection.react","PagesReplyComposerEditorContainer.react","PagesReplyComposerToolbarContainer.react","React","ServicesDurationUnit","ServicesTimeDurationSelector.react","SUIBusinessTheme","SUIErrorComponentUtil","SUISimplePopover.react","SUITextArea.react","SUITextInput.react","URI","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("PagesContentEditorConstants").PagesContentEditorMessageComposerSpecialTypes,k="/ajax/mercury/upload.php",l=500,m=25,n=[b("ServicesDurationUnit").MINUTES,b("ServicesDurationUnit").HOURS];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:!1,hasSizeError:!1},d.$3=function(a){d.setState({hasSizeError:!1,isLoading:!1}),d.props.onSelectAttachmentType(a)},d.$4=function(a){d.$2(a);var c=d.props.pageID?new(i||(i=b("URI")))(k).addQueryData({request_user_id:d.props.pageID}).toString():new(i||(i=b("URI")))(k).toString(),e=a.target;d.$1=new(b("FileInputUploader"))(e).setURI(c);d.$1.subscribe("success",d.$5);d.$1.subscribe("failure",d.$6);d.$1.send();d.props.onImageSelect&&d.props.onImageSelect(a)},d.$5=function(a,b){d.setState({isLoading:!1}),d.props.onUploadImageSuccess(b)},d.$6=function(){d.setState({isLoading:!1}),d.props.onUploadImageFailure&&d.props.onUploadImageFailure()},d.$7=function(a){d.$2(a);var c=d.props.pageID?new(i||(i=b("URI")))(k).addQueryData({request_user_id:d.props.pageID}).toString():new(i||(i=b("URI")))(k).toString(),e=a.target;d.$1=new(b("FileInputUploader"))(e).setURI(c);d.$1.subscribe("success",d.$8);d.$1.subscribe("failure",d.$9);d.$1.send();d.props.onVideoSelect&&d.props.onVideoSelect(a)},d.$8=function(a,b){d.setState({isLoading:!1}),d.props.onUploadVideoSuccess(b)},d.$9=function(){d.setState({isLoading:!1}),d.props.onUploadVideoFailure&&d.props.onUploadVideoFailure()},d.$10=function(){d.props.onCloseAttachment(),d.setState({hasSizeError:!1,isLoading:!1})},d.$3=function(a){d.props.onSelectAttachmentType(a),d.$1&&d.$1.abort(),d.setState({hasSizeError:!1,isLoading:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a){a=a.currentTarget.files;a=a&&a[0];a=a.size/1024/1024;a>m?this.setState({hasSizeError:!0}):this.setState({hasSizeError:!1,isLoading:!0})};d.$11=function(){if(!Boolean(this.props.isInboxCombinedCustomQuestionTest)||this.props.questionText===void 0)return b("React").jsx("span",{});var a=h._("Question #{question_index_number}",[h._param("question_index_number",this.props.index+1)]);return b("React").jsxs("span",{children:[b("React").jsx("div",{className:"_8hrv",children:b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:a})}),b("React").jsx("div",{className:"_8hrn",children:b("React").jsx(b("SUITextInput.react"),{onChange:this.props.onQuestionTextChange,theme:b("SUIBusinessTheme"),value:this.props.questionText})})]})};d.$12=function(){__p&&__p();var a,c=null;switch(this.props.specialType){case j.QUESTIONNAIRE_WELCOME_MESSAGE:c=this.props.errors&&this.props.errors.questionnaireWelcomeTextError;break;case j.QUESTIONNAIRE_THANK_YOU_MESSAGE:c=this.props.errors&&this.props.errors.questionnaireThanksTextError;break;case j.QUESTIONNAIRE_REMINDER_MESSAGE:c=this.props.errors&&this.props.errors.questionnaireReminderError;break;case j.QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE:c=this.props.errors&&this.props.errors.questionnaireStopQuestionsError;break;default:c=this.props.errors&&this.props.errors.welcomeTextError;break}a={composerKey:"welcomeMessage"+((a=this.props.index)!=null?a:"")+":"+((a=this.props.numIcebreakers)!=null?a:"0"),initialDisabled:this.props.disabled===!0,initialReply:this.props.text,isAdsInterfaceSource:!1,isInboxCombinedCustomQuestionTest:this.props.isInboxCombinedCustomQuestionTest,maxCharacterLength:(a=this.props.textLimit)!=null?a:l,automationID:(a=this.props.automationID)!=null?a:null,pageID:this.props.pageID,placeholderText:(a=this.props.placeholderText)!=null?a:null,automationType:(a=this.props.automationType)!=null?a:null};return this.props.showPersonalization?b("React").jsx(o,{config:a,errorMessage:c,errorTooltipPosition:"above",messageLabel:this.props.messageLabel,onMessageChange:this.props.onMessageChange,text:this.props.text}):b("React").jsxs("span",{children:[b("React").jsxs("div",{className:"_6-b0",children:[b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:this.props.messageLabel||h._("Text")}),b("React").jsx(b("FDSText.react"),{color:"secondary",size:"meta1",children:a.maxCharacterLength-this.props.text.length})]}),b("React").jsx("div",{className:"_6-b1",children:b("React").jsx(b("SUITextArea.react"),{disabled:this.props.disabled,errorMessage:c,maxLength:a.maxCharacterLength,onChange:this.props.onMessageChange,placeholder:this.props.placeholderText,shouldAutoGrow:!0,theme:b("SUIBusinessTheme"),value:this.props.text})})]})};d.$13=function(){var a;return this.props.hideAttachmentSection?null:[this.props.isInboxCombinedCustomQuestionTest?null:b("React").jsxs("div",{className:"_3-8z _3-95",children:[b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Attachment (Optional)")}),b("React").jsx(b("SUISimplePopover.react"),{content:this.props.videoDisabled?h._("Add an image to your message."):h._("Add an image or video to your message."),theme:b("SUIBusinessTheme")})]},"AttachmentTitle"),b("React").jsx("div",{className:this.props.isInboxCombinedCustomQuestionTest?"_8hrw":"",children:b("React").jsx(b("PagesContentEditorAttachment.react"),{attachmentType:this.props.attachmentType,disabled:this.props.disabled,errors:this.props.errors,hasSizeError:this.state.hasSizeError,isInboxCombinedCustomQuestionTest:this.props.isInboxCombinedCustomQuestionTest,isLoading:this.state.isLoading,media:this.props.media,onAddAttachmentLinkPressed:this.props.onAddAttachmentLinkPressed,onClosePressed:this.$10,onImageSubtitleChange:this.props.onImageSubtitleChange,onImageTitleChange:this.props.onImageTitleChange,onImageUpload:this.$4,onSelectAttachmentType:this.$3,onVideoUpload:this.$7,videoDisabled:(a=this.props.videoDisabled)!=null?a:!1},"attachment")},"AttachmentBody")]};d.$14=function(){return this.props.hideCTASection?null:[this.props.isInboxCombinedCustomQuestionTest?null:b("React").jsxs("div",{className:"_3-8z _3-95",children:[b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Button (Optional)")}),b("React").jsx(b("SUISimplePopover.react"),{content:h._("Add a button to send people to your website."),theme:b("SUIBusinessTheme")})]},"ctaTitle"),b("React").jsx(b("PagesContentEditorCTASection.react"),{ctas:this.props.ctas,disabled:this.props.disabled,errors:this.props.errors,isInboxCombinedCustomQuestionTest:this.props.isInboxCombinedCustomQuestionTest,onAddCTA:this.props.onAddCTA,onCTATitleChange:this.props.onCTATitleChange,onCTATypeChange:this.props.onCTATypeChange,onCTAURLChange:this.props.onCTAURLChange,onRemoveCTA:this.props.onRemoveCTA,showCTATypes:this.props.showCTATypes},"ctas")]};d.$15=function(){var a;return!Boolean(this.props.showTimeSection)?null:[b("React").jsx(b("AdsCMFormHorizontalLine.react"),{},"horizLine"),b("React").jsx("div",{className:"_3-8z _3-94",children:b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Send After")})},"timeTitle"),b("React").jsx("div",{className:"_6-b0 _3-95",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:h._("How long after users drop off do you want to remind them to finish?")})},"timeSubtitle"),b("React").jsx(b("ServicesTimeDurationSelector.react"),{durationUnits:(a=this.props.timeDurationUnits)!=null?a:n,errorMsg:(a=this.props.errors)==null?void 0:a.timeInputError,onChange:(a=this.props.onTimeChange)!=null?a:b("emptyFunction"),value:this.props.time},"timeSelector")]};d.render=function(){return b("React").jsxs("div",{className:(!this.props.isInboxCombinedCustomQuestionTest&&!this.props.inDialog?"_6_oc":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _3-8-"),children:[this.$11(),this.$12(),this.$13(),this.$14(),this.$15()]})};return c}(b("React").PureComponent);function o(a){var c=b("SUIErrorComponentUtil").getErrorIcon(a,b("SUIBusinessTheme")),d=b("SUIErrorComponentUtil").getErrorBorderColor(a,b("SUIBusinessTheme")),e=h._("Automated Response (Optional)");return a.config.isInboxCombinedCustomQuestionTest===!0?b("React").jsxs("span",{children:[b("React").jsx("div",{className:"_8hrv",children:b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:e})}),b("React").jsxs("div",{className:"_8hrx",style:{borderColor:d},children:[c?b("React").cloneElement(c,babelHelpers["extends"]({},b("SUIErrorComponentUtil").getErrorTooltipProps(a),{className:"_73ta"})):null,b("React").jsx(b("PagesReplyComposerEditorContainer.react"),{className:"_8hry",config:a.config,isInboxCombinedCustomQuestionTest:!0,onReplyChange:a.onMessageChange,welcomeString:a.text},a.config.composerKey),b("React").jsx(b("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:a.config})]})]}):b("React").jsxs("span",{children:[b("React").jsxs("div",{className:"_6-b0",children:[b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:(e=a.messageLabel)!=null?e:h._("Text")}),b("React").jsx(b("FDSText.react"),{color:"secondary",size:"meta1",children:((e=a.config.maxCharacterLength)!=null?e:l)-a.text.length})]}),b("React").jsxs("div",{className:"_73t9",style:{borderColor:d},children:[c?b("React").cloneElement(c,babelHelpers["extends"]({},b("SUIErrorComponentUtil").getErrorTooltipProps(a),{className:"_73ta"})):null,b("React").jsx(b("PagesReplyComposerEditorContainer.react"),{className:"_3w-k",config:a.config,onReplyChange:a.onMessageChange,welcomeString:a.text},a.config.composerKey),b("React").jsx(b("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:a.config})]})]})}e.exports=a}),null);
__d("PagesManagerInboxAccordion.react",["cx","Link.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isExpanded:c.props.initialExpanded},c.$1=function(){(c.props.disableCollapse!==!0||!c.state.isExpanded)&&c.setState(function(a,b){return{isExpanded:!a.isExpanded}}),c.props.onClick&&c.props.onClick()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(a){a.forceOpen!==this.props.forceOpen&&this.props.forceOpen===!0&&this.state.isExpanded===!1&&this.setState({isExpanded:!0})};d.render=function(){var a=!this.state.isExpanded&&this.props.collapsedHeader!==void 0?this.props.collapsedHeader:this.props.header;return b("React").jsxs("div",{className:this.props.className,children:[b("React").jsx(b("Link.react"),{className:"_6q2e"+(this.props.useDefaultCursor===!0?" _6_nb":""),onClick:this.$1,children:a}),this.state.isExpanded?this.props.children:null]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerComposerSectionCard.react",["ix","cx","BUISwitch.react","FDSText.react","Image.react","PagesManagerInboxAccordion.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){var c;return(c=b("React")).jsxs("div",{className:"_6_od",children:[a.leftIcon,c.jsxs("div",{className:"_6_oe",children:[c.jsx(b("FDSText.react"),{size:"header3",weight:"bold",children:a.header}),c.jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:a.subtitle})]}),a.isCollapsible?a.useCollapseToggleSwitch===!0?b("React").jsx(b("BUISwitch.react"),{value:!a.isCollapsed}):b("React").jsx(b("Image.react"),{className:"_6vpp",src:a.isCollapsed?g("504840"):g("566392")}):null,Boolean(a.isRemoveable)?b("React").jsx(b("Image.react"),{className:"_6vpp",onClick:a.onRemoveMessage,src:g("478237")}):null]})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){var a;c.props.onRemoveMessage&&c.props.onRemoveMessage((a=c.props.index)!=null?a:0)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_6arn",children:b("React").jsx(b("PagesManagerInboxAccordion.react"),{children:this.props.body,collapsedHeader:b("React").jsx(i,{header:this.props.header,isCollapsed:!0,isCollapsible:this.props.isCollapsible,isRemoveable:this.props.isRemoveable,leftIcon:this.props.leftIcon,onRemoveMessage:this.$1,subtitle:this.props.collapsedSubtitle!==void 0?this.props.collapsedSubtitle:this.props.subtitle,useCollapseToggleSwitch:this.props.useCollapseToggleSwitch}),disableCollapse:!this.props.isCollapsible,forceOpen:!!this.props.forceOpen,header:b("React").jsx(i,{header:this.props.header,isCollapsed:!1,isCollapsible:this.props.isCollapsible,isRemoveable:this.props.isRemoveable,leftIcon:this.props.leftIcon,onRemoveMessage:this.$1,subtitle:this.props.subtitle,useCollapseToggleSwitch:this.props.useCollapseToggleSwitch}),initialExpanded:this.props.isCollapsible?!!this.props.initialExpanded:!0,onClick:this.props.onClick,useDefaultCursor:!this.props.isCollapsible})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerComposerTopBar.react",["ix","cssVar","cx","fbt","ContextualLayer.react","FDSButton.react","FDSText.react","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();function k(a){var c,d=(c=b("React")).jsxs("div",{className:"_4zss",style:{borderLeft:"4px solid"+a.color},children:[c.jsx("div",{className:"_75o0",children:a.leftIcon}),c.jsx(b("FDSText.react"),{size:"body3",children:a.text})]});return c.jsx(b("ContextualLayer.react"),{alignment:a.alignment,contextRef:a.contextRef,offsetY:8,position:"below",shown:!0,children:d})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(a){c.$1=a},c.$4=function(){return c.$1},c.$5=function(a){c.$2=a},c.$6=function(){return c.$2},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=null,c=null,d=null,e="#FA383E",f=b("React").jsx(b("Image.react"),{className:"_2pih",src:g("494559")});this.props.primaryError!==null&&this.props.primaryError!==void 0?(c=this.props.primaryError,a=this.$4,d="right"):this.props.previewError!==null&&this.props.previewError!==void 0?(c=this.props.previewError,a=this.$6,d="left"):this.props.previewSuccessText!==null&&this.props.previewSuccessText!==void 0&&(c=this.props.previewSuccessText,a=this.$6,d="left",e="#00A400",f=b("React").jsx(b("Image.react"),{src:g("506114")}));var h=b("React").jsx("span",{className:"_2phz",children:b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("492063")}),label:this.props.previewButtonText,onClick:this.props.onPreviewClick,ref:this.$5})});return b("React").jsxs("div",{className:"_4qd8",children:[b("React").jsx("span",{className:"_4qd9",children:b("React").jsx(b("FDSText.react"),{size:"header3",weight:"bold",children:this.props.headerContent})}),b("React").jsxs("div",{className:"_4qd7",children:[b("React").jsxs("span",{className:"_2phz",children:[this.props.hidePreviewButton!==!0?h:null,this.props.showCancelButton===!0?b("React").jsx(b("FDSButton.react"),{isDisabled:this.props.cancelDisabled,label:j._("Cancel"),onClick:this.props.onCancel}):null,this.props.showDeleteButton===!0?b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("481982")}),isDisabled:this.props.deleteButtonDisabled,label:j._("Delete"),onClick:this.props.onDeleteClick}):null]}),b("React").jsx("span",{className:"_2phz",children:b("React").jsx(b("FDSButton.react"),{isDisabled:this.props.sendDisabled,label:this.props.primaryButtonText,onClick:this.props.onPrimaryClick,ref:this.$3,use:"primary"})}),c!==null&&a&&d?b("React").jsx(k,{alignment:d,color:e,contextRef:a,leftIcon:f,text:c}):null]})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("IGDirectMessageGroupProfilePic.react",["cx","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=3/4;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx("div",{className:"_73qb",children:this.props.imageURIs.filter(function(a){return a!==null}).map(function(c,d){return b("React").jsx(b("Image.react"),{className:"_1-3q _73qa",height:a.props.imageSize*h,src:c,width:a.props.imageSize*h},d)})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("InstagramMessageThreadItemWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2595554300462774"};b.getQueryID=function(){return"325943938338406"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("InstagramMessageThreadItemsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2581139891978691"};b.getQueryID=function(){return"548707749023766"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("InstagramBusinessMessageInboxQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2562177080536219"};b.getQueryID=function(){return"398982634310744"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("InstagramMessageThreadsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2742565699100943"};b.getQueryID=function(){return"1199894503543494"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("PagesManagerInboxUnifiedThreadlistAction",["PagesManagerActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a={setInstagramInbox:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.SET_INSTAGRAM_INBOX,instagramInbox:a})},setIsLoadingInbox:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.LOADING_INSTAGRAM_INBOX,isLoadingInbox:a})},setInstagramLoadingError:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.SET_INSTAGRAM_LOADING_ERROR,hasError:a})}};e.exports=a}),null);
__d("XInstagramDirectMessagingSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/unified_inbox/instagram_direct/send/",{request_user_id:{type:"FBID"},client_thread_id:{type:"String"},offline_threading_id:{type:"String"},source:{type:"String"},action_type:{type:"Enum",enumType:1}})}),null);
__d("PageCommItemActionType",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({DONE:null,FOLLOW_UP:null,UN_FOLLOW_UP:null,INBOX:null,MARK_READ:null,MARK_UNREAD:null,SPAM:null,DELETE:null,MORE:null});e.exports=a}),null);
__d("PagesManagerInboxCometUtil",["cx","fbt","Env","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j={shouldShowCometNewDesign:function(){var a=b("PagesManagerInboxStore").getBusinessInboxAppConfig(),c=!1;if(a==null){var d;c=(d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowCometInboxRedesign)!=null?d:!1}else{c=(a=(d=a.inboxRedesignConfig)==null?void 0:d.shouldShowCometInboxRedesign)!=null?a:!1}return(i||(i=b("Env"))).isCQuick&&c},cometSearchInputHeight:function(){var a;a=(a=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowCometInboxRedesign)!=null?a:!1;return(i||(i=b("Env"))).isCQuick&&a?54:0},cometBadgeCountText:function(a,b,c){var d="";a!=null&&(b==="MESSENGER"||b==="INSTAGRAM_DIRECT"?d=h._({"*":"{number} messages","_1":"1 message"},[h._plural(a,"number")]):(b==="FACEBOOK"||b==="INSTAGRAM")&&(d=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(a,"number")])));return j.showCometBadgeCountText(d,c)},showCometBadgeCountText:function(a,c){return b("React").jsxs("div",{className:"_8fgz",children:[b("React").jsx("div",{className:"_8fg5"}),b("React").jsx("div",{className:"_8fg6","data-testid":c,children:a})]})}};e.exports=j}),null);
__d("PagesManagerInboxUnifiedThreadlistUtil",["MediaManagerUtils","PagesManagerInboxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerUtils").isMediaManagerApp;a={shouldShowUnifiedThreadlist:function(){var a=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(a!=null){a=(a=(a=a.inboxRedesignConfig)==null?void 0:a.shouldShowUnifiedThreadlist)!=null?a:!1;return a&&!g()}else{var c;a=(c=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowUnifiedThreadlist)!=null?c:!1}return a&&!g()},shouldShowUnifiedThreadlistSeparatedTab:function(){var a=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(a!=null){a=(a=(a=a.inboxRedesignConfig)==null?void 0:a.shouldShowUnifiedThreadlistSeparatedTab)!=null?a:!1;return a&&!g()}else{var c;a=(c=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowUnifiedThreadlistSeparatedTab)!=null?c:!1}return a&&!g()}};e.exports=a}),null);
__d("PageCommItemStatusUtil",["ix","cssVar","fbt","invariant","PageCommItemActionType","PageCommItemFolder","PageCommItemStatus","PagesManagerInboxCometUtil","PagesManagerInboxFilterStore","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","asset","fbglyph"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,l=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlistSeparatedTab,m="ARCHIVED",n=(a={},a[(c=b("PageCommItemFolder")).TODO]=i._("Main"),a[c.FOLLOW_UP]=i._("Follow Up"),a[c.DONE]=i._("Done"),a[c.SPAM]=i._("Spam"),a[c.UNREAD]=i._("Unread"),a[c.MESSENGER_THREADS]=i._("Messenger"),a[c.INSTAGRAM_THREADS]=i._("Instagram Direct"),a[c.PRIORITY]=i._("Priority"),a),o={getFolders:function(a){var c;c=[(c=b("PageCommItemFolder")).TODO,c.FOLLOW_UP,c.DONE,c.SPAM];a===b("PageCommItemFolder").UNREAD?c.splice(0,0,b("PageCommItemFolder").UNREAD):c.splice(1,0,b("PageCommItemFolder").UNREAD);return c},getInboxFolders:function(a){a=[b("PageCommItemFolder").TODO,b("PageCommItemFolder").DONE,b("PageCommItemFolder").SPAM];return a},getFilters:function(a){var c=[b("PageCommItemFolder").FOLLOW_UP];a===b("PageCommItemFolder").UNREAD?c.splice(0,0,b("PageCommItemFolder").UNREAD):c.splice(1,0,b("PageCommItemFolder").UNREAD);a=k();var d=l();a&&!d&&c.unshift(b("PageCommItemFolder").MESSENGER_THREADS,b("PageCommItemFolder").INSTAGRAM_THREADS);return c},PageCommItemFolderLabelConfig:n,getLabel:function(a){return n[a]},getToolTipLabel:function(a){__p&&__p();var c=o.getFolderQECheck();if(c)switch(a){case b("PageCommItemFolder").TODO:return i._("Move to Main");case b("PageCommItemFolder").FOLLOW_UP:return i._("Mark as Follow Up");case b("PageCommItemFolder").DONE:return i._("Move to Done");case b("PageCommItemFolder").SPAM:return i._("Move to Spam");default:j(0,1566,a)}switch(a){case b("PageCommItemFolder").TODO:return i._("Move to Main");case b("PageCommItemFolder").FOLLOW_UP:return i._("Mark as follow up");case b("PageCommItemFolder").DONE:return i._("Mark as done");case b("PageCommItemFolder").SPAM:return i._("Mark as spam");default:j(0,1566,a)}},getStarLabel:function(a){switch(a){case b("PageCommItemStatus").FOLLOW_UP:return i._("Mark as Follow Up");case b("PageCommItemStatus").TODO:return i._("Remove from Follow Up");default:j(0,1567,a)}},getColor:function(a,c){__p&&__p();if(c)switch(a){case b("PageCommItemStatus").FOLLOW_UP:return"#000000";case b("PageCommItemStatus").TODO:case b("PageCommItemStatus").DONE:case b("PageCommItemStatus").SPAM:return"#000000";case b("PageCommItemStatus").UNREAD:return"#000000";default:j(0,1568,a)}switch(a){case b("PageCommItemStatus").TODO:return"#90949c";case b("PageCommItemStatus").FOLLOW_UP:return"#90949c";case b("PageCommItemStatus").DONE:return"#90949c";case b("PageCommItemStatus").SPAM:return"#90949c";case b("PageCommItemStatus").UNREAD:return"#90949c";default:j(0,1568,a)}},getFolderStatus:function(a){switch(a){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").UNREAD:case b("PageCommItemFolder").MESSENGER_THREADS:case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").PRIORITY:case b("PageCommItemFolder").MEDIA_MANAGER_TOP_COMMENT:case b("PageCommItemFolder").MEDIA_MANAGER_TOP_MESSAGE:case b("PageCommItemFolder").MEDIA_MANAGER_ALL_TOP_PRIORITY:return b("PageCommItemStatus").TODO;case b("PageCommItemFolder").FOLLOW_UP:return b("PageCommItemStatus").FOLLOW_UP;case b("PageCommItemFolder").DONE:return b("PageCommItemStatus").DONE;case b("PageCommItemFolder").SPAM:return b("PageCommItemStatus").SPAM;default:j(0,1568,status)}},getIGDirectFolder:function(a,c){var d=null;a===b("PageCommItemFolder").SPAM?d=b("PageCommItemFolder").SPAM:a===b("PageCommItemFolder").DONE?d=m:a===b("PageCommItemFolder").TODO&&(c===b("PageCommItemFolder").SPAM||c===b("PageCommItemFolder").DONE)&&(d=b("PageCommItemFolder").TODO);return d},getThreadsManagementStatus:function(a){return this.getIsFilter(a)?b("PageCommItemFolder").TODO:a},getIsFilter:function(a){return a===b("PageCommItemFolder").UNREAD||a===b("PageCommItemFolder").FOLLOW_UP||a===b("PageCommItemFolder").MESSENGER_THREADS||a===b("PageCommItemFolder").INSTAGRAM_THREADS},getActionParam:function(a,c,d,e){d===void 0&&(d=!0);var f=o.getFolderQECheck(),g=a==="INSTAGRAM_DIRECT",h=(a==="FACEBOOK"||a==="MESSENGER"||a==="INSTAGRAM"||a==="INSTAGRAM_DIRECT")&&c!==b("PageCommItemFolder").SPAM,i=e&&(e.is_read===!1||e.unread_count>0);e=e&&(e.comm_status===b("PageCommItemFolder").FOLLOW_UP||e.is_follow_up);var j=c!==b("PageCommItemFolder").DONE&&h,k=c===b("PageCommItemFolder").UNREAD;a=b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()&&(g||a==="MESSENGER");return f?{showDone:j,showFollowUp:c!==b("PageCommItemFolder").FOLLOW_UP&&j&&!e,showInbox:c===b("PageCommItemFolder").SPAM||c===b("PageCommItemFolder").DONE,showMarkRead:i!=null?i&&j:k&&j,showMarkUnread:i!=null?!i&&j:!k&&j,showSpam:j,showUnFollowup:e!=null&&j?e:!1,showDelete:d,showMore:a}:{showDone:j&&!g,showFollowUp:c!==b("PageCommItemFolder").FOLLOW_UP&&!e&&!g,showInbox:c!==b("PageCommItemFolder").TODO&&!g,showMarkRead:i!=null?i&&!g:k,showMarkUnread:i!=null?!i&&!g:!k,showSpam:h&&!g,showUnFollowup:(f=e&&!g)!=null?f:!1,showDelete:d,showMore:a}},getUnreadStatusForMutation:function(a,c,d){if(!c)return null;if(a===b("PageCommItemFolder").UNREAD||a===b("PageCommItemActionType").MARK_UNREAD)return!1;else if((a===b("PageCommItemFolder").TODO||a===b("PageCommItemActionType").MARK_READ)&&c.is_read===!1&&d!==b("PageCommItemFolder").SPAM&&d!==b("PageCommItemFolder").DONE)return!0;else return null},getFollowUpStatusForMutation:function(a,c,d){if(!c)return null;if(a===b("PageCommItemFolder").FOLLOW_UP)return!0;else if(a===b("PageCommItemFolder").TODO&&c.is_follow_up===!0&&d!==b("PageCommItemFolder").SPAM&&d!==b("PageCommItemFolder").DONE)return!1;else return null},getFolderColor:function(a,b){return o.getColor(o.getFolderStatus(a),b)},getFolderQECheck:function(){var a=b("PagesManagerInboxFilterStore").getActiveType(),c=b("PagesManagerInboxStore").getBusinessInboxAppConfig(),d=!1,e=!1;if(c!=null){var f;d=Boolean((f=c.inboxRedesignConfig)==null?void 0:f.shouldShowNewMessengerFolder)&&a==="MESSENGER";e=Boolean((f=c.inboxRedesignConfig)==null?void 0:f.shouldShowNewIGDirectFolder)&&a==="INSTAGRAM_DIRECT";c=Boolean((f=c.inboxRedesignConfig)==null?void 0:f.shouldShowNewCommentsFolder)&&(a==="INSTAGRAM"||a==="FACEBOOK")}else d=Boolean(b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMessengerFolder)&&a==="MESSENGER",e=Boolean(b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewIGDirectFolder)&&a==="INSTAGRAM_DIRECT",c=Boolean(b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewCommentsFolder)&&(a==="INSTAGRAM"||a==="FACEBOOK");return d||e||c},getIGDStatus:function(a){switch(a){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").UNREAD:case b("PageCommItemFolder").MESSENGER_THREADS:case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").PRIORITY:return b("PageCommItemStatus").TODO;case b("PageCommItemFolder").FOLLOW_UP:return b("PageCommItemStatus").FOLLOW_UP;case b("PageCommItemFolder").DONE:return b("PageCommItemStatus").DONE;case b("PageCommItemFolder").SPAM:return b("PageCommItemStatus").SPAM;default:return b("PageCommItemStatus").TODO}},getFolderImage:function(a,c){__p&&__p();var d;if(c)switch(a){case b("PageCommItemFolder").TODO:d=g("982942");break;case b("PageCommItemFolder").FOLLOW_UP:d=g("982961");break;case b("PageCommItemFolder").DONE:d=g("786413");break;case b("PageCommItemFolder").SPAM:d=g("982949");break;case b("PageCommItemFolder").UNREAD:d=g("982928");break;case b("PageCommItemFolder").MESSENGER_THREADS:d=g("1104734");break;case b("PageCommItemFolder").INSTAGRAM_THREADS:d=g("1104724");break}else switch(a){case b("PageCommItemFolder").TODO:d=g("686001");break;case b("PageCommItemFolder").FOLLOW_UP:d=g("479365");break;case b("PageCommItemFolder").DONE:d=g("124181");break;case b("PageCommItemFolder").SPAM:d=g("585265");break;case b("PageCommItemFolder").UNREAD:d=g("483099");break;case b("PageCommItemFolder").PRIORITY:d=g("880209");break}return d}};e.exports=o}),null);
__d("ConversationDeleteConfirmationDialog.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c;return(c=b("React")).jsx(b("FDSModal.react"),{footer:c.jsx(b("FDSModalFooter.react"),{primaryButton:c.jsx(b("FDSButton.react"),{"data-testid":"delete_thread_confirm",label:g._("Delete"),onClick:a.onConfirm,use:"primary"}),secondaryButton:c.jsx(b("FDSButton.react"),{label:g._("Cancel"),onClick:a.onHide})}),header:c.jsx(b("FDSModalHeader.react"),{title:g._("Delete Conversation")}),isShown:a.shown,label:"Delete Modal",onHide:a.onHide,children:c.jsx(b("FDSSection.react"),{children:a.platform!=="INSTAGRAM_DIRECT"?g._("This will permanently delete the conversation history."):g._("Deleting removes the conversation from your inbox, but no one else's inbox.")})})}e.exports=a}),null);
__d("PagesManagerInboxBlockMessagesDialog.react",["fbt","FDSButton.react","FDSButtonSpinner.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=g._("Block Messages From this Page?"),d=g._("You will no longer receive messages from {name}, or be able to send messages to their Page. They won't be notified that you blocked them, and you can unblock at any time.",[g._param("name",a.pageName)]);a.isBlocked&&(c=g._("Unblock Messages From this Page?"),d=g._("You'll be able to send and receive messages from {name} again, but you won't see any messages they sent while blocked. They won't be notified of a change because they couldn't see that they were blocked before.",[g._param("name",a.pageName)]));return b("React").jsx(b("FDSModal.react"),{footer:b("React").jsx(b("FDSModalFooter.react"),{primaryButton:b("React").jsx(b("FDSButton.react"),{busyIndicator:a.isBlocking?b("React").jsx(b("FDSButtonSpinner.react"),{}):null,isDisabled:a.isBlocking,label:a.isBlocked?g._("Unblock Messages"):g._("Block Messages"),onClick:a.onConfirm,use:"primary"}),secondaryButton:b("React").jsx(b("FDSCancelButton.react"),{isDisabled:a.isBlocking})}),header:b("React").jsx(b("FDSModalHeader.react"),{title:c}),isShown:a.shown,label:c,onHide:a.onHide,children:b("React").jsx(b("FDSSection.react"),{children:b("React").jsx(b("FDSText.react"),{children:d})})})}e.exports=a}),null);
__d("PagesManagerInboxCometHeaderMoreOptionsMenu.react",["ix","fbt","FDSDropdownMenu.react","Image.react","React","asset","cxMargin","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=b("joinClasses")(a.className,"_3-8w");return b("React").jsx("div",{className:c,children:b("React").jsx(b("FDSDropdownMenu.react"),{buttonIcon:b("React").jsx(b("Image.react"),{src:g("484387")}),buttonUse:"flatWhite",fdsOverride_isChevronHidden:!0,items:a.items,label:"",menuAlignment:"right",onMenuButtonClick:a.onClick,tooltip:h._("More options")})})}e.exports=a}),null);
__d("PagesManagerInboxHeaderMoreOptionsMenu.react",["fbt","FDSDropdownMenu.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").jsx("div",{className:a.className,children:b("React").jsx(b("FDSDropdownMenu.react"),{buttonUse:"flat",items:a.items,label:g._("More Items"),onMenuButtonClick:a.onClick,useEllipsisIcon:!0})})}e.exports=a}),null);
__d("BusinessInboxMultiAdminAssignmentUpdateFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_multi_admin_assignment_update");e.exports=a}),null);
__d("BusinessInboxPostFolderUpdateFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_post_folder_update");e.exports=a}),null);
__d("BusinessInboxSwitchFolderClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_switch_folder_click");e.exports=a}),null);
__d("BusinessInboxThreadFolderUpdateFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_thread_folder_update");e.exports=a}),null);
__d("PagesManagerInboxLogger",["BusinessInboxMultiAdminAssignmentUpdateFalcoEvent","BusinessInboxPostFolderUpdateFalcoEvent","BusinessInboxSwitchFolderClickFalcoEvent","BusinessInboxThreadFolderUpdateFalcoEvent","CurrentUser","PagesManagerInboxTypedLogger","PagesMessagingInboxActionsTypedLogger","PagesMessagingPerfTypedLogger","TimeSliceInteraction","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({ERROR_GRAPH_QL:null,ERROR_JS:null,INITIAL_DATA_LOADED:null,INITIAL_LIST_RENDERED:null,INITIAL_LOAD:null,ITEM_DETAILS_LOADED:null,ITEM_LOADED:null,START_LOADING_ITEM_DETAILS:null,START_LOADING_ITEM:null,BROADCAST_MESSAGE_FORMAT:null,ITEM_STATUS_CHANGED:null,ITEM_STATUS_CHANGED_THREAD:null,ITEM_STATUS_CHANGED_HEADER:null,FOLDER_CHANGE_CLICKED:null,PLATFORM_CHANGE_TAB_CLICKED:null,SEND_COMMENT:null,SEND_MESSAGE:null,SEARCH_CLICKED:null,CONTENT_SEARCH_CLICKED:null,CREATE_BROADCAST_BUTTON_RENDERED:null,CREATE_BROADCAST_BUTTON_CLICKED:null,SEND_BROADCAST_BUTTON_CLICKED:null,SEND_BROADCAST_CONFIRM_BUTTON_CLICKED:null,BROADCAST_HISTORY_ROW_CLICK:null,AUTOMATED_RESPONSES_ENTRYPOINT_RENDERED:null,AUTOMATION_ENABLED:null,AUTOMATION_DISABLED:null,AUTOMATED_RESPONSES_SAVE_CLICK:null}),h,i,j=!0,k,l={init:function(a){h=a,i=Date.now(),l.create(g.INITIAL_LOAD).setScreenHeight(screen.height).setScreenWidth(screen.width).log()},logInitialListRendered:function(a,c){if(!j)return;j=!1;l.create(g.INITIAL_LIST_RENDERED).setTimeSinceLoad(Date.now()-i).setPlatform(a).log();b("TimeSliceInteraction").informOnPage(g.INITIAL_LIST_RENDERED)},create:function(a){return new(b("PagesManagerInboxTypedLogger"))().setEventName(a).setPageID(h).setHref(window.location.href)},logErrorJS:function(a,b){l.create(g.ERROR_JS).setMessage(a.message).setStackTrace(a.stack).setModuleName(b).log()},logErrorGraphQL:function(a){l.create(g.ERROR_GRAPH_QL).setMessage(a.message).setStackTrace(a.stack).log()},startLoadingItem:function(a){if(k&&k.commItemID===a)return;k&&k.interaction.disable();k={commItemID:a,interaction:b("TimeSliceInteraction").create("pages_inbox_www.loading_item"),isCached:!0,startTimestamp:Date.now()};l.create(g.START_LOADING_ITEM).setPageCommItemID(a).log()},itemInitialDataLoaded:function(a){if(!k||k.commItemID!==a)return;k.interaction.inform("initial data loaded");l.create(g.INITIAL_DATA_LOADED).setPageCommItemID(a).setLoadTime(Date.now()-k.startTimestamp).log()},startLoadingItemDetails:function(a,b){if(!k||k.commItemID!==a)return;k.platform=b;k.isCached=!1;k.interaction.inform("loading details");l.create(g.START_LOADING_ITEM_DETAILS).setPageCommItemID(a).setPlatform(b).setLoadTime(Date.now()-k.startTimestamp).log()},itemDetailsLoaded:function(a,b){if(!k||k.commItemID!==a)return;k.interaction.inform("item details loaded");l.create(g.ITEM_DETAILS_LOADED).setPageCommItemID(a).setPlatform(b).setLoadTime(Date.now()-k.startTimestamp).log()},startLoadingThread:function(a,c){if(k&&k.commItemID===a)return;k&&k.interaction.disable();k={commItemID:a,interaction:b("TimeSliceInteraction").create("pages_inbox_www.loading_item"),isCached:!0,startTimestamp:Date.now()};l.create(g.START_LOADING_ITEM).setThreadToken(a).setPlatform(c).log();new(b("PagesMessagingPerfTypedLogger"))().setPageID(h).setThreadID(a).setPlatform(c).setEventName("messages_messagelist_load_start").log()},threadDetailsLoaded:function(a,c){if(!k||k.commItemID!==a)return;k.interaction.inform("item details loaded");var d=Date.now()-k.startTimestamp;l.create(g.ITEM_DETAILS_LOADED).setThreadToken(a).setPlatform(c).setLoadTime(d).log();new(b("PagesMessagingPerfTypedLogger"))().setPageID(h).setThreadID(a).setPlatform(c).setEventName("messages_messagelist_load_end").setPerfTime(d).log();k=null},itemRendered:function(a){if(!k||k.commItemID!==a)return;k.interaction.inform("item rendered");k.interaction.finish();l.create(g.ITEM_LOADED).setIsCached(k.isCached).setPageCommItemID(a).setLoadTime(Date.now()-k.startTimestamp).setPlatform(k.platform).setTraceID(k.interaction.getTraceID()).log();k=null},logBroadcastMessageFormat:function(a){l.create(g.BROADCAST_MESSAGE_FORMAT).setBroadcastMessageFormat(a).log()},getFolderEventLoggingData:function(a,c,d){__p&&__p();var e="unknown",f="facebook";switch(a){case"FACEBOOK":case"GROUP":e="facebook";break;case"MESSENGER":e="messenger";break;case"INSTAGRAM":e="instagram";f="instagram";break;case"INSTAGRAM_DIRECT":e="instagram_direct";f="instagram";break;case"WEC":case"ALL":e="unified_threads";f="unknown";break}return{event_location:"unknown",page_id:h,ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:f,client_timestamp_ms:Date.now(),inbox_platform:e,thread_id:null,consumer_id:null,referrer:window.location.href,event_data:{source_folder:c,target_folder:d}}},itemStatusChanged:function(a,b,c,d){d=d||null;l.create(g.ITEM_STATUS_CHANGED).setPageCommItemID(a).setPageCommItemStatus(c).setPlatform(b).setPageCommSearchType(d).log()},itemStatusChangedInThread:function(a,c,d,e,f){var h=this;f=f||null;l.create(g.ITEM_STATUS_CHANGED_THREAD).setFolder(e).setPageCommItemID(a).setPageCommItemStatus(d).setPlatform(c).setPageCommSearchType(f).log();b("BusinessInboxThreadFolderUpdateFalcoEvent").log(function(){return h.getFolderEventLoggingData(c,d,e)})},itemStatusChangedInHeader:function(a,c,d,e){var f=this;l.create(g.ITEM_STATUS_CHANGED_HEADER).setFolder(e).setPageCommItemID(a).setPageCommItemStatus(d).setPlatform(c).log();b("BusinessInboxPostFolderUpdateFalcoEvent").log(function(){return f.getFolderEventLoggingData(c,d,e)})},logFolderChangeClick:function(a,b){l.create(g.FOLDER_CHANGE_CLICKED).setFolder(b).setPlatform(a).log()},logFolderSwitchClick:function(a,c,d){var e=this;b("BusinessInboxSwitchFolderClickFalcoEvent").log(function(){return e.getFolderEventLoggingData(a,c,d)})},logPlatformChangedClicked:function(a,b){l.create(g.PLATFORM_CHANGE_TAB_CLICKED).setPlatform(a).setViewMode(b).log()},logSendComment:function(a,c,d,e){d===void 0&&(d=null),e===void 0&&(e=null),new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("send_comment").setPlatform(a).addToExtraData("page_id",c).addToExtraData("comment_fbid",d).addToExtraData("post_fbid",e).log(),l.create(g.SEND_COMMENT).setPlatform(a).log()},logMarkAsUnread:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("mark_as_unread").addToExtraData("page_id",c).log()},logAdminAssignmentAction:function(a,c,d){var e={logged_in_user_id:b("CurrentUser").getID(),page_id:a,inbox_platform:"unified_threads",logged_in_user_type:"facebook",event_location:"unknown",event_data:{action:c,tag:d}};b("BusinessInboxMultiAdminAssignmentUpdateFalcoEvent").log(function(){return e})},logCommentReaction:function(a,c,d,e,f){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("reaction").setPlatform(a).addToExtraData("page_id",c).addToExtraData("comment_fbid",d).addToExtraData("post_fbid",e).addToExtraData("reaction_type",f).log()},logSendMessage:function(a,c,d){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("send_message").setPlatform(a).addToExtraData("page_id",c).addToExtraData("enter_to_send_enabled",d.toString()).log(),l.create(g.SEND_MESSAGE).setPlatform(a).log()},logReceiveMessage:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("receive_message").setPlatform(a).addToExtraData("page_id",c).log()},logSearchClick:function(a,b){l.create(g.SEARCH_CLICKED).setPageCommSearch(a).setPlatform(b).log()},logContentSearchClicked:function(a,b){l.create(g.CONTENT_SEARCH_CLICKED).setPageCommSearchType(a).setPageCommSearch(b).log()},logBroadcastButtonRendered:function(){l.create(g.CREATE_BROADCAST_BUTTON_RENDERED).log()},logBroadcastButtonClicked:function(){l.create(g.CREATE_BROADCAST_BUTTON_CLICKED).log()},logBroadcastSendButtonClicked:function(a){l.create(g.SEND_BROADCAST_BUTTON_CLICKED).setBroadcastAudience(a).log()},logBroadcastConfirmationButtonClicked:function(){l.create(g.SEND_BROADCAST_CONFIRM_BUTTON_CLICKED).log()},logBroadcastHistoryRowClicked:function(){l.create(g.BROADCAST_HISTORY_ROW_CLICK).log()},logAutomatedResponsesRendered:function(){l.create(g.AUTOMATED_RESPONSES_ENTRYPOINT_RENDERED).log()},logAutomatedResponsesEnabled:function(a){l.create(g.AUTOMATION_ENABLED).setAutomatedResponseTriggerType(a).log()},logAutomatedResponsesDisabled:function(a){l.create(g.AUTOMATION_DISABLED).setAutomatedResponseTriggerType(a).log()},logAutomatedResponsesSaveClicked:function(a,b){l.create(g.AUTOMATED_RESPONSES_SAVE_CLICK).setAutomatedResponseTriggerType(a).setHadError(b).log()}};e.exports=l}),null);
__d("PagesManagerInboxBlockMessagesMenu.react",["cx","fbt","PagesManagerInboxBlockMessagesDialog.react","PagesManagerInboxCometHeaderMoreOptionsMenu.react","PagesManagerInboxCometUtil","PagesManagerInboxHeaderMoreOptionsMenu.react","PagesManagerInboxLogger","React","RelayFBEnvironment","RelayModern","nullthrows","PagesManagerInboxBlockMessagesMenuMutation.graphql","PagesManagerInboxBlockMessagesMenu_itemPage.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=b("RelayModern").commitMutation;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isBlocking:!1,isDialogShown:!1},d.$2=function(){d.$1("block_messages_menu_clicked")},d.$3=function(){d.setState({isDialogShown:!1})},d.$5=function(){var a=Boolean(d.props.itemPage.is_message_blocked_by_viewer),c=a?"unblock_messages_confirm":"block_messages_confirm";d.$1(c);d.setState({isBlocking:!0});k(b("RelayFBEnvironment"),{mutation:i!==void 0?i:i=b("PagesManagerInboxBlockMessagesMenuMutation.graphql"),variables:{input:{actor_id:d.props.pageID,target_id:b("nullthrows")(d.props.itemPage.id),should_be_blocked:!a}},onCompleted:function(){return d.setState({isBlocking:!1,isDialogShown:!1})},onError:function(){return d.setState({isBlocking:!1})}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){b("PagesManagerInboxLogger").create(a).log()};d.$4=function(){var a=Boolean(this.props.itemPage.is_message_blocked_by_viewer);a=a?"unblock_messages_click":"block_messages_click";this.$1(a);this.setState({isDialogShown:!0})};d.render=function(){var a=this,c=Boolean(this.props.itemPage.is_message_blocked_by_viewer),d=c?h._("Unblock messages"):h._("Block messages");d=[{type:"item",label:d,onClick:function(){return a.setState({isDialogShown:!0})}}];return b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?b("React").jsxs("div",{children:[b("React").jsx(b("PagesManagerInboxBlockMessagesDialog.react"),{isBlocked:c,isBlocking:this.state.isBlocking,onConfirm:this.$5,onHide:this.$3,pageName:(c=this.props.itemPage.name)!=null?c:"",shown:this.state.isDialogShown}),b("React").jsx(b("PagesManagerInboxCometHeaderMoreOptionsMenu.react"),{items:d,onClick:this.$2})]}):b("React").jsx(b("PagesManagerInboxHeaderMoreOptionsMenu.react"),{className:"_653e _3-8m",items:d,onClick:this.$2})};return c}(b("React").PureComponent);e.exports=a(c,{itemPage:j!==void 0?j:j=b("PagesManagerInboxBlockMessagesMenu_itemPage.graphql")})}),null);
__d("PagesManagerInboxListAction",["PagesManagerActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a={setInboxListResponseData:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.SET_RESPONSE_DATA,isReady:a})},itemFolderChange:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.ITEM_FOLDER_CHANGE,ids:a,newFolder:c,oldFolder:d})},removeMutatedItem:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.REMOVE_ITEM_FOLDER_CHANGE,ids:a})},banStatusChange:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.BAN_STATUS_CHANGE,isBanned:c,userName:a})},removeBanNotice:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.REMOVE_BAN_NOTICE})}};e.exports=a}),null);
__d("PagesManagerInboxCometBanUserMenu.react",["fbt","AsyncRequest","CRMBanReportUserDialog.react","PagesManagerInboxCometHeaderMoreOptionsMenu.react","PagesManagerInboxListAction","PagesManagerInboxLogger","React","XPagesBanUserDataController","XPagesUnbanUserDataController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1,isBanned:d.props.isBanned},d.$2=function(){d.$1("ban_user_menu_clicked")},d.$3=function(){var a=d.state.isBanned?"unban_user_click":"ban_user_click";d.$1(a);d.setState({showDialog:!0})},d.$5=function(){d.setState({showDialog:!1})},d.$6=function(){var a=d.state.isBanned?"unban_user_confirm":"ban_user_click",c=d.state.isBanned?b("XPagesUnbanUserDataController").getURIBuilder():b("XPagesBanUserDataController").getURIBuilder();c=c.setFBID("page_id",d.props.pageID).setFBIDVector("user_ids",[d.props.userID]).getURI();new(b("AsyncRequest"))().setURI(c).setHandler(function(a){a.payload.success&&(b("PagesManagerInboxListAction").banStatusChange(d.props.userName,!d.state.isBanned),d.setState(function(a){return{isBanned:!a.isBanned}}))}).send();d.$1(a);d.setState({showDialog:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){b("PagesManagerInboxLogger").create(a).log()};d.$4=function(a,b){return{type:"item",label:a,onClick:b}};d.render=function(){if(this.props.userID===null||this.props.userID===void 0)return null;var a=this.state.isBanned?g._("Remove Ban from Page?"):g._("Ban from Page");a=[this.$4(a,this.$3)];return b("React").jsxs("div",{children:[b("React").jsx(b("CRMBanReportUserDialog.react"),{isBanned:this.state.isBanned,onConfirm:this.$6,onHide:this.$5,shown:this.state.showDialog,userName:this.props.userName}),b("React").jsx(b("PagesManagerInboxCometHeaderMoreOptionsMenu.react"),{items:a,onClick:this.$2})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxCometDetailHeaderActionUnit.react",["cx","PageCommItemActionType","React","Tooltip","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="actionItem";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){__p&&__p();switch(this.props.actionType){case b("PageCommItemActionType").INBOX:return"_8g6y";case b("PageCommItemActionType").FOLLOW_UP:return"_8g6-";case b("PageCommItemActionType").UN_FOLLOW_UP:return"_8g4h";case b("PageCommItemActionType").DONE:return"_8g4i";case b("PageCommItemActionType").MARK_READ:return"_8g4j";case b("PageCommItemActionType").MARK_UNREAD:return"_8g4k";case b("PageCommItemActionType").SPAM:return"_8g4l";case b("PageCommItemActionType").DELETE:return"_8g4m"}return""};d.$2=function(){var a=b("React").jsx("div",babelHelpers["extends"]({className:"_8g4p"},b("Tooltip").propsFor(this.props.actionLabel,"below"),{ref:h,children:b("React").jsx("div",{className:b("joinClasses")("_8g4q",this.$1())})}));return a};d.render=function(){return b("React").jsx("div",{className:b("joinClasses")("_8g4r"),"data-testid":this.props.actionId,fullHeight:!0,horizontal:!1,onClick:this.props.onClick,vertical:!0,children:this.$2()})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxMercuryUtil",["PagesManagerInboxFilterStore"],(function(a,b,c,d,e,f){"use strict";a={shouldUseMercury:function(){return b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER"||b("PagesManagerInboxFilterStore").getActiveType()==="WEC"||b("PagesManagerInboxFilterStore").getActiveType()==="INSTAGRAM_DIRECT"},shouldUseMercuryForFollowUp:function(){return b("PagesManagerInboxFilterStore").getActiveType()!=="MESSENGER"?!1:!0}};e.exports=a}),null);
__d("PageAutomationTrigger",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({POSITIVE_RECOMMENDATION:"positive_recommendation",NEGATIVE_RECOMMENDATION:"negative_recommendation",CRM_REENGAGEMENT:"crm_reengagement",SMART_REPLY_CONTACT:"smart_reply_contact",SMART_REPLY_HOURS:"smart_reply_hours",SMART_REPLY_LOCATION:"smart_reply_location",SMART_REPLY_NEGATIVE_FEEDBACK:"smart_reply_negative_feedback",SMART_REPLY_POSITIVE_FEEDBACK:"smart_reply_positive_feedback",JOB_APPLICATION:"job_application",AWAY_MESSAGE:"away_message",INSTANT_REPLY:"instant_reply",APPOINTMENT_REMINDER:"appointment_reminder",SAVED_REPLY:"saved_reply",MBS_REENGAGEMENT:"mbs_reengagement",BECOME_SUPPORTER:"become_supporter",ICEBREAKER:"icebreaker",AUTOMATED_CHECKOUT:"automated_checkout",ORGANIC_INTAKE_FORM:"organic_intake_form",CUSTOM_QUESTIONS:"custom_questions",APPOINTMENT_FOLLOW_UP:"appointment_follow_up"})}),null);
__d("PagesAdminToolUIActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONTEXT_CARD_CLICK_ADD_NOTE:"context_card_click_add_note",CONTEXT_CARD_CLICK_CONFIRM_ADD_NOTE:"context_card_click_confirm_add_note",CONTEXT_CARD_CLICK_DELETE_NOTE:"context_card_click_delete_note",CONTEXT_CARD_CLICK_CONFIRM_DELETE_NOTE:"context_card_click_confirm_delete_note",CONTEXT_CARD_CLICK_HISTORY:"context_card_click_history",CONTEXT_CARD_CLICK_PROFILE_LINK:"context_card_click_profile_link",CONTEXT_CARD_CLICK_SHARED_MEDIA:"context_card_click_shared_media",CONTEXT_CARD_LOAD_MORE_SHARED_MEDIA:"context_card_load_more_shared_media",CONTEXT_CARD_LOAD_MORE_NOTES:"context_card_load_more_notes",CONTEXT_CARD_LOAD_MORE_HISTORY:"context_card_load_more_history",CONTEXT_CARD_CLICK_SET_CUSTOM_TAG:"context_card_click_set_custom_tag",CONTEXT_CARD_CLICK_UNSET_CUSTOM_TAG:"context_card_click_unset_custom_tag",TAG_MANAGEMENT_CLICK_DELETE_LINK:"tag_management_click_delete_link",TAG_MANAGEMENT_CLICK_CONFIRM_DELETE:"tag_management_click_confirm_delete",TAG_MANAGEMENT_CLICK_COLOR_SELECTOR:"tag_management_click_color_selector",TAG_MANAGEMENT_CLICK_CHANGE_COLOR:"tag_management_click_change_color",TAG_MANAGEMENT_CLICK_ADD_TAG:"tag_management_click_add_tag",TAG_MANAGEMENT_CLICK_MERGE_TAG:"tag_management_click_merge_tag",MESSAGE_INBOX_SWITCH_FOLDER:"message_inbox_switch_folder",MESSAGE_INBOX_TOGGLE_FILTER_PANEL:"message_inbox_toggle_filter_panel",MESSAGE_INBOX_CLICK_MANAGE_TAGS:"message_inbox_click_manage_tags",MESSAGE_INBOX_CLICK_ADD_SEARCH_TAGS:"message_inbox_click_add_search_tags",MESSAGE_INBOX_CLICK_REMOVE_SEARCH_TAGS:"message_inbox_click_remove_search_tags",MESSAGE_INBOX_CLICK_SEARCH_NAMES:"message_inbox_click_search_names",MESSAGE_INBOX_CLICK_SEARCH_MESSAGES:"message_inbox_click_search_messages",MESSAGE_INBOX_CLICK_AWAY_TOGGLE:"message_inbox_click_away_toggle",MESSAGE_INBOX_CLICK_THREAD_BLOCK:"message_inbox_click_thread_block",MESSAGE_INBOX_CLICK_SEND_MESSAGE:"message_inbox_click_send_message",MESSAGE_INBOX_CLICK_MENU_ACTION:"message_inbox_click_menu_action",HOVERCARD_CLICK_EXPAND_FULL_VIEW:"hovercard_click_expand_full_view",HOVERCARD_CLICK_SEND_MESSAGE:"hovercard_click_send_message",HOVERCARD_CLICK_SEE_CONVERSATION:"hovercard_click_see_conversation",HOVERCARD_CLICK_VIEW_PROFILE:"hovercard_click_view_profile"})}),null);
__d("PagesManagerMessagingActionType",["PagesManagerActionType","keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({THREAD_LEVEL:{READ_STATUS:"",ARCHIVE_STATUS:"",SPAM_STATUS:"",UPDATE_THREAD:""},SET_SCROLL_HEIGHT:null,SET_APPOINTMENT_BANNER_HEIGHT:null,AWAY_STATE:{UPDATE:null,FETCH:null,SET:null},SET_IS_CONTEXT_CARD_HIDDEN:null,MESSAGE_SEARCH:{NAME_SEARCH_UPDATE:null,SNIPPET_SEARCH_UPDATE:null,LOAD_MORE_NAME_RESULT:null,LOAD_MORE_SNIPPET_RESULT:null},HOT_LIKE:{END:null,START:null},BAN:{RESET:null,UPDATE:null},CLASSIFIER:{INITIALIZE_STORE:null,CHECK_FOR_INTENT:null,NOTIFY_INTENT_CLASSIFIED:null,THREAD_INTENT_UPDATED:null,VERIFY_INTENT:null}});Object.assign(a,b("PagesManagerActionType"));e.exports=a}),null);
__d("PagesMessagingSearchMode",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({ALL:"",NAME_SEARCH:"",KEYWORD_SEARCH:"",MESSAGE_SEARCH:"",NONE:""});e.exports=a}),null);
__d("PagesManagerMessagingThreadlistAction",["MercuryThreadlistConstants","PagesManagerDispatcher","PagesManagerLogger","PagesManagerMessagingActionType","PagesMessagingSearchMode"],(function(a,b,c,d,e,f){__p&&__p();var g={initThreadlist:function(a){this.fetchThreadlist(a,0,b("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT)},fetchThreadlist:function(a,c,d){b("PagesManagerDispatcher").dispatch({offset:c,limit:d,pageID:a,type:b("PagesManagerMessagingActionType").LIST.FETCH})},updateThreadlist:function(a){b("PagesManagerDispatcher").dispatch({pageID:a,type:b("PagesManagerMessagingActionType").LIST.UPDATED})},updateThreadlistWithDelay:function(a,c){setTimeout(function(){b("PagesManagerDispatcher").dispatch({pageID:a,type:b("PagesManagerMessagingActionType").LIST.UPDATED})},c)},changeSearchTerm:function(a,c,d,e){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SEARCH.CHANGE_SEARCH_TERM,searchTerm:c,pageID:a,activeFolder:d,searchMode:e})},changeIsSearchingNameStatus:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.NAME_SEARCH_UPDATE,isSearching:a})},changeIsSearchingSnippetStatus:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.SNIPPET_SEARCH_UPDATE,isSearching:a})},loadMoreNameResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.LOAD_MORE_NAME_RESULT,searchTerm:c,pageID:a,activeFolder:d})},loadMoreSnippetResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.LOAD_MORE_SNIPPET_RESULT,searchTerm:c,pageID:a,activeFolder:d})},resetSearch:function(a){g.changeSearchTerm(a,"","",b("PagesMessagingSearchMode").NONE)},addSearchCustomTag:function(a,c,d){b("PagesManagerLogger").logMessageInboxUIAction("message_inbox_click_add_search_tags",a,{tag_name:c,position:d}),b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG,pageID:a,tagName:c}),b("PagesManagerDispatcher").dispatch({searchType:"LABEL",type:b("PagesManagerMessagingActionType").SEARCH.LABEL})},removeSearchCustomTag:function(a,c,d){b("PagesManagerLogger").logMessageInboxUIAction("message_inbox_click_remove_search_tags",a,{tag_name:c,position:d}),b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG,pageID:a,tagName:c}),b("PagesManagerDispatcher").dispatch({searchType:"LABEL",type:b("PagesManagerMessagingActionType").SEARCH.LABEL})},searchNameResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.CHANGE_NAME_SEARCH_TERM,searchTerm:c,pageID:a,activeFolder:d})},searchMessageResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.CHANGE_MESSAGE_SEARCH_TERM,searchTerm:c,pageID:a,activeFolder:d})}};e.exports=g}),null);
__d("PagesManagerInboxFilterAction",["IGMessageDataMutateAction","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerActionType","PagesManagerDispatcher","PagesManagerMessagingThreadlistAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={changeFolder:function(a,c,d){c!==b("PageCommItemFolder").INSTAGRAM_THREADS&&c!==b("PageCommItemFolder").MESSENGER_THREADS&&d==="INSTAGRAM_DIRECT"&&b("PageCommItemStatusUtil").getFolderQECheck()&&b("IGMessageDataMutateAction").forceFetchInbox(a,20,b("PageCommItemStatusUtil").getIGDirectFolder(c),!1,!1,null),b("PagesManagerDispatcher").dispatch({activeFolderFilter:c,pageID:a,type:b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE}),b("PagesManagerMessagingThreadlistAction").resetSearch(a)},changeOwner:function(a,c,d,e){b("PagesManagerDispatcher").dispatch({activeOwnerFilter:{id:c,photoURL:d,name:e},pageID:a,type:b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE}),b("PagesManagerMessagingThreadlistAction").resetSearch(a)},changeType:function(a,c){b("PagesManagerDispatcher").dispatch({activeTypeFilter:c,pageID:a,type:b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE}),b("PagesManagerMessagingThreadlistAction").resetSearch(a)},changeSearchTerm:function(a){b("PagesManagerDispatcher").dispatch({searchTerm:a,type:b("PagesManagerActionType").SEARCH.CHANGE_SEARCH_TERM})},selectCustomer:function(a){b("PagesManagerDispatcher").dispatch({pageCustomerID:a,type:b("PagesManagerActionType").SEARCH.SELECT_CUSTOMER})},changePlatform:function(a,c){a!==b("PageCommItemFolder").INSTAGRAM_THREADS&&a!==b("PageCommItemFolder").MESSENGER_THREADS&&a==="INSTAGRAM_DIRECT"&&b("PageCommItemStatusUtil").getFolderQECheck()&&c!=null&&b("IGMessageDataMutateAction").forceFetchInbox(c,20,b("PageCommItemFolder").TODO,!1,!1,null),b("PagesManagerDispatcher").dispatch({activeTypeFilter:a,type:b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE_PLATFORM})},changeActiveUTLFolder:function(a){b("PagesManagerDispatcher").dispatch({activeUTLFolder:a,type:b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE_UTL_FOLDER})},clearSearch:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").SEARCH.CLEAR})},toggleSearch:function(a){b("PagesManagerDispatcher").dispatch({targetStatus:a,type:b("PagesManagerActionType").SEARCH.TOGGLE})},changeSearchType:function(a){b("PagesManagerDispatcher").dispatch({searchType:a,type:b("PagesManagerActionType").SEARCH.CHANGE_TYPE})},addCustomLabel:function(a,c){b("PagesManagerDispatcher").dispatch({label:a,pageID:c,type:b("PagesManagerActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG})},removeCustomLabel:function(a,c){b("PagesManagerDispatcher").dispatch({label:a,pageID:c,type:b("PagesManagerActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG})},toggleFolderSelector:function(a){b("PagesManagerDispatcher").dispatch({isFolderChangeActive:a,type:b("PagesManagerActionType").LIST.TOGGLE_FOLDER_SELECTOR})},toggleFilterSelector:function(a){b("PagesManagerDispatcher").dispatch({isFilterChangeActive:a,type:b("PagesManagerActionType").LIST.TOGGLE_FILTER_SELECTOR})},updateCommentsTab:function(a){b("PagesManagerDispatcher").dispatch({tab:a,type:b("PagesManagerActionType").COMMENTS.CHANGE_TAB})},setMarkAllCommentsAsReadTimestamp:function(a){b("PagesManagerDispatcher").dispatch({commentsLastMarkAsReadTimeStamp:a,type:b("PagesManagerActionType").COMMENTS.MARK_ALL_ITEMS_AS_READ})},setPeopleSearchLoaded:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").SEARCH.CUSTOMER_SEARCH_DONE})}};e.exports=a}),null);
__d("PagesManagerInboxAction",["PagesManagerInboxFilterStore","PagesManagerInboxStore","PagesManagerStore","MediaManagerInboxQEUtils","MediaManagerUtils","PageCommItemFolder","PagesManagerAction","PagesManagerDispatcher","PagesManagerInboxActionType","PagesManagerInboxFilterAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("PagesManagerInboxFilterStore");b("PagesManagerInboxStore");b("PagesManagerStore");a={initialConfig:function(a,c,d,e){b("PagesManagerDispatcher").dispatch({config:c,businessInboxConfig:d,type:b("PagesManagerInboxActionType").CONFIG_SET}),b("MediaManagerUtils").isMediaManagerApp()?b("MediaManagerInboxQEUtils").shouldShowMessengerRanking()&&c.priorityBadgeCounts!=null&&c.priorityBadgeCounts.MESSENGER>0?b("PagesManagerInboxFilterAction").changeFolder(a,b("PageCommItemFolder").PRIORITY):b("PagesManagerInboxFilterAction").changeFolder(a,b("PageCommItemFolder").TODO):e?(b("PagesManagerInboxFilterAction").changeType(a,e.platform),b("PagesManagerInboxFilterAction").changeFolder(a,e.folder),b("PagesManagerAction").viewListItem(e.id)):c.platformConfigs[c.defaultPlatform].defaultFolder===b("PageCommItemFolder").UNREAD&&b("PagesManagerInboxFilterAction").changeFolder(a,b("PageCommItemFolder").UNREAD)},initialBusinessInboxConfig:function(a,c){b("PagesManagerDispatcher").dispatch({businessInboxConfig:a,type:b("PagesManagerInboxActionType").CONFIG_SET});a=(a=a.pageConfig)==null?void 0:a.pageID;c&&a!=null&&(b("PagesManagerInboxFilterAction").changeType(a,c.platform),b("PagesManagerInboxFilterAction").changeFolder(a,c.folder),b("PagesManagerAction").viewListItem(c.id))},comment:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").COMMENT})},setNavMode:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").CHANGE_NAV_MODE,navMode:a})}};e.exports=a}),null);
__d("PagesMarketingAutomationDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!0})}),null);
__d("PagesMarketingAutomationActions",["PagesMarketingAutomationDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={types:{UPDATE_CONTENT_VIEW_MODE:"UPDATE_CONTENT_VIEW_MODE",COMPOSER_HAS_BEEN_EDITED:"COMPOSER_HAS_BEEN_EDITED",STORE_STATE:"STORE_STATE",REVERT_STATE:"REVERT_STATE",SET_DEFAULT_AUTOMATION:"SET_DEFAULT_AUTOMATION",UPDATE_IS_WELCOME_TEXT_INITIALIZED:"UPDATE_IS_WELCOME_TEXT_INITIALIZED",UPDATE_AUTOMATION_TYPE:"UPDATE_AUTOMATION_TYPE",UPDATE_AUTOMATION_ID:"UPDATE_AUTOMATION_ID",UPDATE_AUTOMATED_SEQUENCE_DIALOG_SEE_ALL:"UPDATED_AUTOMATED_SEQUENCE_DIALOG_SEE_ALL",UPDATE_RECENT_AUTOMATION_THREAD_FBID:"UPDATE_RECENT_AUTOMATION_THREAD_FBID",UPDATE_SHOULD_SHOW_AUTOMATION_TOAST:"UPDATE_SHOULD_SHOW_AUTOMATION_TOAST",UPDATE_ENABLED:"UPDATE_ENABLED",UPDATE_SEND_DISABLED:"UPDATE_SEND_DISABLED",UPDATE_STATE:"UPDATE_STATE",UPDATE_WELCOME_TEXT:"UPDATE_WELCOME_TEXT",UPDATE_AUTOMATED_CHECKOUT_MESSAGES:"UPDATED_AUTOMATED_CHECKOUT_MESSAGES",UPDATE_AUTOMATED_CHECKOUT_STEP_LIST_ID:"UPDATE_AUTOMATED_CHECKOUT_STEP_LIST_ID",UPDATE_ORGANIC_INTAKE_FORM_MESSAGES:"UPDATED_ORGANIC_INTAKE_FORM_MESSAGES",UPDATE_ORGANIC_INTAKE_FORM_STEP_LIST_ID:"UPDATE_ORGANIC_INTAKE_FORM_STEP_LIST_ID",UPDATE_ATTACHMENT_TYPE:"UPDATE_ATTACHMENT_TYPE",UPDATE_MEDIA:"UPDATE_MEDIA",UPDATE_CTAS:"UPDATE_CTAS",UPDATE_ICEBREAKERS:"UPDATE_ICEBREAKERS",UPDATE_DEMO_ICEBREAKER_INDICES:"UPDATE_DEMO_ICEBREAKER_INDICES",UPDATE_IS_CURRENT_MENU_SET_BY_API:"UPDATE_IS_CURRENT_MENU_SET_BY_API",UPDATE_IS_CURRENT_ICEBREAKERS_SET_BY_API:"UPDATE_IS_CURRENT_ICEBREAKERS_SET_BY_API",UPDATE_MESSENGER_REENGAGEMENT_NOTIF_DATA:"UPDATE_MESSENGER_REENGAGEMENT_NOTIF_DATA",STORE_CONTACT:"STORE_CONTACT",STORE_ADDRESS:"STORE_ADDRESS",STORE_FOLLOW_UP_MESSAGE_INFO:"STORE_FOLLOW_UP_MESSAGE_INFO",STORE_HOURS:"STORE_HOURS",STORE_DIRECTIONS_URI:"STORE_DIRECTIONS_URI",STORE_AWAY_TIME_RANGES:"STORE_AWAY_TIME_RANGES",STORE_AWAY_TIME_ZONE:"STORE_AWAY_TIME_ZONE",STORE_IS_AWAY:"STORE_IS_AWAY",STORE_INTAKE_FORM_INFO:"STORE_INTAKE_FORM_INFO",USE_SETUP_INTAKE_FORM_EXPERIENCE:"USE_SETUP_INTAKE_FORM_EXPERIENCE",DISABLE_SETUP_INTAKE_FORM_EXPERIENCE:"DISABLE_SETUP_INTAKE_FORM_EXPERIENCE",UPDATE_QUESTIONNAIRE_DISQUALIFICATION_MESSAGE:"UPDATE_QUESTIONNAIRE_DISQUALIFICATION_MESSAGE",UPDATE_QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE:"UPDATE_QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE",UPDATE_QUESTIONNAIRE_SUMMARY_MESSAGE:"UPDATE_QUESTIONNAIRE_SUMMARY_MESSAGE",UPDATE_QUESTIONNAIRE_REMINDER_MESSAGE:"UPDATE_QUESTIONNAIRE_REMINDER_MESSAGE",UPDATE_QUESTIONNAIRE_PRIVACY_POLICY_URL:"UPDATE_QUESTIONNAIRE_PRIVACY_POLICY_URL",UPDATE_ENABLED_PLATFORMS:"UPDATE_ENABLED_PLATFORMS",UPDATE_SHOW_QPC_ICEBREAKERS_DISCLAIMER:"UPDATE_SHOW_QPC_ICEBREAKERS_DISCLAIMER",SET_SAVED_REPLIES:"SET_SAVED_REPLIES",SELECTED_SAVED_REPLY:"SELECTED_SAVED_REPLY",SET_SERVICES_REFERRER_DATA:"SET_SERVICES_REFERRER_DATA",UPDATE_SAVED_REPLY:"UPDATE_SAVED_REPLY",UPDATE_SHOULD_SHOW_ADVANCED_OPTIONS:"UPDATE_SHOULD_SHOW_ADVANCED_OPTIONS"},storeState:function(){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_STATE})},setIsContentViewInEditMode:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_CONTENT_VIEW_MODE,isEditMode:a}),g.storeState()},setComposerHasBeenEdited:function(){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.COMPOSER_HAS_BEEN_EDITED})},revertState:function(){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.REVERT_STATE})},setDefaultAutomation:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.SET_DEFAULT_AUTOMATION,isDefaultAutomation:a})},updateIsEnabled:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_ENABLED,isEnabled:a})},updateIsSendDisabled:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_SEND_DISABLED,isSendDisabled:a})},updateAutomationType:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_AUTOMATION_TYPE,automationType:a})},updateAutomationID:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_AUTOMATION_ID,automationID:a})},updateAutomatedSequenceDialogSeeAll:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_AUTOMATED_SEQUENCE_DIALOG_SEE_ALL,automatedSequenceDialogSeeAll:a})},updateRecentAutomationThreadFBID:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_RECENT_AUTOMATION_THREAD_FBID,recentAutomationThreadFBID:a})},updateShouldShowAutomationToast:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_SHOULD_SHOW_AUTOMATION_TOAST,shouldShowAutomationToast:a})},updateState:function(a,c,d,e,f,h,i,j){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_STATE,welcomeText:a,automatedCheckoutMessages:c,reengagementData:d,media:e,ctas:f,attachmentType:h,automationType:i,enabledPlatforms:j})},updateWelcomeText:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_WELCOME_TEXT,welcomeText:a})},updateAutomatedCheckoutMessages:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_AUTOMATED_CHECKOUT_MESSAGES,automatedCheckoutMessages:a})},updateAutomatedReengagementData:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_MESSENGER_REENGAGEMENT_NOTIF_DATA,reengagementData:a})},updatedAutomatedCheckoutStepListID:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_AUTOMATED_CHECKOUT_STEP_LIST_ID,automatedCheckoutStepListID:a})},updateOrganicIntakeFormMessages:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_ORGANIC_INTAKE_FORM_MESSAGES,organicIntakeFormMessages:a})},updateOrganicIntakeFormStepListID:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_ORGANIC_INTAKE_FORM_STEP_LIST_ID,organicIntakeFormStepListID:a})},updateIsWelcomeTextInitialized:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_IS_WELCOME_TEXT_INITIALIZED,isWelcomeTextIntialized:a})},updateAttachmentType:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_ATTACHMENT_TYPE,attachmentType:a})},updateMedia:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_MEDIA,media:a})},updateCTAs:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_CTAS,ctas:a})},updateContact:function(a,c){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_CONTACT,phoneNumber:a,website:c})},updateAddress:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_ADDRESS,address:a})},updateDirectionsURI:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_DIRECTIONS_URI,directionsURI:a})},updatePageHours:function(a,c,d){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_HOURS,hours:a,isAlwaysOpen:c,isPermanentlyClosed:d})},updateAwayTimeRange:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_AWAY_TIME_RANGES,awayTimeRanges:a})},updateAwayTimeZone:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_AWAY_TIME_ZONE,awayTimeZone:a})},updateAwayState:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_IS_AWAY,isAway:a})},storeIntakeFormInfo:function(a,c,d,e,f){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_INTAKE_FORM_INFO,isEligibleForIntakeForm:a,qpcConsumerFlow:c,questionnaireStopQuestionsMessage:d,questionnaireReminderMessage:e,questionnairePrivacyPolicyURL:f})},storeFollowUpMessageInfo:function(a,c){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_FOLLOW_UP_MESSAGE_INFO,messageContent:a,triggerTimeSecs:c})},updateIcebreakers:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_ICEBREAKERS,icebreakers:a})},updateIcebreakerDemoIndices:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_DEMO_ICEBREAKER_INDICES,demoIcebreakerIndices:a})},updateIsCurrentMenuSetByAPI:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_IS_CURRENT_MENU_SET_BY_API,isCurrentMenuSetByAPI:a})},updateIsCurrentIcebreakersSetByAPI:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_IS_CURRENT_ICEBREAKERS_SET_BY_API,isCurrentIcebreakersSetByAPI:a})},setupIntakeFormSetupExperience:function(){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.USE_SETUP_INTAKE_FORM_EXPERIENCE})},disableIntakeFormSetupExperience:function(){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.DISABLE_SETUP_INTAKE_FORM_EXPERIENCE})},updateQuestionnaireDisqualificationMessage:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_QUESTIONNAIRE_DISQUALIFICATION_MESSAGE,questionnaireDisqualificationMessage:a})},updateQuestionnaireStopQuestionsMessage:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE,questionnaireStopQuestionsMessage:a})},updateQuestionnaireSummaryMessage:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_QUESTIONNAIRE_SUMMARY_MESSAGE,questionnaireSummaryMessage:a})},updateQuestionnaireReminderMessage:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_QUESTIONNAIRE_REMINDER_MESSAGE,questionnaireReminderMessage:a})},updateEnabledPlatforms:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_ENABLED_PLATFORMS,enabledPlatforms:a})},updateQuestionnairePrivacyPolicyURL:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_QUESTIONNAIRE_PRIVACY_POLICY_URL,questionnairePrivacyPolicyURL:a})},updateShowQPCIcebreakersDisclaimer:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_SHOW_QPC_ICEBREAKERS_DISCLAIMER,showQPCIcebreakersDisclaimer:a})},setSavedReplyResponses:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.SET_SAVED_REPLIES,savedReplies:a})},updateSelectedSavedReply:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.SELECTED_SAVED_REPLY,selectedSavedReply:a})},initialServicesReferrerConfig:function(a){a!=null&&b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.SET_SERVICES_REFERRER_DATA,servicesReferrerData:a})},updateSavedReply:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_SAVED_REPLY,updateSavedReply:a})},updateShouldShowAdvancedOptions:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_SHOULD_SHOW_ADVANCED_OPTIONS,shouldShowAdvancedOptions:a})}};e.exports=g}),null);
__d("PagesMessagingInboxActionLogger",["PagesMessagingInboxActionsTypedLogger","SavedResponsesUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a={init:function(a){g=a},logConnectInstagramDirectButtonClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().addToExtraData("page_id",g).addToExtraData("has_comments_connected",a.toString()).setPlatform("INSTAGRAM_DIRECT").setInboxAction("connect_button_click").log()},logConnectInstagramButtonClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().addToExtraData("page_id",g).addToExtraData("can_connect_igdirect",a.toString()).setPlatform("INSTAGRAM").setInboxAction("connect_button_click").log()},logInitialListRendered:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("inbox_loaded").setPlatform(a).addToExtraData("page_id",c).log()},logSearchButtonClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("search_button_clicked").log()},logPeopleSearchClicked:function(a,c,d,e){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("people_search_clicked").setPlatform(a).addToExtraData("search_type",d).addToExtraData("search_term",c).addToExtraData("customer_platform",e).log()},logSearchResultClicked:function(a,c,d,e){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction(a).setPlatform(c).addToExtraData("search_type",e).addToExtraData("search_term",d).log()},logSearchResultOpened:function(a,c,d){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("search_results_clicked").setPlatform(a).addToExtraData("search_type",c).addToExtraData("item_id",d).log()},logDeleteThreadClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("delete_thread").log()},logGroupActions:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction(c).addToExtraData("page_id",g).log()},logApplySavedReply:function(a,c,d,e,f,h){var i=b("SavedResponsesUtils").extraMacrosFromSavedResponse(e);new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("saved_reply_applied").addToExtraData("page_id",g).addToExtraData("search_term",d).addToExtraData("shortcut_match_term",c).addToExtraData("message",e).addToExtraData("shortcut",f).addToExtraData("has_image",h.toString()).addToExtraData("personalizations",i.join(",")).addToExtraData("automation_type","saved_reply").log()},logUpdateSavedReply:function(a,c,d,e,f,h,i){__p&&__p();var j=new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("saved_reply_updated").addToExtraData("page_id",g).addToExtraData("automation_type","saved_reply");if(a!==null){var k;k=b("SavedResponsesUtils").extraMacrosFromSavedResponse((k=a)!=null?k:"");j.addToExtraData("prev_message",(a=a)!=null?a:"").addToExtraData("prev_image_id",(a=f)!=null?a:"").addToExtraData("prev_shortcut",(f=d)!=null?f:"").addToExtraData("prev_macro_list",k.join(","))}if(c!==null){d=b("SavedResponsesUtils").extraMacrosFromSavedResponse((a=c)!=null?a:"");j.addToExtraData("new_message",(f=c)!=null?f:"").addToExtraData("new_image_id",(k=h)!=null?k:"").addToExtraData("new_shortcut",(a=e)!=null?a:"").addToExtraData("new_macro_list",d.join(",")).addToExtraData("corresponding_question",(c=i)!=null?c:"")}j.log()},logSavedReplySortClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("saved_reply_sorted").addToExtraData("page_id",g).addToExtraData("automation_type","saved_reply").addToExtraData("sorting_key",a).log()},logSavedReplyButtonClicked:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("saved_reply_button_clicked").addToExtraData("page_id",g).addToExtraData("shortcut_match_term",c).log()},logSendButtonClicked:function(a,c,d){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("send_button_clicked").setPlatform(a).addToExtraData("shortcut_match_term",c).addToExtraData("page_id",g).addToExtraData("enter_to_send_enabled",d.toString()).log()}};e.exports=a}),null);
__d("PagesManagerInboxCometDetailHeaderAction.react",["cx","fbt","ConversationDeleteConfirmationDialog.react","CRMBlockIGUserConfirmationDialog.react","IGMessageServerActions","PageCommItemActionType","PageCommItemStatus","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxBlockMessagesMenu.react","PagesManagerInboxCometBanUserMenu.react","PagesManagerInboxCometDetailHeaderActionUnit.react","PagesManagerInboxCometHeaderMoreOptionsMenu.react","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerInboxMercuryUtil","PagesMessagingInboxActionLogger","React","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showConfirmationDialog:!1,showBlockIGUserDialog:!1},d.$1=function(){d.setState({showConfirmationDialog:!0})},d.$2=function(){d.setState({showConfirmationDialog:!1})},d.onCancelBlockIGUser=function(){d.setState({showBlockIGUserDialog:!1})},d.onConfirmBlockIGUser=function(){var a=b("IGMessageServerActions").getForFBID(d.props.pageID),c=d.props.igUserID,e=d.props.userID;c!=null&&e!=null&&a.blockUser(e,c);d.setState({showBlockIGUserDialog:!1})},d.$5=function(){if(d.state.showBlockIGUserDialog)return;d.setState({showBlockIGUserDialog:!0})},d.$7=function(){__p&&__p();var a=b("PagesManagerInboxFilterStore").getActiveType();if(a==="INSTAGRAM_DIRECT"){var c=b("IGMessageServerActions").getForFBID(d.props.pageID);b("PagesMessagingInboxActionLogger").logDeleteThreadClicked("INSTAGRAM_DIRECT");c.deleteThread(d.props.userID)}else d.props.onStatusChange(b("PageCommItemStatus").DELETED);d.setState({showConfirmationDialog:!1});b("PagesManagerAction").clearViewListItem();b("PagesMessagingInboxActionLogger").logDeleteThreadClicked(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getBlockIGUserConfirmationDialog=function(){if(!this.state.showBlockIGUserDialog||this.props.igUserName==null)return null;var a=this.props.igUserName;return b("React").jsx(b("CRMBlockIGUserConfirmationDialog.react"),{isInbox:!0,onCancel:this.onCancelBlockIGUser,onConfirm:this.onConfirmBlockIGUser,shown:this.state.showBlockIGUserDialog,username:a})};d.logAction=function(a){b("PagesManagerInboxLogger").create(a).log()};d.$3=function(){var a=h._("Block"),b=h._("Report");a=[this.$4(a,this.$5),this.$4(b,this.$6)];return a};d.$6=function(){window.open("https://help.instagram.com/568100683269916/?ref=reportininbox","_blank")};d.$4=function(a,b){return{type:"item",label:a,onClick:b}};d.render=function(){__p&&__p();var a=this,c=this.props.actionParam,d=[];c.showDone&&d.push(b("React").jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionId:"action_done",actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").DONE),actionType:b("PageCommItemActionType").DONE,onClick:function(){a.props.onStatusChange(b("PageCommItemStatus").DONE)}},b("PageCommItemActionType").DONE));c.showDelete&&d.push(b("React").jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionId:"action_delete",actionLabel:h._("Delete conversation"),actionType:b("PageCommItemActionType").DELETE,commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),onClick:this.$1},b("PageCommItemActionType").DELETE));c.showSpam&&d.push(b("React").jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionId:"action_spam",actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").SPAM),actionType:b("PageCommItemActionType").SPAM,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").SPAM)}},b("PageCommItemActionType").SPAM));c.showMarkRead&&d.push(b("React").jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionLabel:h._("Mark as Read"),actionType:b("PageCommItemActionType").MARK_READ,onClick:function(){return a.props.onReadStatusChange(b("PageCommItemActionType").MARK_READ)}},b("PageCommItemActionType").MARK_READ));c.showMarkUnread&&d.push(b("React").jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionLabel:h._("Mark as Unread"),actionType:b("PageCommItemActionType").MARK_UNREAD,onClick:function(){return a.props.onReadStatusChange(b("PageCommItemActionType").MARK_UNREAD)}},b("PageCommItemActionType").MARK_UNREAD));if(c.showFollowUp){var e=b("PagesManagerInboxMercuryUtil").shouldUseMercury(),f=b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").FOLLOW_UP);e&&(f=b("PageCommItemStatusUtil").getStarLabel(b("PageCommItemStatus").FOLLOW_UP));d.push(b("React").jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionId:"action_followup",actionLabel:f,actionType:b("PageCommItemActionType").FOLLOW_UP,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").FOLLOW_UP)}},b("PageCommItemActionType").FOLLOW_UP))}c.showUnFollowup&&d.push(b("React").jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionId:"action_unfollowup",actionLabel:b("PageCommItemStatusUtil").getStarLabel(b("PageCommItemStatus").TODO),actionType:b("PageCommItemActionType").UN_FOLLOW_UP,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").TODO)}},b("PageCommItemActionType").UN_FOLLOW_UP));c.showInbox&&d.push(b("React").jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").TODO),actionType:b("PageCommItemActionType").INBOX,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").TODO)}},b("PageCommItemActionType").INBOX));if(c.showMore&&this.props.isIGGroup!==!0){e=b("PagesManagerInboxFilterStore").getActiveType();f=null;if(e==="INSTAGRAM_DIRECT")f=b("React").jsx(b("PagesManagerInboxCometHeaderMoreOptionsMenu.react"),{items:this.$3(),onClick:b("emptyFunction")});else if(this.props.itemPage!=null)f=b("React").jsx(b("PagesManagerInboxBlockMessagesMenu.react"),{itemPage:this.props.itemPage,pageID:this.props.pageID});else{c=(c=this.props.item)==null?void 0:(e=c.page_customer)==null?void 0:e.name;(c===null||c===void 0)&&(c=h._("Facebook User"));f=b("React").jsx(b("PagesManagerInboxCometBanUserMenu.react"),{isBanned:((e=this.props.item)==null?void 0:(e=e.page_customer)==null?void 0:e.is_banned_by_page)||!1,pageID:this.props.pageID,userID:(e=this.props.item)==null?void 0:(e=e.page_customer)==null?void 0:(e=e.user)==null?void 0:e.id,userName:c})}d.push(b("React").jsx("div",{className:"_8hqi _8g4p",children:f},b("PageCommItemActionType").MORE))}return b("React").jsxs("div",{className:"_8g6_",children:[this.props.leftActions,d,this.getBlockIGUserConfirmationDialog(),b("React").jsx(b("ConversationDeleteConfirmationDialog.react"),{onConfirm:this.$7,onHide:this.$2,platform:b("PagesManagerInboxFilterStore").getActiveType(),shown:this.state.showConfirmationDialog},"delete modal")]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderLoading.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx("div",{className:"_641d",children:a.jsxs("div",{className:"_2iwq _641e",children:[a.jsx("div",{className:"_641f"}),a.jsx("div",{className:"_641g"}),a.jsx("div",{className:"_641h"}),a.jsx("div",{className:"_641i"}),a.jsx("div",{className:"_641j"}),a.jsx("div",{className:"_641k"})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxPicSize",[],(function(a,b,c,d,e,f){"use strict";e.exports={CometDetailViewHeaderPicSize:52,DetailViewHeaderPicSize:32,ListRowProPicSize:40,IGDirectContextCardProfileSize:52}}),null);
__d("PageCommItemAssignUniqueOwnerMutation",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","RelayRuntime","PageCommItemAssignUniqueOwnerMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PageCommItemAssignUniqueOwnerMutation.graphql");function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.pageID);if(!d)return;c=c.get(a.commItemID);if(!c)return;var e=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder());d=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:e,with_comm_platform:c.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});e=b("PagesManagerInboxFilterStore").getActiveOwner().id;d&&e&&e!==a.adminID&&h.deleteNode(d,a.commItemID)},e={assign_unique_comm_item_owner:{page_comm_item:{id:a.commItemID,comm_item_owners:{nodes:[{admin:{id:a.adminID,name:a.adminName,profile_picture:{uri:a.adminPhotoUrl}}}]}}}};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,optimisticResponse:e,updater:d,variables:{input:{actor_id:a.pageID,admin_id:a.adminID,comm_item_id:a.commItemID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PageCommItemClearOwnersMutation",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","RelayRuntime","PageCommItemClearOwnersMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PageCommItemClearOwnersMutation.graphql");function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.pageID);if(!d)return;c=c.get(a.commItemID);if(!c)return;var e=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder());d=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:e,with_comm_platform:c.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});e=b("PagesManagerInboxFilterStore").getActiveOwner().id;d&&e&&e!==a.adminID&&h.deleteNode(d,a.commItemID)},e={clear_comm_item_owners:{page_comm_item:{id:a.commItemID,comm_item_owners:{nodes:[]}}}};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,optimisticResponse:e,variables:{input:{actor_id:a.pageID,comm_item_id:a.commItemID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("UnifiedInboxSearchableListPrompt.contrib",["cx","AbstractSearchSource","AbstractTypeahead.react","Layout.react","React","ReactComponentWithPureRenderMixin","ReactDOM","Scroll","ScrollableArea.react","SearchableEntry","Text.atlas","TextWithHighlights.atlas","TypeaheadViewItem","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("Layout.react").Column,i=b("Layout.react").FillColumn,j={queryString:""};a={maxEntries:100,resetQueryStringOnSelect:!1};d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state=j,c.$1=function(a){a=a.target;c.setState({queryString:a.value})},c.$2=function(a){c.props.onSelect(a),c.props.resetQueryStringOnSelect&&c.setState({queryString:""})},c.focusInput=function(){c.refs&&c.refs.typeahead.focusInput()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:b("joinClasses")(this.props.className,"_8q24"),children:b("React").jsx(l,{disabledEntryIDs:this.props.disabledEntryIDs,emptySearchResultsText:this.props.emptySearchResultsText,excludedEntries:this.props.excludedEntries,header:this.props.header,headerClassName:this.props.headerClassName,maxEntries:this.props.maxEntries,onChange:this.$1,onSelectAttempt:this.$2,placeholder:this.props.placeholder,queryString:this.state.queryString,ref:"typeahead",searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,selectedEntry:this.props.selectedEntry,showEntriesBeforeSearch:this.props.showEntriesBeforeSearch,getLeftContentForEntry:this.props.getLeftContentForEntry})})};return c}((c=b("React")).PureComponent);d.propTypes={maxEntries:(f=b("prop-types")).number.isRequired,onSelect:f.func.isRequired,resetQueryStringOnSelect:f.bool.isRequired,searchSource:f.instanceOf(b("AbstractSearchSource")).isRequired,disabledEntryIDs:f.instanceOf(Set),emptySearchResultsText:f.node,excludedEntries:f.object,header:f.node,placeholder:f.node,searchSourceOptions:f.object,selectedEntry:f.instanceOf(b("SearchableEntry")),showEntriesBeforeSearch:f.bool};d.defaultProps=a;var k={isFocused:!1},l=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.state=k,b.$1=function(){b.setState({isFocused:!0}),b.props.onFocus&&b.props.onFocus()},b.$2=function(){b.setState({isFocused:!1}),b.props.onBlur&&b.props.onBlur()},b.focusInput=function(){b.refs.typeahead.focusInput()},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){return b("React").jsxs("div",{className:this.props.className,"data-testid":"UnifiedInboxSearchableListPrompt-contrib/root",children:[this.props.header?b("React").jsx(b("Text.atlas"),{className:b("joinClasses")("_2pi3 _2pi9",this.props.headerClassName),color:"dark",display:"block",size:"s",children:this.props.header}):null,b("React").jsx(b("AbstractTypeahead.react"),{autoHighlight:!0,excludedEntries:this.props.excludedEntries,hideViewWithEntries:!1,inputClassName:"_8q1_"+(this.state.isFocused?" _8q20":"")+(this.props.header?" _8q21":""),onBlur:this.$2,onChange:this.props.onChange,onFocus:this.$1,onSelectAttempt:this.props.onSelectAttempt,placeholder:this.props.placeholder,presenter:{ViewRenderer:m,alwaysVisibleOnFocus:!!this.props.emptySearchResultsText,extraRendererProps:{disabledEntryIDs:this.props.disabledEntryIDs,emptySearchResultsText:this.props.emptySearchResultsText,showEntriesBeforeSearch:this.props.showEntriesBeforeSearch,getLeftContentForEntry:this.props.getLeftContentForEntry},maxEntries:this.props.maxEntries,useLayer:!1},queryString:this.props.queryString,ref:"typeahead",searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,selectedEntry:this.props.selectedEntry,selectOnBlur:!1,showEntriesOnFocus:!0})]})};return a}(c.PureComponent);l.propTypes={onChange:f.func.isRequired,onSelectAttempt:f.func.isRequired,searchSource:f.object.isRequired,disabledEntryIDs:f.instanceOf(Set),emptySearchResultsText:f.string,excludedEntries:f.object,header:f.node,maxEntries:f.number,onBlur:f.func,onFocus:f.func,placeholder:f.string,queryString:f.string,searchSourceOptions:f.object,selectedEntry:f.instanceOf(b("SearchableEntry")),showEntriesBeforeSearch:f.bool};var m=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){__p&&__p();var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=function(a){var c=a.getUniqueID(),e=d.props.highlightedEntry?d.props.highlightedEntry.getUniqueID():null,f=d.props.selectedEntry?d.props.selectedEntry.getUniqueID():null;e=c===e;f=c===f;c=d.props.disabledEntryIDs&&d.props.disabledEntryIDs.has(c);return b("React").jsx(n,{disabled:c,entry:a,highlighted:e,selected:f,onSelect:d.props.onSelect,onHighlight:d.props.onHighlight,onRenderHighlight:d.props.onRenderHighlight,queryString:d.props.queryString,getLeftContentForEntry:d.props.getLeftContentForEntry},a.getUniqueID())},d.$2=function(a){d.props.onHighlight&&d.props.onHighlight(null,a)},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.render=function(){var a=null,c=this.props.entries.length&&(this.props.showEntriesBeforeSearch||this.props.queryString);c?a=this.props.entries.map(this.$1):this.props.queryString&&(a=b("React").jsx("div",{children:b("React").jsx(b("Text.atlas"),{className:"_4kt-",color:"light",size:"s",children:this.props.emptySearchResultsText})}));return b("React").jsx(b("ScrollableArea.react"),{className:b("joinClasses")(this.props.className,"_4kt_"),"data-testid":"SearchableListPrompt/itemList",onMouseLeave:this.$2,shadow:!1,maxHeight:320,children:a})};return a}(c.PureComponent);m.propTypes={entries:f.array.isRequired,onSelect:f.func.isRequired,disabledEntryIDs:f.instanceOf(Set),emptySearchResultsText:f.string,highlightedEntry:f.object,onHighlight:f.func,onRenderHighlight:f.func,queryString:f.string,selectedEntry:f.object,showEntriesBeforeSearch:f.bool};m.defaultProps={showEntriesBeforeSearch:!0};var n=c.createClass({displayName:"InlineTypeaheadViewItem",mixins:[babelHelpers["extends"]({},b("TypeaheadViewItem").Mixin,b("ReactComponentWithPureRenderMixin"))],propTypes:babelHelpers["extends"]({},b("TypeaheadViewItem").propTypes,{disabled:f.bool,getLeftContentForEntry:f.func}),componentDidUpdate:function(){var a=b("ReactDOM").findDOMNode(this);if(this.props.highlighted){var c=a.offsetParent;c=c&&a.offsetTop<b("Scroll").getTop(c)+c.offsetHeight&&a.offsetTop+a.offsetHeight>b("Scroll").getTop(c);c||a.scrollIntoView(!1)}},render:function(){var a=this.props.entry.getSubtitle(),c=b("React").jsxs("div",{children:[this.props.getLeftContentForEntry?this.props.getLeftContentForEntry(this.props.entry,this.props.selected):null,b("React").jsx(b("TextWithHighlights.atlas"),{className:"_8q29",display:this.props.getLeftContentForEntry?"inline":"block",highlight:this.props.queryString,text:this.props.entry.getTitle()}),a?b("React").jsx(b("TextWithHighlights.atlas"),{className:"_8q22",color:"light",display:"block",highlight:this.props.queryString,size:"s",text:a}):null]});c=this.props.disabled?b("React").jsxs(b("Layout.react"),{children:[b("React").jsx(i,{children:c}),b("React").jsx(h,{children:b("React").jsxs(b("Text.atlas"),{color:"light",display:"block",size:"s",children:[" ","?"," "]})})]}):c;return b("React").jsxs("div",{className:"_8q0v"+(this.props.highlighted?" _8q0w":"")+(this.props.selected?" _8q0x":"")+(a?"":" _8q0y"),onMouseDown:this.props.disabled?null:this._onSelect,onMouseEnter:this._onHighlight,children:[b("React").jsx("div",{className:"_8q0z",children:c}),b("React").jsx("div",{className:this.props.selected?"_8q0-":""})]})}});e.exports=d}),null);
__d("UnifiedInboxSearchableDropdownInput.contrib",["cx","fbt","AbstractSearchSource","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerHideOnScrollOverHeader.atlas","ContextualLayerUpdateOnScroll","Keys","LayerAutoFocus","LayerHideOnBlur","LayerHideOnEscape","React","ReactComponentWithPureRenderMixin","ReactDOM","ReactLayeredComponentMixin_DEPRECATED","ShimButton.react","SUIAtlasTheme","SUICardDEPRECATED.react","Text.atlas","UnifiedInboxSearchableListPrompt.contrib","XUIPopoverButton.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="button";c=b("React").createClass({displayName:"SearchableDropdownInput",propTypes:{onRemove:(a=b("prop-types")).func.isRequired,isRemoveDisabled:a.bool.isRequired,onSelect:a.func.isRequired,resetQueryStringOnSelect:a.bool.isRequired,searchSource:a.instanceOf(b("AbstractSearchSource")).isRequired,showSelectedSubtitle:a.bool.isRequired,"data-testid":a.string,customHeader:a.element,chevron:a.element,disabled:a.bool,disabledEntryIDs:a.instanceOf(Set),dropdownWidth:a.number,emptySearchResultsText:a.node,excludedEntries:a.object,header:a.node,headerClassName:a.string,maxEntries:a.number,placeholder:a.node,searchSourceOptions:a.object,showEntriesBeforeSearch:a.bool,skipAutoWidth:a.bool,title:a.string,maxWidth:a.number,getLeftContentForEntry:a.func,searchPlaceholder:a.node},mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactLayeredComponentMixin_DEPRECATED")],getDefaultProps:function(){return{resetQueryStringOnSelect:!1,showSelectedSubtitle:!0}},getInitialState:function(){return{isShowing:!1}},_onLayerToggle:function(a){!a&&this.state.isShowing&&(this.setState({isShowing:!1}),this.focusInput())},_toggleLayer:function(){this.props.disabled||this.setState({isShowing:!this.state.isShowing})},_onKeyDown:function(a){switch(a.keyCode){case b("Keys").DOWN:case b("Keys").UP:case b("Keys").SPACE:this.setState({isShowing:!0});break}},open:function(){this.setState({isShowing:!0})},close:function(){this.setState({isShowing:!1})},focusInput:function(){this.refs&&b("ReactDOM").findDOMNode(this.refs.button).focus()},_onSelect:function(a){this.setState({isShowing:!1}),this.focusInput(),this.props.onSelect(a)},_onRemove:function(a){this.props.isRemoveDisabled||(this.setState({isShowing:!1}),this.focusInput(),this.props.onRemove())},renderLayers:function(){var a=this,c;this.props.skipAutoWidth||(c=b("ReactDOM").findDOMNode(this.refs.button).offsetWidth);c=this.props.dropdownWidth||c||null;return{prompt:b("React").jsx(b("ContextualLayer.react"),{behaviors:{ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll"),ContextualLayerHideOnScrollOverHeader:b("ContextualLayerHideOnScrollOverHeader.atlas"),LayerAutoFocus:b("LayerAutoFocus"),LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape")},contextRef:function(){return a.refs.button},position:"below",alignment:"left",offsetY:4,shown:this.state.isShowing,autofocus:!0,onToggle:this._onLayerToggle,children:b("React").jsx("div",{style:{width:c},className:this.props.divClassName,onFocus:this.props.onFocus,children:b("React").jsxs(b("SUICardDEPRECATED.react"),{className:this.props.listClassName,theme:b("SUIAtlasTheme"),type:"fullbleed",children:[this.props.customHeader,b("React").jsx(b("UnifiedInboxSearchableListPrompt.contrib"),{disabledEntryIDs:this.props.disabledEntryIDs,emptySearchResultsText:this.props.emptySearchResultsText,excludedEntries:this.props.excludedEntries,header:this.props.header,headerClassName:this.props.headerClassName,maxEntries:this.props.maxEntries,onSelect:this._onSelect,resetQueryStringOnSelect:this.props.resetQueryStringOnSelect,searchSource:this.props.searchSource,placeholder:this.props.searchPlaceholder,searchSourceOptions:this.props.searchSourceOptions,selectedEntry:this.props.value,showEntriesBeforeSearch:this.props.showEntriesBeforeSearch,getLeftContentForEntry:this.props.getLeftContentForEntry}),b("React").jsx(b("ShimButton.react"),{className:(this.props.isRemoveDisabled?"":"_8q2m")+(this.props.isRemoveDisabled?" _8q2n":""),onClick:this._onRemove,children:h._("Remove Assignment")})]})})})}},render:function(){var a=this.props.placeholder,c=this.props.value;if(c){var d=this.props.title||c.getTitle();c=this.props.showSelectedSubtitle&&c.getSubtitle()?b("React").jsxs(b("Text.atlas"),{color:"light",size:"s",children:[" ",c.getSubtitle()]}):null;a=b("React").jsxs("span",{children:[d,c]})}return b("React").jsx(b("XUIPopoverButton.react"),{chevron:this.props.chevron,className:b("joinClasses")(this.props.className,"__yl"),"data-testid":this.props["data-testid"],disabled:this.props.disabled,label:a,maxwidth:this.props.maxWidth?this.props.maxWidth:null,onClick:this._toggleLayer,onKeyDown:this._onKeyDown,ref:i,size:"large"})}});e.exports=c}),null);
__d("PagesManagerInboxAdminAssigner.react",["ix","cx","fbt","CurrentUser","IGMessageDataMutateAction","IGMessageServerActions","Image.react","Link.react","MercuryIDs","MercuryThreadActions","PageCommItemAssignUniqueOwnerMutation","PageCommItemClearOwnersMutation","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesManagerAdminSearchSource","PagesManagerInboxCometUtil","PagesManagerInboxLogger","PagesManagerInboxMercuryUtil","React","RelayModern","SearchableDropdownInput.contrib","SearchableEntry","Tooltip","UnifiedInboxSearchableDropdownInput.contrib","asset","nullthrows","PagesManagerInboxAdminAssigner_commItem.graphql","PagesManagerInboxAdminAssigner_page.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function l(){return b("React").jsx("div",{className:"_wy6"})}function m(a){var c;return[(c=b("React")).jsx(b("Link.react"),babelHelpers["extends"]({className:"_wy3",onClick:a.onRemoveAssigned},b("Tooltip").propsFor(i._("Remove person assigned")),{children:c.jsx("div",{className:"_wy4"})}),"PagesManagerInboxAdminAssigner.removeAssigned"),c.jsx(l,{},"PagesManagerInboxAdminAssigner.divider"),c.jsx(b("Link.react"),babelHelpers["extends"]({className:"_wy3",onClick:a.onAssignToSelf},b("Tooltip").propsFor(i._("Assign to me")),{children:c.jsx("div",{className:"_wy5"})}),"PagesManagerInboxAdminAssigner.assignToMe")]}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this)||this;c.$6=function(a){__p&&__p();var d=b("nullthrows")(c.props.page.id);if(c.props.isIGDirect===!0&&c.props.mailboxID!==null&&c.props.mailboxID!==void 0&&c.props.threadID!==null&&c.props.threadID!==void 0){var e=c.props.mailboxID,f=c.props.threadID;b("IGMessageDataMutateAction").updateThreadAdminStatus(e,f,a.getUniqueID(),a.getTitle(),a.getPhoto());e=b("IGMessageServerActions").getForFBID(e);e.updateThreadAdminStatus(f,a.getUniqueID());return}b("PageCommItemAssignUniqueOwnerMutation").commit({adminID:a.getUniqueID(),adminName:a.getTitle(),adminPhotoUrl:a.getPhoto(),commItemID:b("nullthrows")(c.props.commItem.id),pageID:d});e=b("nullthrows")(c.props.commItem.target_id);c.$7([e],a.getTitle(),a.getUniqueID(),a.getPhoto());b("PagesLogger").log(d,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").MULTI_ADMIN_ASSIGNMENT,"unified_inbox");b("PagesManagerInboxLogger").logAdminAssignmentAction(d,"assign","other")};c.$8=function(){__p&&__p();if(c.props.isIGDirect===!0&&c.props.mailboxID!==null&&c.props.mailboxID!==void 0&&c.props.threadID!==null&&c.props.threadID!==void 0){var a=c.props.mailboxID,d=c.props.threadID;b("IGMessageDataMutateAction").updateThreadAdminStatus(a,d,null,null,null);a=b("IGMessageServerActions").getForFBID(a);a.updateThreadAdminStatus(d);return}b("PageCommItemClearOwnersMutation").commit({commItemID:b("nullthrows")(c.props.commItem.id),pageID:b("nullthrows")(c.props.page.id)});c.$5.close();a=b("nullthrows")(c.props.commItem.target_id);c.$7([a],null,null,null);b("PagesManagerInboxLogger").logAdminAssignmentAction(b("nullthrows")(c.props.page.id),"unassign","other")};c.$9=function(){var a=b("nullthrows")(c.props.page.page_admin_users).nodes;a=a.filter(function(a){return a.id===b("CurrentUser").getID()})[0];a=(a=a)!=null?(a=a.profile_picture)!=null?a.uri:a:a;b("PageCommItemAssignUniqueOwnerMutation").commit({adminID:b("CurrentUser").getID(),adminName:b("CurrentUser").getName(),adminPhotoUrl:b("nullthrows")(a),commItemID:b("nullthrows")(c.props.commItem.id),pageID:b("nullthrows")(c.props.page.id)});c.$5.close();var d=b("nullthrows")(c.props.commItem.target_id);c.$7([d],b("CurrentUser").getName(),b("CurrentUser").getID(),a);b("PagesManagerInboxLogger").logAdminAssignmentAction(b("nullthrows")(c.props.page.id),"assign","other")};c.$10=function(a){return b("React").jsx(b("Image.react"),{className:(c.props.shouldShowNewMultiAdminAssignment?"":"_16ny")+(c.props.shouldShowNewMultiAdminAssignment?" _8q1z":""),src:a.getPhoto()})};c.$3=new(b("SearchableEntry"))({uniqueID:0,title:""});c.$4=new(b("PagesManagerAdminSearchSource"))();return c}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=b("nullthrows")(this.props.page.page_admin_users);this.$4.cacheData(a.nodes)};d.$7=function(a,c,d,e){if(b("PagesManagerInboxMercuryUtil").shouldUseMercury()){var f=b("nullthrows")(this.props.page.id);a=a.map(function(a){return b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(a))});b("MercuryThreadActions").getForFBID(f).updateCommItemOwner(a,c,d,e)}};d.render=function(){var a=this,c;this.$1=((c=this.props.commItem)==null?void 0:(c=c.comm_item_owners)==null?void 0:(c=c.nodes[0])==null?void 0:(c=c.admin)==null?void 0:c.name)||this.props.adminName;this.$2=((c=this.props.commItem)==null?void 0:(c=c.comm_item_owners)==null?void 0:(c=c.nodes[0])==null?void 0:(c=c.admin)==null?void 0:c.id)||this.props.adminID;(this.$1===null||this.$1===void 0)&&(this.$1=this.props.page.name);this.$3=new(b("SearchableEntry"))({uniqueID:(c=this.$2)!=null?c:0,title:""});return this.props.shouldShowNewMultiAdminAssignment?b("React").jsx(b("UnifiedInboxSearchableDropdownInput.contrib"),{chevron:b("React").jsx(b("Image.react"),{src:g("502188")}),className:"_8q1-"+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"":" _8q9w")+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?" _8q7-":""),getLeftContentForEntry:this.$10,isRemoveDisabled:this.$2==null,listClassName:"_8q0u",onRemove:this.$8,onSelect:this.$6,ref:function(b){a.$5=b},resetQueryStringOnSelect:!0,searchSource:this.$4,showSelectedSubtitle:!0,title:this.$1!==this.props.page.name?i._("Assigned to {admin_name}",[i._param("admin_name",this.$1)]).toString():i._("Assign Conversation").toString(),value:this.$1!==null&&this.$1!==void 0&&this.$1!==""?this.$3:null}):b("React").jsx(b("SearchableDropdownInput.contrib"),{className:"_ol6 _72of",getLeftContentForEntry:this.$10,header:b("React").jsx(m,{onAssignToSelf:this.$9,onRemoveAssigned:this.$8}),headerClassName:"_wxd",listClassName:"_4wkt",onSelect:this.$6,placeholder:i._("Unassigned"),ref:function(b){a.$5=b},resetQueryStringOnSelect:!0,searchSource:this.$4,showSelectedSubtitle:!1,title:i._("Assigned to {admin_name}",[i._param("admin_name",this.$1!==null&&this.$1!==void 0&&this.$1!==""?this.$1:"")]).toString(),value:this.$1!==null&&this.$1!==void 0&&this.$1!==""?this.$3:null})};return c}(b("React").PureComponent);e.exports=a(c,{commItem:j!==void 0?j:j=b("PagesManagerInboxAdminAssigner_commItem.graphql"),page:k!==void 0?k:k=b("PagesManagerInboxAdminAssigner_page.graphql")})}),null);
__d("PagesManagerInboxHeaderTopNavNUX.react",["React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.onComponentMount()};d.componentWillUnmount=function(){this.props.onComponentUnmount()};d.render=function(){return b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,offsetX:8,onCloseButtonClick:this.props.onDismiss,position:"below",shown:!0,children:this.props.nuxText})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNUXAction",["AsyncRequest","PagesManagerDispatcher","PagesManagerInboxActionType","PagesManagerInboxLogger","XBasicFBNuxDismissController","XBasicFBNuxViewController","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({NUX_VIEW:null,NUX_DISMISS:null,NUX_CLICK_GET_STARTED:null});a={logView:function(a){if(a>0){var c=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))(c).send()}b("PagesManagerInboxLogger").create(g.NUX_VIEW).setNuxID(String(a)).log();b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").NUX.VIEW,nuxID:a})},logClickGetStarted:function(a){b("PagesManagerInboxLogger").create(g.NUX_CLICK_GET_STARTED).setNuxID(String(a)).log()},dismiss:function(a){if(a>0){var c=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))(c).send()}b("PagesManagerInboxLogger").create(g.NUX_DISMISS).setNuxID(String(a)).log();b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").NUX.DISMISS,nuxID:a})},hide:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").NUX.HIDE})}};e.exports=a}),null);
__d("PagesManagerInboxAdminAssignerNUXContainer.react",["fbt","FluxContainer","PagesManagerInboxHeaderTopNavNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="pages_inbox_admin_assign",i="business_inbox_ig_direct_multi_admin_assignment";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.state.shouldShowMultiAdminNUX?b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[h]):d.state.shouldShowIGMultiAdminNUX&&b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[i])},d.$2=function(){d.state.shouldShowMultiAdminNUX?b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[h]):d.state.shouldShowIGMultiAdminNUX&&b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[i])},d.$3=function(){d.state.shouldShowMultiAdminNUX?b("PagesManagerInboxNUXAction").hide():d.state.shouldShowIGMultiAdminNUX&&b("PagesManagerInboxNUXAction").hide()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxStore")]};c.calculateState=function(){return{shouldShowMultiAdminNUX:b("PagesManagerInboxStore").shouldShowNUX(h),shouldShowIGMultiAdminNUX:b("PagesManagerInboxStore").shouldShowNUX(i)}};var d=c.prototype;d.render=function(){if(this.state.shouldShowMultiAdminNUX||this.state.shouldShowIGMultiAdminNUX){var a=this.state.shouldShowMultiAdminNUX&&!this.state.shouldShowIGMultiAdminNUX?g._("Assign an owner to this conversation so the right person can respond. Only people who manage your Page will see this."):"",c=!this.state.shouldShowMultiAdminNUX&&this.state.shouldShowIGMultiAdminNUX?g._("Assign someone to respond to this conversation. Only people who manage your Page will see this."):"";return b("React").jsx(b("PagesManagerInboxHeaderTopNavNUX.react"),{contextRef:this.props.contextRef,nuxText:a||c,onComponentMount:this.$1,onComponentUnmount:this.$3,onDismiss:this.$2})}return null};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxQueryRenderer.react",["invariant","ErrorBoundary.react","PagesManagerInboxLogger","React","RelayFBEnvironment","RelayModern"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayModern").QueryRenderer;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:this.$1,children:b("React").jsx(h,babelHelpers["extends"]({cacheConfig:{force:!1},environment:b("RelayFBEnvironment")},this.props,{render:function(b){return a.$2(b)}}))})};d.$1=function(a,c){b("PagesManagerInboxLogger").logErrorJS(a,c)};d.$2=function(a){a.error&&b("PagesManagerInboxLogger").logErrorGraphQL(a.error);var c=this.props.render;c||g(0,2743);return c(a)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("UnifiedInboxAdminAssignerRoot.react",["PagesManagerInboxAdminAssigner.react","PagesManagerInboxAdminAssignerNUXContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","UnifiedInboxAdminAssignerRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("UnifiedInboxAdminAssignerRootQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?[b("React").jsx(b("PagesManagerInboxAdminAssigner.react"),babelHelpers["extends"]({ref:function(b){a.assigner=b}},c,{adminID:a.props.adminID,adminName:a.props.adminName,isIGDirect:!0,mailboxID:a.props.mailboxID,shouldShowNewMultiAdminAssignment:a.props.shouldShowNewMultiAdminAssignment,threadID:a.props.threadID}),"PagesManagerInboxAdminAssignerRoot.assigner"),b("React").jsx(b("PagesManagerInboxAdminAssignerNUXContainer.react"),{contextRef:function(){return a.assigner}},"PagesManagerInboxAdminAssignerRoot.NUX")]:null},variables:{mailboxID:this.props.mailboxID}})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxCometIGDirectHeaderContainer.react",["cx","CenteredContainer.react","ErrorBoundary.react","FluxContainer","IGDirectMessageGroupProfilePic.react","IGMessageDataMutateAction","IGMessageInboxStore","IGMessageServerActions","Image.react","Layout.react","LineClamp.react","LoadObject","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxCometDetailHeaderAction.react","PagesManagerInboxHeaderLoading.react","PagesManagerInboxListAction","PagesManagerInboxLogger","PagesManagerInboxPicSize","PagesManagerInboxStore","React","UnifiedInboxAdminAssignerRoot.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("Layout.react").Column,i=b("Layout.react").FillColumn,j=116;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={thread:b("LoadObject").empty()},d.$1=function(a){__p&&__p();var c=d.state.thread.getValue();if(!c)return;var e=b("PageCommItemStatusUtil").getUnreadStatusForMutation(a,c,d.props.filterStatus),f=b("PageCommItemStatusUtil").getFollowUpStatusForMutation(a,c,d.props.filterStatus);d.props.filterStatus!==a&&f==null&&e==null?(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.mailboxID,d.props.threadID)):f!==null?d.props.filterStatus===b("PageCommItemFolder").TODO?b("IGMessageDataMutateAction").updateThreadFollowUpStatus(d.props.mailboxID,d.props.threadID,c.is_follow_up!==!0):d.props.filterStatus===b("PageCommItemFolder").FOLLOW_UP&&(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.mailboxID,d.props.threadID)):e!==null&&b("IGMessageDataMutateAction").updateThreadReadStatus(d.props.mailboxID,d.props.threadID,c.is_read!==!0);b("PagesManagerInboxLogger").itemStatusChanged(d.props.threadID,"INSTAGRAM_DIRECT",a);b("PagesManagerInboxLogger").itemStatusChangedInHeader(d.props.threadID,"INSTAGRAM_DIRECT",a,d.props.filterStatus);c=b("IGMessageServerActions").getForFBID(d.props.mailboxID);b("PagesManagerInboxListAction").itemFolderChange([d.props.threadID],b("PageCommItemStatusUtil").getIGDStatus(a),b("PageCommItemStatusUtil").getIGDStatus(d.props.filterStatus));c.updateThreadStatus(d.props.threadID,b("PageCommItemStatusUtil").getIGDirectFolder(a,d.props.filterStatus),f,e)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("IGMessageInboxStore")]};c.calculateState=function(a,c){a=b("IGMessageInboxStore").getThread(c.mailboxID,c.threadID);return{thread:a}};var d=c.prototype;d.getNewRightSideAction=function(a,c,d,e,f){return c==null?null:b("React").jsx(b("PagesManagerInboxCometDetailHeaderAction.react"),{actionParam:b("PageCommItemStatusUtil").getActionParam("INSTAGRAM_DIRECT",this.props.filterStatus,!0,a),igUserID:c,igUserName:d,isIGGroup:e,onReadStatusChange:this.$1,onStatusChange:this.$1,pageID:this.props.mailboxID,showNewFolder:f,userID:this.props.threadID})};d.showHeaderSubtitle=function(){var a=this.state.thread.getValue();if(!a||!b("PagesManagerInboxStore").getIsMultiAdminEnabled())return null;if(this.props.shouldShowNewMultiAdminAssignment){var c;return b("React").jsx("div",{className:"_iyr",children:b("React").jsx(b("UnifiedInboxAdminAssignerRoot.react"),{adminID:(c=(c=a.assigned_admin)==null?void 0:c.id)!=null?c:null,adminName:(a=(c=a.assigned_admin)==null?void 0:c.name)!=null?a:null,mailboxID:this.props.mailboxID,shouldShowNewMultiAdminAssignment:!0,threadID:this.props.threadID})})}return null};d.render=function(){__p&&__p();var a,c,d,e;b("PagesManagerAction").setHeaderHeight(j);var f=this.state.thread.getValue();if(!f)return b("React").jsx(b("PagesManagerInboxHeaderLoading.react"),{});e=(e=f)!=null?(e=e.thread_users)!=null?e.nodes:e:e;if(!e)return null;var g=b("IGMessageInboxStore").getInboxIGID(),k=e.filter(function(a){return a.instagram_user_id!==g});k.length===0&&k.push(e[0]);if(!k)return null;e=(e=k[0].username)!=null?e:"";a=(a=k[0].instagram_user_id)!=null?a:null;d=(d=k)!=null?(d=d[0])!=null?(d=d.profile_picture)!=null?d.uri:d:d:d;var l=f.is_group;c=l===!0?b("React").jsx("div",{className:"_8g79",children:b("React").jsx(b("IGDirectMessageGroupProfilePic.react"),{imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURIs:[d,(c=k)!=null?(c=c[1])!=null?(c=c.profile_picture)!=null?c.uri:c:c:c]})}):b("React").jsx(b("Image.react"),{className:"_1-3q",height:b("PagesManagerInboxPicSize").ListRowProPicSize,src:d,width:b("PagesManagerInboxPicSize").ListRowProPicSize},d);return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsxs(b("Layout.react"),{className:"_8g7a","data-testid":"header_container",children:[b("React").jsx(h,{children:b("React").jsx(b("CenteredContainer.react"),{className:"_8g7b"+(l?"":" _8g7c")+" _5m0-",fullHeight:!0,horizontal:!1,vertical:!0,children:c})}),b("React").jsx(i,{children:b("React").jsxs(b("CenteredContainer.react"),{className:"_8g7d",fullHeight:!0,horizontal:!1,vertical:!0,children:[b("React").jsx("div",{className:"_8g7e",children:b("React").jsx(b("LineClamp.react"),{lines:1,children:((d=f.is_group)!=null?d:!1)?f.thread_title:k[0].username})}),this.showHeaderSubtitle()]})}),b("React").jsx(h,{children:this.getNewRightSideAction(f,a,e,l,this.props.showNewFolder)})]})})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxCommentContextCardSectionLayout.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:"_7-22",children:[this.props.title,this.props.children]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerIGConversationDeleteConfirmationDialog.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c;return(c=b("React")).jsx(b("FDSModal.react"),{footer:c.jsx(b("FDSModalFooter.react"),{primaryButton:c.jsx(b("FDSButton.react"),{label:g._("Delete"),onClick:a.onConfirm,use:"primary"}),secondaryButton:c.jsx(b("FDSButton.react"),{label:g._("Cancel"),onClick:a.onHide})}),header:c.jsx(b("FDSModalHeader.react"),{title:g._("Delete Conversation?")}),isShown:a.shown,label:"Delete Modal",onHide:a.onHide,children:c.jsx(b("FDSSection.react"),{children:g._("Deleting removes the conversation from your inbox, but no one else's inbox.")})})}e.exports=a}),null);
__d("MediaManagerInboxLogUtils",["MediaManagerFbPagePickerStore","MediaManagerInboxUtils","MediaManagerTypedLogger"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MediaManagerInboxUtils").InboxTabType;function h(a,c){c=c;c==null&&(c=new(b("MediaManagerTypedLogger"))());c=c.setEvent(a).setEventSource("inbox_tab").setSelectedSinglePageID(b("MediaManagerFbPagePickerStore").selectedSinglePageID()).setSelectedTab(g());c.log()}function a(a,c,d,e){var f=new(b("MediaManagerTypedLogger"))();c!==null&&(f=f.setPlatformRowID(String(c)));d!=null&&(f=f.setInboxPlatform(d));e!=null&&(f=f.setEventData(e));h(a,f)}function c(a){switch(a){case"MESSENGER":case"INSTAGRAM_DIRECT":return"MESSAGE";case"FACEBOOK":case"INSTAGRAM":return"COMMENT";default:return null}}function d(a){switch(a){case"MESSENGER":case"INSTAGRAM_DIRECT":return"THREAD";case"FACEBOOK":case"INSTAGRAM":return"POST";default:return null}}e.exports={getMediaManagerNotificationType:c,getMediaManagerPlatformRowType:d,mediaManagerInboxLoggingEvent:a}}),null);
__d("MediaManagerInboxContext.react",["FacebookAppIDs","MediaManagerInboxLogUtils","PageCommItemActionType","PageCommItemStatus","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerInboxLogUtils").getMediaManagerNotificationType,h=b("MediaManagerInboxLogUtils").getMediaManagerPlatformRowType,i=b("MediaManagerInboxLogUtils").mediaManagerInboxLoggingEvent,j=(a={},a[(c=b("PageCommItemStatus")).DELETED]="mark_deleted",a[c.DONE]="mark_done",a[c.FOLLOW_UP]="mark_follow_up",a[c.TODO]="mark_todo",a[c.SPAM]="mark_spam",a),k=(d={},d[b("PageCommItemActionType").MARK_READ]="mark_read",d[b("PageCommItemActionType").MARK_UNREAD]="mark_unread",d);f={appID:b("FacebookAppIDs").MEDIA_MANAGER,logClickPlatform:function(a,b){i("click_platform",null,a,{filter:b})},logClickRow:function(a,b){i("click_row",a,b)},logMarkReadStatusActions:function(a,b,c,d,e){i(k[d],a,b,{filter:c,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:e!=null?e.toString():""})},logMarkStatusActions:function(a,b,c,d,e){i(j[e],a,b,{filter:d,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:c!=null?c.toString():""})},logRowImpression:function(a,b,c,d){i("row_impression",a,b,{filter:d,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:c!=null?c.toString():""})},logRowPreviewImpression:function(a,b,c,d){i("row_preview_impression",a,b,{filter:d,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:c!=null?c.toString():""})},logSendMessageToTargetUser:function(a,b,c,d){i("send_message_to_target_user",a,b,{filter:d,notification_type:"MESSAGE",platform_row_type:"THREAD",rowIndex:c!=null?c.toString():""})},logSendStickerToTargetUser:function(a,b,c,d,e){i("send_sticker_to_target_user",a,b,{filter:e,inbox_messenger_send_sticker_id:d,notification_type:"MESSAGE",platform_row_type:"THREAD",rowIndex:c!=null?c.toString():""})}};a=b("React").createContext({appID:null,logClickPlatform:c=b("emptyFunction"),logClickRow:c,logMarkReadStatusActions:c,logMarkStatusActions:c,logRowImpression:c,logRowPreviewImpression:c,logSendMessageToTargetUser:c,logSendStickerToTargetUser:c});e.exports={MediaManagerInboxContext:a,MediaManagerInboxContextValue:f}}),null);
__d("PagesManagerInboxDetailHeaderActionUnit.react",["cx","CenteredContainer.react","PageCommItemActionType","React","Tooltip","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=600;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){switch(this.props.actionType){case b("PageCommItemActionType").INBOX:return"_stx";case b("PageCommItemActionType").DONE:return"_su6"}return""};d.$2=function(){__p&&__p();switch(this.props.actionType){case b("PageCommItemActionType").INBOX:return"_su7";case b("PageCommItemActionType").FOLLOW_UP:return"_421s";case b("PageCommItemActionType").UN_FOLLOW_UP:return"_421t";case b("PageCommItemActionType").DONE:return"_su9";case b("PageCommItemActionType").MARK_READ:return"_5hln";case b("PageCommItemActionType").MARK_UNREAD:return"_5hlu";case b("PageCommItemActionType").SPAM:return"_5zrz";case b("PageCommItemActionType").DELETE:return"_1pjy"}return""};d.$3=function(){switch(this.props.actionType){case b("PageCommItemActionType").DONE:return"_sua";default:return"_sub"}};d.$4=function(){var a=b("React").jsxs("div",{ref:"actionItem",children:[b("React").jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(this.props.actionLabel,"below"),{className:b("joinClasses")("_3jcz",this.$2()),"data-tooltip-delay":h})),b("React").jsx("span",{className:this.props.commPlatform==="WEC"?null:this.$3(),children:this.props.commPlatform==="WEC"?null:this.props.actionLabel})]});return a};d.render=function(){return b("React").jsx(b("CenteredContainer.react"),{className:b("joinClasses")("_suc",this.$1()),"data-testid":this.props.actionId,fullHeight:!0,horizontal:!1,onClick:this.props.onClick,vertical:!0,children:this.$4()})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxDetailHeaderAction.react",["cx","fbt","ConversationDeleteConfirmationDialog.react","FacebookAppIDs","IGMessageServerActions","MediaManagerInboxContext.react","MediaManagerInboxQEUtils","PageCommItemActionType","PageCommItemStatus","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxDetailHeaderActionUnit.react","PagesManagerInboxFilterStore","PagesManagerInboxMercuryUtil","PagesMessagingInboxActionLogger","React","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showConfirmationDialog:!1},d.$2=function(){d.setState({showConfirmationDialog:!0})},d.$5=function(){d.setState({showConfirmationDialog:!1})},d.$4=function(){__p&&__p();var a=b("PagesManagerInboxFilterStore").getActiveType();if(a==="INSTAGRAM_DIRECT"){var c=b("IGMessageServerActions").getForFBID(d.props.pageID);b("PagesMessagingInboxActionLogger").logDeleteThreadClicked("INSTAGRAM_DIRECT");c.deleteThread(d.props.userID)}else d.props.onStatusChange(b("PageCommItemStatus").DELETED);d.setState({showConfirmationDialog:!1});b("PagesManagerAction").clearViewListItem();b("PagesMessagingInboxActionLogger").logDeleteThreadClicked(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=this.context&&this.context.appID;return a===b("FacebookAppIDs").MEDIA_MANAGER&&b("MediaManagerInboxQEUtils").shouldShowNewDesign()&&b("PagesManagerInboxFilterStore").getActiveType()==="FACEBOOK"};d.render=function(){__p&&__p();var a=this,c=this.props.actionParam,d=[];c.showDelete&&d.push(b("React").jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_delete",actionLabel:h._("Delete conversation"),actionType:b("PageCommItemActionType").DELETE,commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),onClick:this.$2},b("PageCommItemActionType").DELETE));c.showSpam&&!this.$1()&&d.push(b("React").jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_spam",actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").SPAM),actionType:b("PageCommItemActionType").SPAM,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").SPAM)}},b("PageCommItemActionType").SPAM));c.showMarkRead&&d.push(b("React").jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_read",actionLabel:h._("Mark as read"),actionType:b("PageCommItemActionType").MARK_READ,onClick:function(){return a.props.onReadStatusChange(b("PageCommItemActionType").MARK_READ)}},b("PageCommItemActionType").MARK_READ));c.showMarkUnread&&d.push(b("React").jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_unread",actionLabel:h._("Mark as unread"),actionType:b("PageCommItemActionType").MARK_UNREAD,onClick:function(){return a.props.onReadStatusChange(b("PageCommItemActionType").MARK_UNREAD)}},b("PageCommItemActionType").MARK_UNREAD));if(c.showFollowUp){var e=b("PagesManagerInboxMercuryUtil").shouldUseMercury(),f=b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").FOLLOW_UP);e&&(f=b("PageCommItemStatusUtil").getStarLabel(b("PageCommItemStatus").FOLLOW_UP));d.push(b("React").jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_followup",actionLabel:f,actionType:b("PageCommItemActionType").FOLLOW_UP,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").FOLLOW_UP)}},b("PageCommItemActionType").FOLLOW_UP))}c.showUnFollowup&&d.push(b("React").jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_unfollowup",actionLabel:b("PageCommItemStatusUtil").getStarLabel(b("PageCommItemStatus").TODO),actionType:b("PageCommItemActionType").UN_FOLLOW_UP,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").TODO)}},b("PageCommItemActionType").UN_FOLLOW_UP));c.showInbox&&d.push(b("React").jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_move_to_main",actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").TODO),actionType:b("PageCommItemActionType").INBOX,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").TODO)}},b("PageCommItemActionType").INBOX));c.showDone&&d.push(b("React").jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_done",actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").DONE),actionType:b("PageCommItemActionType").DONE,onClick:function(){a.props.onStatusChange(b("PageCommItemStatus").DONE)}},b("PageCommItemActionType").DONE));d.length&&d.splice(d.length-1,0,this.$3());return b("React").jsxs("div",{className:"_33uz",children:[this.props.leftActions,this.props.leftActions?b("React").jsx("span",{className:"_3-8u",children:this.$3()}):null,d,b("React").jsx(b("ConversationDeleteConfirmationDialog.react"),{onConfirm:this.$4,onHide:this.$5,platform:b("PagesManagerInboxFilterStore").getActiveType(),shown:this.state.showConfirmationDialog},"delete modal")]})};d.$3=function(){return b("React").jsx("div",{className:"_33u_",children:b("React").jsx("div",{className:"_33v0"})},"actionDivider")};return c}(b("React").PureComponent);c.contextType=a;e.exports=c}),null);
__d("PagesManagerInboxIGDirectHeaderContainer.react",["ix","cx","fbt","CenteredContainer.react","ErrorBoundary.react","FluxContainer","IGDirectMessageGroupProfilePic.react","IGMessageDataMutateAction","IGMessageInboxStore","IGMessageServerActions","Image.react","Layout.react","LineClamp.react","Link.react","LoadObject","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerAction","PagesManagerIGConversationDeleteConfirmationDialog.react","PagesManagerInboxDetailHeaderAction.react","PagesManagerInboxHeaderLoading.react","PagesManagerInboxListAction","PagesManagerInboxLogger","PagesManagerInboxPicSize","PagesManagerInboxStore","PagesMessagingInboxActionLogger","React","Tooltip","UnifiedInboxAdminAssignerRoot.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=57;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={thread:b("LoadObject").empty(),shouldShowDeleteThreadDialog:!1},d.$1=function(){d.setState({shouldShowDeleteThreadDialog:!0})},d.$2=function(){d.setState({shouldShowDeleteThreadDialog:!1})},d.$3=function(){var a=b("IGMessageServerActions").getForFBID(d.props.mailboxID);b("PagesMessagingInboxActionLogger").logDeleteThreadClicked("INSTAGRAM_DIRECT");a.deleteThread(d.props.threadID);b("PagesManagerAction").clearViewListItem();d.setState({shouldShowDeleteThreadDialog:!1})},d.$4=function(a){__p&&__p();var c=d.state.thread.getValue();if(!c)return;var e=b("PageCommItemStatusUtil").getUnreadStatusForMutation(a,c,d.props.filterStatus),f=b("PageCommItemStatusUtil").getFollowUpStatusForMutation(a,c,d.props.filterStatus);d.props.filterStatus!==a&&f==null&&e==null?(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.mailboxID,d.props.threadID)):f!==null?d.props.filterStatus!==b("PageCommItemFolder").FOLLOW_UP?b("IGMessageDataMutateAction").updateThreadFollowUpStatus(d.props.mailboxID,d.props.threadID,c.is_follow_up!==!0):(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.mailboxID,d.props.threadID)):e!==null&&b("IGMessageDataMutateAction").updateThreadReadStatus(d.props.mailboxID,d.props.threadID,c.is_read!==!0);b("PagesManagerInboxLogger").itemStatusChanged(d.props.threadID,"INSTAGRAM_DIRECT",a);b("PagesManagerInboxLogger").itemStatusChangedInHeader(d.props.threadID,"INSTAGRAM_DIRECT",a,d.props.filterStatus);c=b("IGMessageServerActions").getForFBID(d.props.mailboxID);b("PagesManagerInboxListAction").itemFolderChange([d.props.threadID],b("PageCommItemStatusUtil").getIGDStatus(a),b("PageCommItemStatusUtil").getIGDStatus(d.props.filterStatus));c.updateThreadStatus(d.props.threadID,b("PageCommItemStatusUtil").getIGDirectFolder(a,d.props.filterStatus),f,e)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("IGMessageInboxStore")]};c.calculateState=function(a,c){c=b("IGMessageInboxStore").getThread(c.mailboxID,c.threadID);a=a!==null&&a!==void 0?a.shouldShowDeleteThreadDialog:!1;return{thread:c,shouldShowDeleteThreadDialog:a}};var d=c.prototype;d.getRightSideAction=function(){return this.props.rightSideAction!=null?this.props.rightSideAction:b("React").jsxs(b("CenteredContainer.react"),{className:"_suc",fullHeight:!0,horizontal:!1,vertical:!0,children:[b("React").jsx(b("Link.react"),babelHelpers["extends"]({onClick:this.$1},b("Tooltip").propsFor(i._("Delete conversation"),"below"),{children:b("React").jsx(b("Image.react"),{src:g("773389")})})),b("React").jsx(b("PagesManagerIGConversationDeleteConfirmationDialog.react"),{onConfirm:this.$3,onHide:this.$2,shown:this.state.shouldShowDeleteThreadDialog})]})};d.showHeaderSubtitle=function(){var a=this.state.thread.getValue();if(!a||!b("PagesManagerInboxStore").getIsMultiAdminEnabled())return null;if(this.props.shouldShowNewMultiAdminAssignment){var c;return b("React").jsx("div",{className:"_iyr",children:b("React").jsx(b("UnifiedInboxAdminAssignerRoot.react"),{adminID:(c=(c=a.assigned_admin)==null?void 0:c.id)!=null?c:null,adminName:(a=(c=a.assigned_admin)==null?void 0:c.name)!=null?a:null,mailboxID:this.props.mailboxID,shouldShowNewMultiAdminAssignment:!0,threadID:this.props.threadID})})}return null};d.render=function(){__p&&__p();var a,c;b("PagesManagerAction").setHeaderHeight(l);var d=this.state.thread.getValue();if(!d)return b("React").jsx(b("PagesManagerInboxHeaderLoading.react"),{});c=(c=d)!=null?(c=c.thread_users)!=null?c.nodes:c:c;if(!c)return null;var e=b("IGMessageInboxStore").getInboxIGID(),f=c.filter(function(a){return a.instagram_user_id!==e});f.length===0&&f.push(c[0]);if(!f)return null;c=(c=f)!=null?(c=c[0])!=null?(c=c.profile_picture)!=null?c.uri:c:c:c;var g=d.is_group;a=g===!0?b("React").jsx("div",{className:"_7fjz",children:b("React").jsx(b("IGDirectMessageGroupProfilePic.react"),{imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURIs:[c,(a=f)!=null?(a=a[1])!=null?(a=a.profile_picture)!=null?a.uri:a:a:a]})}):b("React").jsx(b("Image.react"),{className:"_1-3q",height:b("PagesManagerInboxPicSize").ListRowProPicSize,src:c,width:b("PagesManagerInboxPicSize").ListRowProPicSize},c);return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsxs(b("Layout.react"),{className:"_iyn","data-testid":"header_container",children:[b("React").jsx(j,{children:b("React").jsx(b("CenteredContainer.react"),{className:"_iyp"+(g?"":" _84mg")+" _5m0-",fullHeight:!0,horizontal:!1,vertical:!0,children:a})}),b("React").jsx(k,{children:b("React").jsxs(b("CenteredContainer.react"),{className:"_84mh",fullHeight:!0,horizontal:!1,vertical:!0,children:[b("React").jsx("div",{className:"_iyo",children:b("React").jsx(b("LineClamp.react"),{lines:1,children:((c=d.is_group)!=null?c:!1)?d.thread_title:f[0].username})}),this.showHeaderSubtitle()]})}),b("React").jsx(j,{children:this.props.showNewFolder===!0?b("React").jsx(b("PagesManagerInboxDetailHeaderAction.react"),{actionParam:b("PageCommItemStatusUtil").getActionParam("INSTAGRAM_DIRECT",this.props.filterStatus,!0,d),onReadStatusChange:this.$4,onStatusChange:this.$4,pageID:this.props.mailboxID,userID:this.props.threadID}):this.getRightSideAction()})]})})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxReturnToSendNUX.react",["fbt","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="www_return_to_send_message_nux";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowReturnToSendNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowReturnToSendNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(h);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[h]};d.render=function(){var a=g._("Press the Return\/Enter key to send messages.");return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:this.props.contextRef,onCloseButtonClick:this.$3,position:"above",shown:this.state.shouldShowReturnToSendNUX,width:"normal",children:a})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxFAQConstants",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Frequently Asked Questions");b=g._("Suggest questions people can ask your Page. Then set up automated responses to those questions.");c=g._("Automated responses are sent instantly after someone taps a question.");d=g._("Note: Frequently asked questions will appear at the beginning of a conversation with your Page. You can also choose to add these questions to a menu which people can access throughout the entire conversation.");f=g._("Questions and Responses");var h=g._("A maximum of four frequently asked questions can be displayed at the beginning of a conversation. You can add up to five questions to a menu which people can access throughout the conversation."),i=g._("Add to Menu"),j=g._("People messaging you will be able to access this question throughout the conversation."),k=g._("Replace persistent menu?"),l=g._("You've already used an API to create a persistent menu. Adding this question will replace the current options in your persistent menu."),m=g._("Replace"),n=g._("Maximum Questions Reached"),o=g._("You may only add up to five questions to the menu."),p=g._("Questions");g=g._("Menu");e.exports={FAQ_AUTO_RESPONSE_TOGGLE_TITLE:a,FAQ_EDIT_VIEW_INTRO:b,FAQ_TIMING_WHEN:c,FAQ_TIMING_NOTE:d,FAQ_EDITOR_CARD_TITLE:f,FAQ_EDITOR_CARD_DESCRIPTION:h,FAQ_MENU_TOGGLE_TITLE:i,FAQ_MENU_TOGGLE_DESCRIPTION:j,FAQ_MENU_REPLACE_WARN_TITLE:k,FAQ_MENU_REPLACE_WARN_DESCRIPTION:l,FAQ_MENU_REPLACE_CTA_TITLE:m,FAQ_MENU_ERROR_MAX_LIMIT_REACHED_TITLE:n,FAQ_MENU_ERROR_MAX_LIMIT_REACHED_DESCRIPTION:o,FAQ_PREVIEW_TAB_QUESTIONS:p,FAQ_PREVIEW_TAB_MENU:g}}),null);
__d("PagesManagerInboxSettingToggleRow.react",["cx","FDSSwitch.react","FDSText.react","FlexLayout.react","PagesManagerInboxFAQConstants","React","XUIError.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("PagesManagerInboxFAQConstants").FAQ_MENU_ERROR_MAX_LIMIT_REACHED_DESCRIPTION,i=5;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isOn:c.props.isOn,shouldShowError:!1},c.$1=function(){if(!c.state.isOn&&Number(c.props.numCustomQuestionsInMenu)>=i){c.setState({shouldShowError:!0});return}c.setState(function(a){return{isOn:!a.isOn,shouldShowError:!1}});c.props.onToggleChange&&c.props.onToggleChange(!c.state.isOn)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.isDisabled,d=a.title;a=a.subtitle;c=b("React").jsx(b("FDSSwitch.react"),{isDisabled:c,label:"",labelIsHidden:!0,onChange:this.$1,value:this.state.isOn});return b("React").jsx(b("XUIError.react"),{xuiError:this.state.shouldShowError?h:null,children:b("React").jsxs(b("FlexLayout.react"),{className:this.state.shouldShowError?"_8jo4":this.props.className,justify:"all",children:[b("React").jsxs(b("FlexLayout.react"),{direction:"vertical",children:[d!=null?b("React").jsx(b("FDSText.react"),{color:"primary",margin:"_3-94",size:"body2",weight:"bold",children:d}):null,a!=null?b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:a}):null]}),b("React").jsx(b("FlexLayout.react"),{className:"_8g_e",children:c})]})})};return c}(b("React").PureComponent);a.defaultProps={isDisabled:!1};e.exports=a}),null);
__d("PagesManagerInboxIGCommentAction",["PagesManagerDispatcher","PagesManagerInboxActionType"],(function(a,b,c,d,e,f){"use strict";a={deleteReply:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").IG_COMMENT.DELETE_REPLY,parentCommentID:a})},reply:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").IG_COMMENT.REPLY,parentCommentID:a})}};e.exports=a}),null);
__d("PagesManagerInboxProductPickerNuxContainer.react",["fbt","FluxContainer","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="business_inbox_product_picker_nux";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.setState({shouldShowNux:!1}),b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[h])},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(h);a&&b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[h]);return{shouldShowNux:a}};var d=c.prototype;d.render=function(){return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:this.props.contextRef,onCloseButtonClick:this.$1,position:"above",shown:this.state.shouldShowNux,children:g._("Now you can easily send products to potential customers.")})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerMessagingComposerActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({ATTACHMENT:{ALL_COMPLETE:"",ATTACH_CACHED:"",ATTACH_COMPLETE:"",ATTACH_START:"",CANCEL:"",DETACH:"",DETACH_ALL:""},AUTOMATED_CHECKOUT:{SET_AUTOMATED_CHECKOUT_ID:""},MESSAGE:{CLEAR:"",SET:""},PARTICIPANT:{SET:""},SAVED_REPLIES:{LOADING:"",SET:"",SET_REPLIES:"",SET_TOKENS:"",SET_UPSELL_NUX:"",SET_UPSELL_TOAST:""},SHARE_UPLOADER:{READY:"",CLEAR:""},UPLOADER:{READY:""},COMPOSER_STATE_REASON:""});e.exports=a}),null);
__d("PagesManagerMessagingComposerDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0})}),null);
__d("XWECMessagingAttachmentUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/wec/upload/",{request_user_id:{type:"Int"}})}),null);
__d("PagesManagerMessagingComposerStore",["FluxStore","MercuryConfig","PagesManagerMessagingComposerActionTypes","PagesManagerMessagingComposerDispatcher","PagesMessagingConfig","SavedResponsesUtils","URI","XWECMessagingAttachmentUploadController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){__p&&__p();b=a.call(this,b)||this;b.$PagesManagerMessagingComposerStore1=new Map();b.$PagesManagerMessagingComposerStore3=null;b.$PagesManagerMessagingComposerStore4=!1;b.$PagesManagerMessagingComposerStore5="";b.$PagesManagerMessagingComposerStore6=null;b.$PagesManagerMessagingComposerStore7=!1;b.$PagesManagerMessagingComposerStore8=!1;b.$PagesManagerMessagingComposerStore9=[];b.$PagesManagerMessagingComposerStore10={};b.$PagesManagerMessagingComposerStore11="";b.$PagesManagerMessagingComposerStore12=null;b.$PagesManagerMessagingComposerStore13=null;return b}var d=c.prototype;d.getAllAttachmentsMeta=function(){__p&&__p();var a=this.$PagesManagerMessagingComposerStore14(),b=[];for(var c=this.$PagesManagerMessagingComposerStore1.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;(f.id&&a.indexOf(f.id)!==-1||f.isUploading)&&b.push(f)}return b};d.getAttachedAttachmentIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getAttachments():[]};d.getAttachedImageIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getImageFiles():[]};d.getAttachedAnimatedImageIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getAnimatedImageFiles():[]};d.getAttachedVideoIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getVideoFiles():[]};d.getAttachedAudioFilesIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getAudioFiles():[]};d.getAttachedFilesIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getFiles():[]};d.getAutomatedCheckoutId=function(){return this.$PagesManagerMessagingComposerStore2};d.getFileUploader=function(){return this.$PagesManagerMessagingComposerStore3};d.getIsAttachmentUploading=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.isUploading():!1};d.getMessage=function(){return this.$PagesManagerMessagingComposerStore5};d.getQuickReplyMode=function(){return b("PagesMessagingConfig").sendOnEnter};d.getShouldShowSavedReplyUpsellNUX=function(){return this.$PagesManagerMessagingComposerStore7};d.getShouldShowSavedReplyUpsellToast=function(){return this.$PagesManagerMessagingComposerStore8};d.getParticipant=function(){return this.$PagesManagerMessagingComposerStore6};d.getSavedReplyResponses=function(){return this.$PagesManagerMessagingComposerStore9};d.getSavedReplyTokens=function(){return this.$PagesManagerMessagingComposerStore10};d.getMatchingShortcut=function(){return this.$PagesManagerMessagingComposerStore11};d.getShareLink=function(){if(this.$PagesManagerMessagingComposerStore12)return this.$PagesManagerMessagingComposerStore12.getAttachData()};d.getUploadActionFromUserID=function(a,c){if(!c)return null;return a==="WEC"?b("XWECMessagingAttachmentUploadController").getURIBuilder().setInt("request_user_id",c).getURI().toString():new(g||(g=b("URI")))(b("MercuryConfig").upload_url).addQueryData("request_user_id",c).toString()};d.$PagesManagerMessagingComposerStore15=function(a,b){this.$PagesManagerMessagingComposerStore1.set(b.upload_id,{id:"",isUploading:!0,name:b.metadata.filename,type:b.metadata.filetype,uploadID:b.upload_id})};d.$PagesManagerMessagingComposerStore16=function(a){var b=this;a.map(function(a){b.$PagesManagerMessagingComposerStore1.set(a.upload_id,{id:"",isUploading:!0,name:a.metadata.name,type:a.metadata.type,uploadID:a.upload_id})})};d.$PagesManagerMessagingComposerStore17=function(){this.$PagesManagerMessagingComposerStore5="",this.$PagesManagerMessagingComposerStore11=""};d.$PagesManagerMessagingComposerStore18=function(a){this.$PagesManagerMessagingComposerStore1.has(a)&&this.$PagesManagerMessagingComposerStore1["delete"](a)};d.$PagesManagerMessagingComposerStore19=function(){this.$PagesManagerMessagingComposerStore12&&this.$PagesManagerMessagingComposerStore12.clear()};d.$PagesManagerMessagingComposerStore20=function(a){var b;this.$PagesManagerMessagingComposerStore1.has(a.upload_id)&&(b=this.$PagesManagerMessagingComposerStore1.get(a.upload_id),b.id=this.$PagesManagerMessagingComposerStore21(a),b.isUploading=!1,this.$PagesManagerMessagingComposerStore1.set(a.upload_id,b))};d.$PagesManagerMessagingComposerStore14=function(){if(!this.$PagesManagerMessagingComposerStore3)return[];var a=this.$PagesManagerMessagingComposerStore3;return[].concat(a.getAttachments(),a.getImageFiles(),a.getAnimatedImageFiles(),a.getVideoFiles(),a.getAudioFiles(),a.getFiles())};d.$PagesManagerMessagingComposerStore21=function(a){return a.metadata.image_id||a.metadata.gif_id||a.metadata.video_id||a.metadata.audio_id||a.metadata.file_id};d.__onDispatch=function(a){__p&&__p();switch(a.actionType){case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ALL_COMPLETE:this.$PagesManagerMessagingComposerStore22();this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_COMPLETE:this.$PagesManagerMessagingComposerStore20(a.attachment);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_START:this.$PagesManagerMessagingComposerStore16(a.files);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH:this.$PagesManagerMessagingComposerStore23(a.uploadID);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH_ALL:this.$PagesManagerMessagingComposerStore24();this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").AUTOMATED_CHECKOUT.SET_AUTOMATED_CHECKOUT_ID:this.$PagesManagerMessagingComposerStore25(a.automatedCheckoutID);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").MESSAGE.CLEAR:this.$PagesManagerMessagingComposerStore17();break;case b("PagesManagerMessagingComposerActionTypes").MESSAGE.SET:this.$PagesManagerMessagingComposerStore26(a.message);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").PARTICIPANT.SET:this.$PagesManagerMessagingComposerStore27(a.participant);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.LOADING:this.$PagesManagerMessagingComposerStore28(a.isLoading);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_REPLIES:this.$PagesManagerMessagingComposerStore29(a.replies);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_TOKENS:this.$PagesManagerMessagingComposerStore30(a.tokens);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_NUX:this.$PagesManagerMessagingComposerStore31(a.shouldShowSavedReplyUpsellNUX);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_TOAST:this.$PagesManagerMessagingComposerStore32(a.shouldShowSavedReplyUpsellToast);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.READY:this.$PagesManagerMessagingComposerStore33(a.uploader);break;case b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.CLEAR:this.$PagesManagerMessagingComposerStore19();break;case b("PagesManagerMessagingComposerActionTypes").UPLOADER.READY:this.$PagesManagerMessagingComposerStore34(a.uploader);this.$PagesManagerMessagingComposerStore35();break;case b("PagesManagerMessagingComposerActionTypes").COMPOSER_STATE_REASON:this.$PagesManagerMessagingComposerStore13=a.composerStateReason;this.__emitChange();break}};d.$PagesManagerMessagingComposerStore24=function(){this.$PagesManagerMessagingComposerStore3&&(this.$PagesManagerMessagingComposerStore3.removeAttachments(),this.$PagesManagerMessagingComposerStore1.clear())};d.$PagesManagerMessagingComposerStore23=function(a){this.$PagesManagerMessagingComposerStore3&&(this.$PagesManagerMessagingComposerStore3.removeOneAttachment(a),this.$PagesManagerMessagingComposerStore18(a))};d.$PagesManagerMessagingComposerStore22=function(){var a=this;this.$PagesManagerMessagingComposerStore1.forEach(function(b,c){b.isUploading&&a.$PagesManagerMessagingComposerStore1["delete"](b.uploadID)})};d.$PagesManagerMessagingComposerStore25=function(a){this.$PagesManagerMessagingComposerStore2=a};d.$PagesManagerMessagingComposerStore34=function(a){this.$PagesManagerMessagingComposerStore3=a};d.$PagesManagerMessagingComposerStore28=function(a){this.$PagesManagerMessagingComposerStore4=a};d.$PagesManagerMessagingComposerStore26=function(a){this.$PagesManagerMessagingComposerStore5=a,a.length>=3&&b("SavedResponsesUtils").checkHasMatchingShortcut(a,this.$PagesManagerMessagingComposerStore9)?this.$PagesManagerMessagingComposerStore11=a.toLowerCase():this.$PagesManagerMessagingComposerStore11=""};d.$PagesManagerMessagingComposerStore27=function(a){this.$PagesManagerMessagingComposerStore6=a};d.$PagesManagerMessagingComposerStore29=function(a){this.$PagesManagerMessagingComposerStore9=a};d.$PagesManagerMessagingComposerStore30=function(a){var b=Object.keys(this.$PagesManagerMessagingComposerStore10).length;this.$PagesManagerMessagingComposerStore10=a;b===0&&this.$PagesManagerMessagingComposerStore9!==null&&this.$PagesManagerMessagingComposerStore29(this.$PagesManagerMessagingComposerStore9)};d.$PagesManagerMessagingComposerStore31=function(a){this.$PagesManagerMessagingComposerStore7=a};d.$PagesManagerMessagingComposerStore32=function(a){this.$PagesManagerMessagingComposerStore8=a};d.$PagesManagerMessagingComposerStore33=function(a){this.$PagesManagerMessagingComposerStore12=a};d.$PagesManagerMessagingComposerStore35=function(){var a=this.$PagesManagerMessagingComposerStore3;a&&a.subscribe("cached-file-added",this.$PagesManagerMessagingComposerStore15.bind(this))};d.getComposerStateReason=function(){return this.$PagesManagerMessagingComposerStore13};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerMessagingComposerDispatcher"))}),null);
__d("PagesManagerInboxSavedRepliesUpsellNUXContainer.react",["fbt","FluxContainer","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesManagerMessagingComposerStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="page_inbox_saved_reply_upsell_nux";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){d.setState({shouldShowNUX:!1}),b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[h])},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerMessagingComposerStore")]};c.calculateState=function(a,c){return{shouldShowNUX:b("PagesManagerMessagingComposerStore").getShouldShowSavedReplyUpsellNUX()}};var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(h);a&&b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[h]);return a};d.render=function(){var a=g._("Manage and send all your saved replies from this menu.");return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:this.props.contextRef,onCloseButtonClick:this.$2,position:"above",shown:this.state.shouldShowNUX&&this.$1(),children:a})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxSavedReplyNewUINuxContainer.react",["fbt","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="page_inbox_saved_reply_nux";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNux:d.$1()},d.$2=function(){d.setState({shouldShowNux:!1}),b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[h])},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(h);a&&b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[h]);return a};d.render=function(){var a=this.props.haveUsedSavedReplies?g._("New! Add shortcuts for your saved replies to send messages more quickly."):g._("Create saved replies to send common responses more quickly.");return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:this.props.contextRef,onCloseButtonClick:this.$2,position:"above",shown:this.state.shouldShowNux,children:a})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxIGCommentStore",["FluxStore","PagesManagerDispatcher","PagesManagerInboxActionType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerInboxIGCommentStore1=new Map();c.$PagesManagerInboxIGCommentStore2=null;return c}var d=c.prototype;d.__onDispatch=function(a){switch(a.type){case b("PagesManagerInboxActionType").IG_COMMENT.REPLY:this.updateStore(a);this.__emitChange();break;case b("PagesManagerInboxActionType").IG_COMMENT.DELETE_REPLY:this.updateStore(a);this.__emitChange();break}};d.updateStore=function(a){__p&&__p();var c,d=this.$PagesManagerInboxIGCommentStore1.get(a.parentCommentID);c=(c=d==null?void 0:d.numRepliesLoaded)!=null?c:0;d=(d=d==null?void 0:d.numRepliesShowing)!=null?d:0;var e={};switch(a.type){case b("PagesManagerInboxActionType").IG_COMMENT.REPLY:e={numRepliesLoaded:c+1,numRepliesShowing:d+1};break;case b("PagesManagerInboxActionType").IG_COMMENT.DELETE_REPLY:e={numRepliesLoaded:c-1,numRepliesShowing:d-1};break}this.setReplyInfo(a.parentCommentID,e);this.setUpdatedCommentID(a.parentCommentID)};d.getReplyInfo=function(a){return this.$PagesManagerInboxIGCommentStore1.get(a)};d.setReplyInfo=function(a,b){this.$PagesManagerInboxIGCommentStore1.set(a,b)};d.getUpdatedCommentID=function(){return this.$PagesManagerInboxIGCommentStore2};d.setUpdatedCommentID=function(a){this.$PagesManagerInboxIGCommentStore2=a};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxListStore",["AbstractPagesManagerListStore","MediaManagerActionTypes","MercuryPageOrderedThreadlist","MercuryThreadlistConstants","MessengerState.bs","PageCommItemFolder","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxFilterStore","PagesManagerInboxMercuryUtil","PagesManagerMessagingNavigationUnitKey"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.__isLoading=!0;return c}var d=c.prototype;d.__onDispatch=function(c){__p&&__p();this.__areThreadsFetchedUpdated=!1;switch(c.type){case b("PagesManagerActionType").LIST.SET_RESPONSE_DATA:this.__isLoading=!c.isReady;this.__emitChange();break;case b("PagesManagerActionType").LIST.ITEM_FOLDER_CHANGE:this.$PagesManagerInboxListStore7(c.ids,c.newFolder,c.oldFolder);this.__emitChange();break;case b("PagesManagerActionType").LIST.REMOVE_ITEM_FOLDER_CHANGE:this.$PagesManagerInboxListStore1&&this.$PagesManagerInboxListStore1.id===c.ids[0]&&(this.$PagesManagerInboxListStore1=null);this.__emitChange();break;case b("PagesManagerActionType").LIST.BAN_STATUS_CHANGE:this.$PagesManagerInboxListStore5=c.isBanned;this.$PagesManagerInboxListStore4=c.userName;this.__emitChange();break;case b("PagesManagerActionType").LIST.REMOVE_BAN_NOTICE:this.$PagesManagerInboxListStore5=null;this.$PagesManagerInboxListStore4=null;this.__emitChange();break;case b("PagesManagerActionType").LIST.FETCH:this.__handleListFetch(c);break;case g.MEDIA_MANAGER_INBOX_LIST_ROW_IMPRESSION:this.$PagesManagerInboxListStore6=c.rowIndex;break;default:a.prototype.__onDispatch.call(this,c)}};d.getLastMutatedItem=function(){return this.$PagesManagerInboxListStore1};d.getMediaManagerInboxListRowIndex=function(){return this.$PagesManagerInboxListStore6};d.hasMutatedItem=function(){return this.$PagesManagerInboxListStore2};d.getUserName=function(){return this.$PagesManagerInboxListStore4};d.getIsUserBanned=function(){return this.$PagesManagerInboxListStore5};d.$PagesManagerInboxListStore7=function(a,b,c){this.$PagesManagerInboxListStore1={id:a[0],oldFolder:c,newFolder:b},this.$PagesManagerInboxListStore2=!0};d.__handleListFetch=function(a){var c=a.pageID,d=a.offset;a=a.limit;this.__isLoading=!0;var e=this.$PagesManagerInboxListStore8(c,d+a);e?this.$PagesManagerInboxListStore9(this.hasMoreItem(b("PagesManagerInboxFilterStore").getActiveFolder())):this.$PagesManagerInboxListStore10(c,d,a);this.__emitChange()};d.$PagesManagerInboxListStore8=function(a,c){a=b("MercuryPageOrderedThreadlist").getForFBID(a);var d=b("PagesManagerInboxFilterStore").getActiveMessageFolder(),e=a.hasLoadedThreadlist(d,b("PagesManagerInboxFilterStore").getActiveFilter());e=d===b("PagesManagerMessagingNavigationUnitKey").FOLDERS.ARCHIVED?e&&a.hasLoadedThreadlist(b("PagesManagerMessagingNavigationUnitKey").FOLDERS.PAGE_BACKGROUND,b("PagesManagerInboxFilterStore").getActiveFilter()):e;a=a.getThreadCount(d,b("PagesManagerInboxFilterStore").getActiveFilter())>=c;return e||a};d.$PagesManagerInboxListStore10=function(a,c,d){__p&&__p();var e=this,f=b("PagesManagerInboxFilterStore").getActiveMessageFolder(),g=b("PagesManagerInboxFilterStore").getActiveFilter(),h=b("MercuryPageOrderedThreadlist").getForFBID(a);h.getFilteredThreadlist(c,d+1,f,g,function(i){__p&&__p();if(f===b("PagesManagerMessagingNavigationUnitKey").FOLDERS.ARCHIVED)h.getFilteredThreadlist(c,d+1,b("PagesManagerMessagingNavigationUnitKey").FOLDERS.PAGE_BACKGROUND,g,function(f){f=i.concat(f);var c=f.length>d;e.$PagesManagerInboxListStore3=b("MessengerState.bs").getMultiThreadMeta(a,f,function(a){e.$PagesManagerInboxListStore9(c)},null)});else{var j=i.length>d;e.$PagesManagerInboxListStore3=b("MessengerState.bs").getMultiThreadMeta(a,i,function(a){e.$PagesManagerInboxListStore9(j)},null)}})};d.$PagesManagerInboxListStore11=function(a){a=b("MercuryPageOrderedThreadlist").getForFBID(a);var c=b("PagesManagerInboxFilterStore").getActiveMessageFolder(),d=b("PagesManagerInboxFilterStore").getActiveFilter();if(c===b("PagesManagerMessagingNavigationUnitKey").FOLDERS.ARCHIVED){a.getThreadlistOrderMap(c,d).addResources(a.getThreadlistOrderMap(b("PagesManagerMessagingNavigationUnitKey").FOLDERS.PAGE_BACKGROUND,d).getAllResources());return a.getAvailableThreadlistNow(c,d)}else return a.getAvailableThreadlistNow(c,d)};d.$PagesManagerInboxListStore9=function(a){this.__isLoading=!1,this.__hasMoreItem.set(b("PagesManagerInboxFilterStore").getActiveFolder(),a),this.__dispatcher.isDispatching()||this.__dispatcher.dispatch({type:b("PagesManagerActionType").LIST.FETCHED})};d.getItemList=function(a){var c=this.$PagesManagerInboxListStore11(a),d=b("PagesManagerInboxFilterStore").getActiveMessageFolder();d=this.hasMoreItem(d)&&c.length>0?c.slice(0,c.length-1):c;var e=[];d.forEach(function(c){c=b("MessengerState.bs").getThreadMetaNow(a,c);c&&e.push(c)});return e};d.getItemsForAdmin=function(a,c){a=this.getItemList(a);var d=b("PagesManagerInboxFilterStore").getActiveFolder();d===b("PageCommItemFolder").FOLLOW_UP&&(a=a.filter(function(a){return a.comm_status&&a.comm_status.toUpperCase()===b("PageCommItemFolder").FOLLOW_UP}));c==="NONE"?a=a.filter(function(a){return a.comm_item_owners&&!a.comm_item_owners.nodes[0]}):c&&(a=a.filter(function(a){return((a=a)!=null?(a=a.comm_item_owners)!=null?(a=a.nodes)!=null?(a=a[0])!=null?(a=a.admin)!=null?a.id:a:a:a:a:a)===c}));return a};d.getThreadSubscription=function(){return this.$PagesManagerInboxListStore3};d.__handleNavigationUnitChange=function(a){b("PagesManagerDispatcher").waitFor([b("PagesManagerInboxFilterStore").getDispatchToken()]);if(!b("PagesManagerInboxMercuryUtil").shouldUseMercury())return;this.__handleListFetch({pageID:a.pageID,offset:0,limit:b("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT})};return c}(b("AbstractPagesManagerListStore"));e.exports=new a()}),null);
__d("PagesManagerInboxComposerStateReasonType",[],(function(a,b,c,d,e,f){"use strict";e.exports={DISABLE_LEFT_GROUP:"DISABLE_LEFT_GROUP",ENABLE_NOT_GROUP:"ENABLE_NOT_GROUP",ENABLE_IN_GROUP:"ENABLE_IN_GROUP"}}),null);
__d("PagesManagerDisableComposerView.react",["cx","fbt","PagesManagerInboxComposerStateReasonType","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.composerStateReason===b("PagesManagerInboxComposerStateReasonType").DISABLE_LEFT_GROUP)return b("React").jsx("div",{children:b("React").jsx("span",{className:"_73d5",children:h._("You can't send messages to this group because you're no longer a participant.")})});else return b("React").jsx("div",{children:b("React").jsx("span",{className:"_73d5",children:h._("You can't send messages. Message composer has been disabled.")})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxDetailView.react",["cx","CenteredContainer.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","MNCommerceDialogContainer.react","PagesManagerInboxFilterStore","PagesManagerInboxStore","React","ResponsiveBlock.react","ScrollableArea.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={composerHeight:0,headerHeight:0},c.$4=function(a,b){c.setState({composerHeight:b})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$2()};d.componentDidUpdate=function(a,b){this.props.token!==a.token&&this.$2();if(this.state.composerHeight!==b.composerHeight||this.state.headerHeight!==b.headerHeight||this.props.height!==a.height){b=this.props.onScrollHeightChange;b&&b(this.$3())}};d.$2=function(){if(this.$1){var a=this.$1.getArea();a&&a.scrollToBottom()}};d.$3=function(){return Math.max(this.props.height-this.state.headerHeight-this.state.composerHeight,0)};d.$5=function(){if(b("PagesManagerInboxFilterStore").getActiveType()!=="INSTAGRAM")return!1;if(b("PagesManagerInboxStore").getBusinessInboxAppConfig()!=null){var a;return Boolean((a=b("PagesManagerInboxStore").getBusinessInboxAppConfig())==null?void 0:(a=a.instagramConfig)==null?void 0:a.shouldShowIGRevampComments)}return b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM.shouldShowIGRevampComments};d.$6=function(){var a=this;if(this.props.useCustomScrollableArea)return b("React").jsx("div",{style:{height:this.$3(this.state.headerHeight,this.state.composerHeight)},children:this.props.content});else if(this.props.shouldShowRevampCommentDesign===!0||this.$5())return b("React").jsx(b("ScrollableArea.react"),{className:"_7-21",height:this.$3(this.state.headerHeight,this.state.composerHeight),ref:function(b){return a.$1=b},shadow:!1,children:this.props.content});else return b("React").jsx(b("ScrollableArea.react"),{className:"_2pw6",height:this.$3(this.state.headerHeight,this.state.composerHeight),ref:function(b){return a.$1=b},shadow:!1,children:b("React").jsx(b("CenteredContainer.react"),{children:this.props.content})})};d.$7=function(){return this.props.commPlatform==="MESSENGER"?b("React").jsx(b("MNCommerceDialogContainer.react"),{}):null};d.render=function(){if(this.$5()){var a;return(a=b("React")).jsxs(b("Layout.react"),{style:{height:this.props.height},children:[a.jsxs(b("LayoutFillColumn.react"),{className:b("joinClasses")(this.props.className,"_8ax6"),children:[this.props.searchView,this.$6(),a.jsx(b("ResponsiveBlock.react"),{className:"_5n4j",onResize:this.$4,children:this.props.composer})]}),a.jsx(b("LayoutColumn.react"),{className:"_8ax1",children:this.props.contextCard})]})}else return b("React").jsxs("div",{className:b("joinClasses")(this.props.className,"_5n4i"),style:{height:this.props.height},children:[this.props.searchView,this.$6(),this.$7(),b("React").jsx(b("ResponsiveBlock.react"),{className:"_5n4j",onResize:this.$4,style:{paddingBottom:this.props.paddingBottom},children:this.props.composer})]})};return c}(b("React").PureComponent);a.defaultProps={onScrollHeightChange:function(){},useCustomScrollableArea:!1};e.exports=a}),null);
__d("PagesManagerInboxFacebookPost.react",["DOMContainer.react","PagesManagerInboxLogger","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){b("PagesManagerInboxLogger").itemRendered(this.props.commItemID)};d.render=function(){return b("React").jsx(b("DOMContainer.react"),{children:this.props.post})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxFacebookPostComposer.react",["cx","CenteredContainer.react","DOMContainer.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{children:b("React").jsx(b("CenteredContainer.react"),{className:"_2y_2",fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("DOMContainer.react"),{children:this.props.composer})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerAwayToggleSubscription",["RelayFBEnvironment","RelayModern","PagesManagerAwayToggleSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription,i=g!==void 0?g:g=b("PagesManagerAwayToggleSubscription.graphql");function a(a){return h(b("RelayFBEnvironment"),{subscription:i,variables:{input:a}})}e.exports={subscribe:a}}),null);
__d("PagesManagerInboxAwayToggleMutation",["DateTime","RelayFBEnvironment","RelayModern","PagesManagerInboxAwayToggleMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxAwayToggleMutation.graphql");function a(a,c){var d=function(){return{set_page_away_toggle:{page:{away_toggle_expiration:a.isAway?b("DateTime").localNow().addHours(12).getUnixTimestampSeconds():null,id:a.pageID,is_away_toggle_on:a.isAway}}}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.pageID,is_away:a.isAway,page_id:a.pageID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxAwayToggle.react",["cx","fbt","DateTime","FBCheckbox.react","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","Link.react","PagesManagerInboxAwayToggleMutation","PagesTimeRangeEditorUtilities","React","SUIBusinessTheme","SUIPopoverLayer.react","Tooltip","XPagesManagerInboxController","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){if(a.getShouldShowIGDirectAutomatedResponse){var c=h._("You'll be notified when people send {page name} messages on Instagram and Messenger.",[h._param("page name",a.pageName)]);a.igPlatformEnabled===!0&&a.messengerPlatformEnabled===!1?c=h._("You'll be notified when people send {page name} messages on Instagram.",[h._param("page name",a.pageName)]):(a.igPlatformEnabled===!1&&a.messengerPlatformEnabled===!0||a.isIGDirecConnected===!1)&&(c=h._("You'll be notified when people send {page name} messages in Messenger.",[h._param("page name",a.pageName)]));return b("React").jsxs("div",{className:"_7mhr",children:[b("React").jsx(b("FBCheckbox.react"),{checked:a.isChecked,onToggle:a.onToggle}),b("React").jsxs("div",{className:"_7mhs",children:[b("React").jsx(b("FDSText.react"),{color:"positive",display:"block",size:"body1",children:h._("Available")}),b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:c})]})]})}return b("React").jsxs("div",{className:"_7mhr",children:[b("React").jsx(b("FBCheckbox.react"),{checked:a.isChecked,onToggle:a.onToggle}),b("React").jsxs("div",{className:"_7mhs",children:[b("React").jsx(b("FDSText.react"),{color:"positive",display:"block",size:"body1",children:h._("Available")}),b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:h._("You'll be notified when people send {page name} messages in Messenger.",[h._param("page name",a.pageName)])})]})]})}function j(a){if(a.getShouldShowIGDirectAutomatedResponse){var c=h._("{page name} will be away for 12 hours or as long as you're scheduled to be away. People who send you messages on Instagram and Messenger will receive an away message, and you won't get message notifications. Messages received won't be included in your Messenger response rate or response time calculations.",[h._param("page name",a.pageName)]);a.igPlatformEnabled===!0&&a.messengerPlatformEnabled===!1?c=h._("{page name} will be away for 12 hours or as long as you're scheduled to be away. People who send you Instagram messages will receive an away message, and you won't get message notifications.",[h._param("page name",a.pageName)]):(a.igPlatformEnabled===!1&&a.messengerPlatformEnabled===!0||a.isIGDirecConnected===!1)&&(c=h._("{page name} will be away for 12 hours or as long as you're scheduled to be away. People who send you messages in Messenger will receive an away message, and you won't get message notifications. Messages received won't be included in your Page's response rate or response time calculations.",[h._param("page name",a.pageName)]));return b("React").jsxs("div",{className:"_7mhr",children:[b("React").jsx(b("FBCheckbox.react"),{checked:a.isChecked,onToggle:a.onToggle}),b("React").jsxs("div",{className:"_7mhs",children:[b("React").jsx(b("FDSText.react"),{color:"negative",display:"block",size:"body1",children:h._("Away")}),b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:c})]})]})}return b("React").jsxs("div",{className:"_7mhr",children:[b("React").jsx(b("FBCheckbox.react"),{checked:a.isChecked,onToggle:a.onToggle}),b("React").jsxs("div",{className:"_7mhs",children:[b("React").jsx(b("FDSText.react"),{color:"negative",display:"block",size:"body1",children:h._("Away")}),b("React").jsxs(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:[a.isChecked?null:h._("{page name} will be away for 12 hours or as long as you're scheduled to be away.",[h._param("page name",a.pageName)])," ",h._("People who send {page name} messages in Messenger will receive an away message, and you won't get message notifications. Messages received won't be included in your Page's response rate or response time calculations.",[h._param("page name",a.pageName)])]})]})]})}function k(a){__p&&__p();var c=b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:h._("When you edit your away message, you also can schedule times for your Page to be away each week.")});if(a.hasAwaySchedule){var d=a.nextAwayBlock;if(d==null)c=b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:h._("You've scheduled your Page to be always away.")});else{var e=b("DateTime").localCreate(d.from);d=b("DateTime").localCreate(d.to);var f=b("DateTime").localNow(),g=e.getDayOfWeek()===d.getDayOfWeek();c=b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:h._("Your Page is scheduled to be away next from {nextAwayFrom} to {nextAwayTo}.",[h._param("nextAwayFrom",b("PagesTimeRangeEditorUtilities").getFormatedTime(e,f,g)),h._param("nextAwayTo",b("PagesTimeRangeEditorUtilities").getFormatedTime(d,f))])})}}return b("React").jsxs("div",{className:"_7mht",children:[c,b("React").jsx(b("Link.react"),{href:a.getMessageSettingsURI(),children:h._("Edit Away Message and Schedule")})]})}function l(a){var c;return(c=b("React")).jsx(b("FDSModal.react"),{footer:c.jsx(b("FDSModalFooter.react"),{primaryButton:c.jsx(b("FDSButton.react"),{label:h._("OK"),onClick:a.onConfirmClick,use:"primary"}),secondaryButton:c.jsx(b("FDSCancelButton.react"),{})}),header:c.jsx(b("FDSModalHeader.react"),{title:h._("Make Page Available?")}),isShown:a.isShown,onHide:a.onCancelClick,children:c.jsx(b("FDSSection.react"),{children:c.jsx(b("FDSText.react"),{children:h._("Because your Page is scheduled to always be away, making your Page available will remove your away schedule. You can schedule times for your Page to be away in the Automated Responses tab.")})})})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1,showAlwaysAwayDialog:!1},d.handleClickOutside=function(a){a=a.target;d.$2&&a instanceof Node&&!d.$2.contains(a)&&d.setState({showDialog:!1})},d.$3=function(a){d.$2=a},d.$4=function(){b("PagesManagerInboxAwayToggleMutation").commit({pageID:d.props.pageID,isAway:!0}),d.setState({showDialog:!1})},d.$5=function(){if(!d.props.awayTimeRanges.isEmpty()&&d.props.expireTimestamp==null){d.setState({showAlwaysAwayDialog:!0});return}b("PagesManagerInboxAwayToggleMutation").commit({pageID:d.props.pageID,isAway:!1});d.setState({showDialog:!1})},d.$6=function(){return b("XPagesManagerInboxController").getURIBuilder().setString("page_token",d.props.pageID).setEnum("section","automated_responses").setEnum("automation","away_message").getURI()},d.$7=function(a){d.$1=a},d.$8=function(){return d.$1},d.$9=function(){d.setState(function(a){return{showDialog:!a.showDialog}})},d.$10=function(){d.setState({showAlwaysAwayDialog:!1,showDialog:!1})},d.$11=function(){d.setState({showAlwaysAwayDialog:!1,showDialog:!1}),b("PagesManagerInboxAwayToggleMutation").commit({pageID:d.props.pageID,isAway:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){document.addEventListener("mousedown",this.handleClickOutside)};d.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleClickOutside)};d.render=function(){var a=this.props.nextAwayRange!=null?JSON.parse(this.props.nextAwayRange):null;return b("React").jsxs("div",{children:[b("React").jsx("div",babelHelpers["extends"]({className:"_7xv1",onClick:this.$9,ref:this.$7,role:"button",tabIndex:"0"},b("Tooltip").propsFor(this.props.isAway?h._("Away"):h._("Available")),{children:b("React").jsx("div",{className:"_7xu0"+(this.props.isAway?" _44hk":"")+(this.props.isAway?"":" _44hl")})})),this.state.showDialog?b("React").jsx(b("SUIPopoverLayer.react"),{content:b("React").jsxs("div",{className:"_7mhu",ref:this.$3,children:[b("React").jsx(i,{getShouldShowIGDirectAutomatedResponse:this.props.getShouldShowIGDirectAutomatedResponse,igPlatformEnabled:this.props.igPlatformEnabled,isChecked:!this.props.isAway,isIGDirecConnected:this.props.isIGDirecConnected,messengerPlatformEnabled:this.props.messengerPlatformEnabled,onToggle:this.$5,pageName:this.props.pageName}),b("React").jsx(j,{getShouldShowIGDirectAutomatedResponse:this.props.getShouldShowIGDirectAutomatedResponse,igPlatformEnabled:this.props.igPlatformEnabled,isChecked:this.props.isAway,isIGDirecConnected:this.props.isIGDirecConnected,messengerPlatformEnabled:this.props.messengerPlatformEnabled,onToggle:this.$4,pageName:this.props.pageName}),b("React").jsx(k,{getMessageSettingsURI:this.$6,hasAwaySchedule:!this.props.awayTimeRanges.isEmpty(),nextAwayBlock:a})]}),contextRef:this.$8,margin:"_4jnw",offsetY:8,position:"below",theme:b("SUIBusinessTheme")}):null,b("React").jsx(l,{isShown:this.state.showAlwaysAwayDialog,onCancelClick:this.$10,onConfirmClick:this.$11})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationMessageComposer.react",["PagesContentEditorMessageComposer.react","PagesMarketingAutomationActions","React","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("media_upload_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log()},d.$2=function(a){__p&&__p();var c;c=(c=a)!=null?(c=c.response)!=null?(c=c.payload)!=null?(c=c.metadata)!=null?(c=c[0])!=null?c.image_id:c:c:c:c:c;if(c){a=(a=a)!=null?(a=a.response)!=null?(a=a.payload)!=null?(a=a.metadata)!=null?(a=a[0])!=null?a.src:a:a:a:a:a;if(a){c={id:c,url:a,type:"image",class_name:"EntBusinessMessageWithItems"};b("PagesMarketingAutomationActions").updateMedia(c);d.props.onIndexedMediaChange&&d.props.onIndexedMediaChange((a=d.props.index)!=null?a:0,c)}}},d.$3=function(a){new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("media_upload_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log()},d.$4=function(a){__p&&__p();var c;c=(c=a)!=null?(c=c.response)!=null?(c=c.payload)!=null?(c=c.metadata)!=null?(c=c[0])!=null?c.video_id:c:c:c:c:c;if(c){a=(a=a)!=null?(a=a.response)!=null?(a=a.payload)!=null?(a=a.metadata)!=null?(a=a[0])!=null?a.thumbnail_src:a:a:a:a:a;if(a){c={id:c,url:a,type:"video",class_name:"EntBusinessMessageWithItems"};b("PagesMarketingAutomationActions").updateMedia(c);d.props.onIndexedMediaChange&&d.props.onIndexedMediaChange((a=d.props.index)!=null?a:0,c)}}},d.$5=function(){var a;new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("remove_attachment_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log();b("PagesMarketingAutomationActions").updateAttachmentType(null);b("PagesMarketingAutomationActions").updateMedia(null);d.props.onIndexedMediaChange&&d.props.onIndexedMediaChange((a=d.props.index)!=null?a:0,null)},d.$6=function(){var a;b("PagesMarketingAutomationActions").updateAttachmentType("image");d.props.onIndexedMediaTypeChange&&d.props.onIndexedMediaTypeChange((a=d.props.index)!=null?a:0,"image")},d.$7=function(a){var c;new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("format_change_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log();b("PagesMarketingAutomationActions").updateAttachmentType(a);d.props.onIndexedMediaTypeChange&&d.props.onIndexedMediaTypeChange((c=d.props.index)!=null?c:0,a)},d.$8=function(a,c){if(!d.props.ctas)return;var e=d.props.ctas.slice();e[a].content=c;b("PagesMarketingAutomationActions").updateCTAs(e);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((a=d.props.index)!=null?a:0,e)},d.$9=function(a,c){if(!d.props.ctas)return;var e=d.props.ctas.slice();e[a].type=c;b("PagesMarketingAutomationActions").updateCTAs(e);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((a=d.props.index)!=null?a:0,e)},d.$10=function(a,c){if(!d.props.ctas)return;var e=d.props.ctas.slice();e[a].url=c;b("PagesMarketingAutomationActions").updateCTAs(e);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((a=d.props.index)!=null?a:0,e)},d.$11=function(a){if(!d.props.ctas)return;var c=d.props.ctas.slice(0);c.splice(a,1);b("PagesMarketingAutomationActions").updateCTAs(c);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((a=d.props.index)!=null?a:0,c)},d.$12=function(){__p&&__p();var a=d.props.ctas&&d.props.ctas.slice();new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("add_button_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log();var c={content:"",url:"",type:"button"};if(a){var e;a.push(c);b("PagesMarketingAutomationActions").updateCTAs(a);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((e=d.props.index)!=null?e:0,a)}else{b("PagesMarketingAutomationActions").updateCTAs([c]);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((e=d.props.index)!=null?e:0,[c])}},d.$13=function(a){var b;d.props.onMessageChange((b=d.props.index)!=null?b:0,a)},d.$14=function(a){var b;d.props.onIndexedQuestionChange&&d.props.onIndexedQuestionChange((b=d.props.index)!=null?b:0,a)},d.$15=function(a){var b;d.props.onIndexedTimeChange&&d.props.onIndexedTimeChange((b=d.props.index)!=null?b:0,(b=a)!=null?b:0)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a;return b("React").jsx(b("PagesContentEditorMessageComposer.react"),{attachmentType:this.props.attachmentType,automationID:this.props.automationID,automationType:this.props.automationType,ctas:this.props.ctas,errors:this.props.errors,hideAttachmentSection:this.props.hideAttachmentSection,hideCTASection:this.props.hideCTASection,inDialog:this.props.inDialog,index:this.props.index,isInboxCombinedCustomQuestionTest:this.props.isInboxCombinedCustomQuestionTest,media:this.props.media,messageLabel:this.props.messageLabel,numIcebreakers:this.props.numIcebreakers,onAddAttachmentLinkPressed:this.$6,onAddCTA:this.$12,onCTATitleChange:this.$8,onCTATypeChange:this.$9,onCTAURLChange:this.$10,onCloseAttachment:this.$5,onImageSelect:this.$1,onMessageChange:this.$13,onQuestionTextChange:this.$14,onRemoveCTA:this.$11,onSelectAttachmentType:this.$7,onTimeChange:this.$15,onUploadImageSuccess:this.$2,onUploadVideoSuccess:this.$4,onVideoSelect:this.$3,pageID:this.props.pageID,placeholderText:this.props.placeholderText,questionText:this.props.questionText,showCTATypes:this.props.showCTATypes,showPersonalization:this.props.showPersonalization,showTimeSection:this.props.showTimeSection,specialType:this.props.specialType,text:this.props.welcomeText,textLimit:this.props.textLimit,time:this.props.time,timeDurationUnits:this.props.timeDurationUnits,videoDisabled:(a=this.props.videoDisabled)!=null?a:!1})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("CustomQuestionsRichResponseComposer.react",["ix","cx","fbt","Image.react","PagesManagerInboxFAQConstants","PagesManagerInboxSettingToggleRow.react","PagesMarketingAutomationMessageComposer.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("PagesManagerInboxFAQConstants").FAQ_MENU_TOGGLE_DESCRIPTION,k=b("PagesManagerInboxFAQConstants").FAQ_MENU_TOGGLE_TITLE,l=i._("Enter the answer to this question");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isMaxLengthHidden:!1,isSelected:!1,media:c.props.icebreaker.response_media_attachment},c.$1=function(a,b){c.props.onIceBreakerChange(c.props.index,b,"custom_question")},c.$2=function(a,b){c.props.onIceBreakerChange(c.props.index,b,"saved_response")},c.$3=function(a,b){c.props.onIceBreakerChange(c.props.index,b,"response_ctas")},c.$4=function(a,b){c.setState({media:b}),c.props.onIceBreakerChange(c.props.index,b,"response_media_attachment")},c.$5=function(a,b){a=c.state.media;a===void 0||a===null||a.type!==b?c.props.onIceBreakerChange(c.props.index,{id:null,url:null,type:b,class_name:null},"response_media_attachment"):c.props.onIceBreakerChange(c.props.index,{id:a.id,url:a.url,type:b,class_name:a.class_name},"response_media_attachment")},c.$6=function(a){c.props.onIceBreakerChange(c.props.index,a,"should_show_in_menu")},c.$7=function(){c.props.onRemoveIceBreaker(c.props.index)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a;return b("React").jsxs("div",{className:"_8j4r",children:[b("React").jsx("div",{className:"_8j4p",children:b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:(a=(a=this.props.icebreaker.response_media_attachment)==null?void 0:a.type)!=null?a:null,automationID:"0",ctas:this.props.icebreaker.response_ctas,errors:null,hideAttachmentSection:!1,hideCTASection:!1,index:this.props.index,isInboxCombinedCustomQuestionTest:!0,isWelcomeTextIntialized:this.props.icebreaker.saved_response.length>0,media:this.props.icebreaker.response_media_attachment,numIcebreakers:this.props.numIcebreakers,onIndexedCTAChange:this.$3,onIndexedMediaChange:this.$4,onIndexedMediaTypeChange:this.$5,onIndexedQuestionChange:this.$1,onMessageChange:this.$2,pageID:this.props.pageID,questionText:this.props.icebreaker.custom_question,showPersonalization:!0,showTimeSection:!1,welcomeText:(a=this.props.icebreaker.saved_response)!=null?a:l})}),this.props.showRemove&&b("React").jsx(b("Image.react"),{onClick:this.$7,src:g("515976"),style:{position:"absolute",top:12,right:12,cursor:"pointer"}}),b("React").jsx(b("PagesManagerInboxSettingToggleRow.react"),{className:"_8j4o",isOn:(a=this.props.icebreaker.should_show_in_menu)!=null?a:!1,numCustomQuestionsInMenu:this.props.numCustomQuestionsInMenu,onToggleChange:this.$6,subtitle:j,title:k},"total"+this.props.numCustomQuestionsInMenu+"toggle"+this.props.index+String(this.props.icebreaker.should_show_in_menu))]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("IcebreakerComposerSectionCard.react",["ix","cx","fbt","AdsUEditorAdgroupMessengerFAQContentIceBreaker.react","CustomQuestionsRichResponseComposer.react","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","FDSText.react","Image.react","PagesManagerComposerSectionCard.react","PagesManagerInboxFAQConstants","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerStore","React","ShimButton.react","SUIBusinessTheme","SUIBusinessThemeContainer.react","SUITextInput.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("PagesManagerInboxFAQConstants").FAQ_EDITOR_CARD_DESCRIPTION;a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a=c.props.icebreakers[a];return a.saved_response},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(){return this.props.icebreakers.filter(function(a){return Boolean(a.should_show_in_menu)}).length};d.render=function(){__p&&__p();var a=this,c="icebreaker_preview";b("PagesReplyComposerActions").getActionsByKey(c).initializeStoreWithConfig({composerKey:c,initialReply:"",initialDisabled:!1,isAdsInterfaceSource:!1,pageID:this.props.pageID,placeholderText:""});b("PagesReplyComposerDispatcher").getByKey(c).explicitlyRegisterStore(b("PagesReplyComposerStore").getByKey(c));var d=b("PagesReplyComposerStore").getByKey("MessengerJSONPreview").getState();c=this.props.icebreakers.map(function(c,e){c=b("React").jsx("div",{className:"_89o1",children:b("React").jsx(b("SUIBusinessThemeContainer.react"),{children:a.props.isInboxCombinedCustomQuestionTest?b("React").jsx(b("CustomQuestionsRichResponseComposer.react"),{composerState:d,icebreaker:c,index:e,numCustomQuestionsInMenu:a.$2(),numIcebreakers:a.props.icebreakers.length,onIceBreakerChange:a.props.onCustomQuestionRichMessageChange,onRemoveIceBreaker:a.props.onDeleteIcebreaker,pageID:a.props.pageID,showRemove:a.props.icebreakers.length>a.props.minIcebreakers}):b("React").jsx(b("AdsUEditorAdgroupMessengerFAQContentIceBreaker.react"),{composerState:d,errorSpec:null,getResponseText:a.$1,index:e,isNamesARTest:!0,onIceBreakerChange:a.props.onIceBreakerChange,onRemoveIceBreaker:a.props.onDeleteIcebreaker,pageID:a.props.pageID,showQPCIcebreakersDisclaimer:a.props.showQPCIcebreakersDisclaimer,showRemove:a.props.icebreakers.length>a.props.minIcebreakers,value:{title:c.custom_question,response:c.saved_response}})})},"question"+e);return c});var e=i._("+ Add a Question");e=!this.props.icebreakers||!this.props.disableAddRow?b("React").jsx(b("ShimButton.react"),{className:"_89f2"+(this.props.isInboxCombinedCustomQuestionTest?" _8jmh":""),onClick:this.props.onAddRow,children:e}):null;var f=this.props.showQPCIcebreakersDisclaimer?b("React").jsxs("div",{className:"_3-8- _79x_",children:[b("React").jsx(b("FDSText.react"),{color:"primary",margin:"_3-95",size:"body2",weight:"bold",children:i._("Question #1")}),b("React").jsx(b("SUITextInput.react"),{disabled:!0,theme:b("SUIBusinessTheme"),value:"I'm a new customer. How can I find out more about your business?"}),b("React").jsxs(b("FDSGuidanceCard.react"),{category:"active-feedback",margin:"_3-8y",children:[b("React").jsx(b("FDSGuidanceCardHeader.react"),{children:i._("Questions for Potential Customers")}),b("React").jsx(b("FDSGuidanceCardContent.react"),{children:b("React").jsxs(b("FDSGuidanceCardContentText.react"),{children:[i._("This question is needed to start your questions for potential customers. When this question is selected, your questions for potential customers will begin in Messenger."),i._("To remove this question, turn off questions for potential customers.")]})})]})]}):null;f=b("React").jsxs("div",{className:"_6_oc",children:[f,c,e]});return b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:f,header:i._("Questions and Responses"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _6as8",children:b("React").jsx(b("Image.react"),{src:g("561662")})}),subtitle:this.props.isInboxCombinedCustomQuestionTest?j:i._("Suggest questions for people to tap, then set up automated responses to those questions. People will only see 2 to 4 questions, depending on how many you write. If you add more than 4, the questions shown will be selected randomly.")})};return c}(a);e.exports=c}),null);
__d("IcebreakerFreeTextEditor.react",["IcebreakerComposerSectionCard.react","PagesMarketingAutomationActions","PagesMarketingAutomationContentView.react","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesMarketingAutomationContentView.react").shuffleDemoIcebreakers;a=b("React").PureComponent;var h=100,i=2,j=5;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),i=0;i<e;i++)f[i]=arguments[i];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){if(d.props.icebreakers.length<h){var a=d.props.icebreakers.concat([{custom_question:"",saved_response:"",response_ctas:[],should_show_in_menu:d.props.icebreakers.filter(function(a){return Boolean(a.should_show_in_menu)}).length<j}]);b("PagesMarketingAutomationActions").updateIcebreakers(a)}},d.$2=function(a){var c=d.props.icebreakers.filter(function(b,c){return c!==a});b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(g(c));b("PagesMarketingAutomationActions").updateIcebreakers(c)},d.$3=function(a,c,e){__p&&__p();var f=d.props.icebreakers,h=f.map(function(b,d){if(d===a)if(e==="title"){return{custom_question:(d=c)!=null?d:"",saved_response:(d=b.saved_response)!=null?d:"",response_ctas:[]}}else{return{custom_question:(d=b.custom_question)!=null?d:"",saved_response:(d=c)!=null?d:"",response_ctas:[]}}else return b});b("PagesMarketingAutomationActions").updateIcebreakers(h);e==="title"&&(f[a].custom_question.trim()===""||c==="")&&b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(g(h))},d.$4=function(a,c,e){__p&&__p();var f=d.props.icebreakers,h=f.map(function(b,d){__p&&__p();var f;f={custom_question:b.custom_question,saved_response:b.saved_response,response_ctas:(f=b.response_ctas)!=null?f:[],response_media_attachment:(f=b.response_media_attachment)!=null?f:null,should_show_in_menu:(f=b.should_show_in_menu)!=null?f:!1};if(d===a)if(e==="custom_question"){f.custom_question=typeof c==="string"?c:(d=b.custom_question)!=null?d:""}else if(e==="saved_response"){f.saved_response=typeof c==="string"?c:(d=b.saved_response)!=null?d:""}else if(e==="response_ctas"){f.response_ctas=c instanceof Array?c:(d=b.response_ctas)!=null?d:[]}else if(e==="response_media_attachment"){f.response_media_attachment=typeof c!=="boolean"&&typeof c!=="string"&&!(c instanceof Array)?c:(d=b.response_media_attachment)!=null?d:null}else{f.should_show_in_menu=typeof c==="boolean"?c:(d=b.should_show_in_menu)!=null?d:!1}return f});b("PagesMarketingAutomationActions").updateIcebreakers(h);e==="custom_question"&&(f[a].custom_question.trim()===""||c==="")&&b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(g(h))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.icebreakers,c=Boolean(this.props.isInboxCombinedCustomQuestionTest);a=b("React").jsx(b("IcebreakerComposerSectionCard.react"),{disableAddRow:a.length>=h,disableSave:a.length<i,icebreakers:a,isInboxCombinedCustomQuestionTest:c,minIcebreakers:i,onAddRow:this.$1,onCustomQuestionRichMessageChange:c?this.$4:b("emptyFunction"),onDeleteIcebreaker:this.$2,onIceBreakerChange:c?b("emptyFunction"):this.$3,pageID:this.props.pageID,showQPCIcebreakersDisclaimer:this.props.showQPCIcebreakersDisclaimer});return a};return c}(a);e.exports=c}),null);
__d("PagesAutomatedQuestionnairePrivacyPolicyItem.react",["cx","fbt","FDSText.react","PagesMarketingAutomationUtils","React","SUIBusinessTheme","SUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.onInputChange=function(a){c.props.onQuestionnairePrivacyPolicyURLChange(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a,c=this.props.questionnairePrivacyPolicyURL,d=b("PagesMarketingAutomationUtils").getQuestionnairePrivacyPolicyURLError(c);return(a=b("React")).jsxs("div",{className:"_3-8- _6_oc",children:[a.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Privacy Policy URL")}),a.jsx("div",{className:"_3-8n",children:a.jsx(b("SUITextInput.react"),{errorMessage:d,onChange:this.onInputChange,placeholder:(a=this.props.placeHolder)!=null?a:"https://www.yourprivacypolicy.com/",theme:b("SUIBusinessTheme"),value:c})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesAutomatedResponsesAwayScheduleDetail.react",["cx","fbt","DateTime","FDSText.react","FluxContainer","PagesMarketingAutomationStore","PagesTimeRangeEditorTypes","PagesTimeRangeEditorUtilities","React","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PagesTimeRangeEditorTypes").DAY_OF_WEEK_TO_STRING,j=86400;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.calculateState=function(a,c){return{awayTimeZone:b("PagesMarketingAutomationStore").getAwayTimeZone(),awayTimeRanges:b("PagesMarketingAutomationStore").getAwayTimeRanges()}};c.getStores=function(){return[b("PagesMarketingAutomationStore")]};var d=c.prototype;d.$1=function(a){return a==null?null:a.replace("_"," ")};d.render=function(){__p&&__p();var a=this;if(!this.props.isShown)return null;var c=b("React").jsx(b("FDSText.react"),{color:"secondary",margin:"_3-8x",size:"body1",children:h._("You can manually make your Page away in Inbox or schedule times for your Page to be away each week.")});if(this.state.awayTimeRanges&&!this.state.awayTimeRanges.isEmpty()){var d=[],e=function(c){__p&&__p();var e=b("PagesTimeRangeEditorUtilities").getAwayTimeBracketsForWeekday(c,a.state.awayTimeRanges);e=e.map(function(d,e){if(a.state.awayTimeZone===null)return null;var f=b("PagesTimeRangeEditorUtilities").getTimezoneID(a.state.awayTimeZone);if(f===-1)return null;f=b("DateTime").now(b("PagesTimeRangeEditorUtilities").getTimezoneID(a.state.awayTimeZone)).startOfDay().addSeconds(d.from===j?d.from-1:d.from);d=b("DateTime").now(b("PagesTimeRangeEditorUtilities").getTimezoneID(a.state.awayTimeZone)).startOfDay().addSeconds(d.to===j?d.to-1:d.to);return d.equals(f)?null:b("React").jsxs("div",{className:"_7nhj",children:[f.format("g:iA")," - ",d.format("g:iA")]},"index"+e+"_w"+c)}).filter(function(a){return a!==null});d.push(b("React").jsxs("div",{className:"_7nhk",children:[b("React").jsxs("div",{children:[i[c],": "]}),b("React").jsx("div",{children:e.size>0?e:h._("None")})]},"weekday"+c))};for(var f=0;f<7;f++)e(f);c=b("React").jsxs("div",{children:[b("React").jsxs(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-95",size:"body2",children:[h._("Time zone:")," ",this.$1(this.state.awayTimeZone)]}),d]})}return b("React").jsxs("div",{className:"_20nr",children:[b("React").jsx(b("FDSText.react"),{display:"block",margin:"_3-95 _3-8y",size:"header3",weight:"bold",children:h._("Schedule")}),c]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesAutomatedResponsesAwayTimeRangeEditorRoot.react",["PagesMarketingAutomationActions","PagesMarketingAutomationStore","PagesTimeRangeEditor.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){b("PagesMarketingAutomationActions").updateAwayTimeRange(a)};d.$2=function(a){b("PagesMarketingAutomationActions").updateAwayTimeZone(a)};d.render=function(){var a=b("PagesMarketingAutomationStore").getAwayTimeZone(),c=b("PagesMarketingAutomationStore").getAwayTimeRanges();return a!=null&&c!=null?b("React").jsx(b("PagesTimeRangeEditor.react"),{initialTimeRanges:c,initialTimezoneName:a,onTimeRangesChanged:this.$1,onTimezoneChanged:this.$2}):b("React").jsx("div",{})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationContentUtils",["ix","fbt","AdsMessengerPartialAutomatedCreationTypes","PagesManagerInboxFAQConstants","PagesManagerInboxStore","PagesMarketingAutomationStore","URI","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,k=b("PagesManagerInboxFAQConstants").FAQ_EDIT_VIEW_INTRO,l=b("PagesManagerInboxFAQConstants").FAQ_TIMING_NOTE,m=b("PagesManagerInboxFAQConstants").FAQ_TIMING_WHEN;function a(a){__p&&__p();switch(a){case"positive_recommendation":return h._("Page Recommended");case"negative_recommendation":return h._("Page Not Recommended");case"job_application":return h._("Application Received");case"smart_reply_positive_feedback":return h._("Positive Feedback");case"smart_reply_negative_feedback":return h._("Negative Feedback");case"smart_reply_contact":return h._("Contact Information");case"smart_reply_location":return h._("Location");case"smart_reply_hours":return h._("Hours");case"instant_reply":return h._("Instant Reply");case"away_message":return h._("Away Message");case"become_supporter":return h._("New Supporter Welcome Message");case"icebreaker":case"custom_questions":return h._("Frequently Asked Questions");case"automated_checkout":return h._("Checkout Info Inquiry");case"mbs_reengagement":return h._("Rules-Based Follow-Up");case"organic_intake_form":return h._("Questions for Potential Customers");case"appointment_reminder":return h._("Reminders");case"appointment_follow_up":return h._("Follow-up Messages");default:return""}}function c(a,c){__p&&__p();var d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse;switch(a){case"positive_recommendation":return h._("Send a message after someone publicly shares that they recommend your Page.");case"negative_recommendation":return h._("Send a message after someone publicly shares that they don't recommend your Page.");case"job_application":return h._("Respond to someone who applied for a job you posted.");case"smart_reply_positive_feedback":return h._("Respond to a message containing positive feedback about your business.");case"smart_reply_negative_feedback":return h._("Respond to a message containing negative feedback about your business.");case"smart_reply_contact":return h._("Respond to a message asking for contact information.");case"smart_reply_location":return h._("Respond to a message asking about the location of your business.");case"smart_reply_hours":return h._("Respond to a message asking about your business hours.");case"instant_reply":return d?h._("Respond to the first message someone sends {pageName} in Messenger or on Instagram.",[h._param("pageName",c)]):h._("Respond to the first message someone sends your Page.");case"away_message":return d?h._("When away messages are on, {pageName} is away and sends away messages. You can manually make {page name} away in Inbox or schedule times to be away each week.",[h._param("pageName",c),h._param("page name",c)]):h._("When away messages are on, your Page is away and sends away messages. You can manually make your Page away in Inbox or schedule times for your Page to be away each week.");case"become_supporter":return h._("Send an automatic message to new supporters. You can customize the message to thank them for their support, highlight benefits and more.");case"icebreaker":return h._("Suggest questions for people to tap so it's easier for them to start a conversation. Then set up automated responses to those questions.");case"custom_questions":return k;case"automated_checkout":return h._("Inquire about checkout information through a set of predefined questions.");case"mbs_reengagement":return h._("Re-engage customers with automatic notifications based on rules you set.");case"organic_intake_form":return h._("Ask a sequence of questions to see if people are potential customers. These questions can help qualify your leads.");case"appointment_reminder":return h._("Send customers an automatic reminder via Messenger or text message (SMS) the day before their appointment.");case"appointment_follow_up":return h._("Automatically send customers a message after their appointment to encourage them to book again.");default:return""}}function d(a,c){__p&&__p();var d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse;switch(a){case"positive_recommendation":return h._("You can customize your message to thank them, send an offer or start a conversation.");case"negative_recommendation":return h._("You can customize your message to send an offer or learn more about the customer's experience.");case"job_application":return h._("You can customize your message to thank them for their interest or let them know when to expect a response.");case"smart_reply_positive_feedback":return h._("You can customize your message to thank them, send an offer or start a conversation.");case"smart_reply_negative_feedback":return h._("You can customize your message to send an offer or learn more about the customer's experience.");case"smart_reply_contact":return h._("You can customize your message to include additional contact information, such as a WhatsApp number or an Instagram link.");case"smart_reply_location":return h._("You can customize your message to include additional information about your location, such as options for parking or public transportation.");case"smart_reply_hours":return h._("You can customize your message to include additional information, such as upcoming holiday hours.");case"instant_reply":return d?h._("You can customize your message to say hello, give them more information about {pageName} or let them know when to expect a response.",[h._param("pageName",c)]):h._("You can customize your message to say hello, give them more information about your Page or let them know when to expect a response.");case"away_message":return h._("You can customize your message to let people know how long you'll be away and when you'll respond.");case"become_supporter":return h._("You can customize your message to thank them for their support or let them know what you provide.");case"automated_checkout":return h._("You can customize your messages for automated checkout.");case"mbs_reengagement":return h._("You can customize your messages.");case"organic_intake_form":return h._("You can customize your questions depending on the information you need.");default:return""}}function f(a,b){__p&&__p();switch(a){case"positive_recommendation":return h._("Edit Message: Page Recommended");case"negative_recommendation":return h._("Edit Message: Page Not Recommended");case"job_application":return h._("Edit Message: Application Received");case"smart_reply_positive_feedback":return h._("Edit Message: Positive Feedback");case"smart_reply_negative_feedback":return h._("Edit Message: Negative Feedback");case"smart_reply_contact":return h._("Edit Message: Contact Information");case"smart_reply_location":return h._("Edit Message: Location");case"smart_reply_hours":return h._("Edit Message: Hours");case"instant_reply":return h._("Edit Message: Instant Reply");case"away_message":return h._("Edit: Away Message");case"become_supporter":return h._("Edit: New Supporter Welcome Message");case"icebreaker":case"custom_questions":return h._("Edit: Frequently Asked Questions");case"saved_reply":return b!=="0"?h._("Edit Saved Reply"):h._("Create Saved Reply");default:return""}}function n(a,b){__p&&__p();switch(a){case"positive_recommendation":return h._("Sent 10 minutes after someone publicly shares that they recommend {pageName}",[h._param("pageName",b)]);case"negative_recommendation":return h._("Sent 10 minutes after someone publicly shares that they don't recommend {pageName}",[h._param("pageName",b)]);case"job_application":case"smart_reply_contact":case"smart_reply_location":case"smart_reply_hours":return h._("Sent instantly");case"smart_reply_positive_feedback":return h._("Sent 10 minutes after someone gives positive feedback");case"smart_reply_negative_feedback":return h._("Sent 10 minutes after someone gives negative feedback");case"instant_reply":case"away_message":return h._("Sent instantly");case"custom_questions":return m;case"become_supporter":return h._("Sent to people 10 minutes after they become a supporter");case"icebreaker":return h._("Frequently asked questions are shown when someone taps a button to send your page a message.");case"automated_checkout":return h._("When your customer decides to buy a product.");case"mbs_reengagement":return h._("Customize the timing of each follow-up message.");case"organic_intake_form":return h._("Sent instantly to people who contact your Page for the first time.");case"appointment_reminder":return h._("Sent the day before a confirmed appointment");case"appointment_follow_up":return h._("Choose when you want to send a follow-up message");default:return""}}function o(a,c){__p&&__p();var d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse;switch(a){case"smart_reply_contact":return h._("Note: People who ask about contact information only will receive this response if your conversation hasn't been active for at least 30 minutes.");case"smart_reply_location":return h._("Note: People who ask about the location of your business only will receive this response if your conversation hasn't been active for at least 30 minutes.");case"smart_reply_hours":return h._("Note: People who ask about business hours only will receive this response if your conversation hasn't been active for at least 30 minutes.");case"away_message":return h._("Away messages send when you manually make your Page away in Inbox or schedule times for your Page to be away each week.");case"instant_reply":return d?h._("Note: If {pageName} is away and has instant replies turned on, people will receive an away message instead of an instant reply.",[h._param("pageName",c)]):h._("Note: If your Page is away and has instant replies turned on, people will receive an away message instead of an instant reply.");case"icebreaker":return h._("Automated responses are sent instantly after someone taps or types a question.");case"automated_checkout":return h._("Note: These messages and questions will be sent in sequence, however you can change the order of questions or add new ones.");case"mbs_reengagement":return h._("Note: You can connect rules with existing app events. Then add conditions to determine when these messages are sent.");case"organic_intake_form":return h._("You can stop these questions at any time in the conversation.");case"custom_questions":return l;default:return null}}function p(a){__p&&__p();switch(a){case"positive_recommendation":return h._("Hi, thanks for recommending us! We're glad you had a great experience.");case"negative_recommendation":return h._("Hi, we're sorry you had a bad experience. Please let us know how we can improve.");case"job_application":return h._("Hi! We've received your application and appreciate your interest in working for us.");case"smart_reply_positive_feedback":return h._("We're glad you had a positive experience!");case"smart_reply_negative_feedback":return h._("We're sorry you had a negative experience.");case"smart_reply_contact":return A();case"smart_reply_location":return B();case"smart_reply_hours":return C();case"instant_reply":return h._("Hi, thanks for contacting us. We've received your message and appreciate you reaching out.");case"away_message":return h._("Thanks for your message. We're away and can't respond right now. We appreciate you reaching out.");case"become_supporter":return h._("{firstname}, thank you for becoming a supporter. None of this is possible without you!",[h._param("firstname","{{user_first_name}}")]);case"icebreaker":case"custom_questions":return h._("Default icebreaker question.");case"automated_checkout":return h._("It's awesome to hear that you're interested in purchasing this item from us! We will need a few details about you.");case"organic_intake_form":return"Default intro message";case"mbs_reengagement":return"Default intro message";case"appointment_reminder":return h._("We're looking forward to your appointment.");case"appointment_follow_up":return h._("Hi {firstname}, we'd love to have you back for another appointment.",[h._param("firstname","{{user_first_name}}")]);default:return""}}function q(a){switch(a){case"positive_recommendation":case"negative_recommendation":return{id:0,url:this.getDefaultImage(a),type:"image",class_name:"EntBusinessMessageWithItems"};default:return null}}function r(a,c){switch(a){case"smart_reply_hours":return[{content:h._("See Hours"),url:new(i||(i=b("URI")))("https://www.facebook.com/"+c+"/about").toString(),type:"button"}];case"smart_reply_contact":return b("PagesMarketingAutomationStore").getWebsite()?[{content:h._("Visit Website"),url:b("PagesMarketingAutomationStore").getWebsite(),type:"button"}]:[];case"smart_reply_location":return b("PagesMarketingAutomationStore").getAddress()?[{content:h._("Get Directions"),url:s(c),type:"button"}]:[];default:return[]}}function s(a){a=b("PagesMarketingAutomationStore").getAddress();return a!==null&&a!==void 0?b("PagesMarketingAutomationStore").getDirectionsURI():""}function t(a,b){switch(a){case"positive_recommendation":return h._("{pageName} privately replied to your recommendation.",[h._param("pageName",b)]);case"negative_recommendation":return h._("{pageName} privately replied to your recommendation.",[h._param("pageName",b)]);default:return""}}function u(a){switch(a){case"positive_recommendation":return h._("Sent after your Page is publicly recommended");case"negative_recommendation":return h._("Sent after your Page is publicly not recommended");default:return""}}function v(a){__p&&__p();switch(a){case"positive_recommendation":return h._("Page Recommended");case"negative_recommendation":return h._("Page Not Recommended");case"job_application":return h._("Application Received");case"smart_reply_positive_feedback":return h._("Positive Feedback");case"smart_reply_negative_feedback":return h._("Negative Feedback");case"smart_reply_contact":return h._("Contact Information");case"smart_reply_location":return h._("Location");case"smart_reply_hours":return h._("Hours");case"away_message":return h._("Away Message");case"instant_reply":return h._("Instant Reply");case"become_supporter":return h._("New Supporter Welcome Message");case"icebreaker":case"custom_questions":return h._("Frequently Asked Questions");case"automated_checkout":return h._("Buyer Information");case"mbs_reengagement":return h._("Rules-Based Follow-Up");case"organic_intake_form":return h._("Questions for Potential Customers");case"appointment_reminder":return h._("Reminders");case"appointment_follow_up":return h._("Follow-up Messages");default:return""}}function w(a,b,c,d){__p&&__p();switch(a){case"POSITIVE_RECOMMENDATION":return"positive_recommendation";case"NEGATIVE_RECOMMENDATION":return"negative_recommendation";case"JOB_APPLICATION":return b===!1?null:"job_application";case"SMART_REPLY_POSITIVE_FEEDBACK":return c===!1?null:"smart_reply_positive_feedback";case"SMART_REPLY_NEGATIVE_FEEDBACK":return c===!1?null:"smart_reply_negative_feedback";case"SMART_REPLY_CONTACT":return d===!1?null:"smart_reply_contact";case"SMART_REPLY_LOCATION":return d===!1?null:"smart_reply_location";case"SMART_REPLY_HOURS":return d===!1?null:"smart_reply_hours";case"CUSTOM_QUESTIONS":return"custom_questions";default:return null}}function x(a){switch(a){case"IMAGE":return"image";case"VIDEO":return"video";default:return null}}function y(a){switch(a){case"BUTTON":return"button";case"POSTBACK":return"postback";default:return null}}function z(a){switch(a){case"positive_recommendation":return"/images/pages/inbox/goodratingautomation.png";case"negative_recommendation":return"/images/pages/inbox/badratingautomation.png";default:return null}}function A(){return b("PagesMarketingAutomationStore").getPhoneNumber()?h._("We can be reached at {phoneNumber}. You can also visit us online.",[h._param("phoneNumber",b("PagesMarketingAutomationStore").getPhoneNumber())]):""}function B(){return b("PagesMarketingAutomationStore").getAddress()?h._("We're located at {address}",[h._param("address",b("PagesMarketingAutomationStore").getAddress())]):""}function C(){__p&&__p();if(b("PagesMarketingAutomationStore").getIsAlwaysOpen())return h._("We're always open.");else if(b("PagesMarketingAutomationStore").getIsPermanentlyClosed())return h._("We're permanently closed.");else if(b("PagesMarketingAutomationStore").getHours().length>0)switch(b("PagesMarketingAutomationStore").getHours().length){case 7:return h._("We're open seven days a week.");default:var a=I(b("PagesMarketingAutomationStore").getHours());return h._("We're open {days}",[h._param("days",a)])}else return h._("We have no hours available on our Page.")}function D(){return{introMessage:h._("Thanks for your interest. We just need a few details to create your order.").toString(),questionMessages:[{answers:[h._("Cash on Delivery").toString(),h._("Bank Transfer").toString()],message:h._("How would you like to pay?").toString(),answerType:j.MULTIPLE_CHOICE,prefillType:"NONE",replyType:"QUICK_REPLIES"},{answers:[],message:h._("What's your shipping address?").toString(),answerType:j.CUSTOM,prefillType:"NONE",replyType:"TEXT"},{answers:[],message:h._("What's the recipient's full name?").toString(),answerType:j.CUSTOM,prefillType:"NONE",replyType:"TEXT"},{answers:[],message:h._("What's your phone number?").toString(),answerType:"PHONE",prefillType:"PHONE",replyType:"QUICK_REPLIES"}],thankYouMessage:h._("Thanks for answering our questions. We will process your order.").toString()}}function E(){return{reminderMessage:h._("Almost there! Please finish answering our questions.").toString(),summaryMessage:h._("Please review your answer summary below. Confirm that these details are correct to place your order.").toString(),disqualificationMessage:h._("Thanks for your interest, but it doesn't look like we're a good fit at this time.").toString(),stopQuestionsMessage:h._("You've paused our automated questions. Let us know how we can help.").toString()}}function F(){return{reengagementMessages:[{triggerTimeMin:0,messageText:h._("You only have a few questions left to answer. Finish now.").toString(),ctas:[],attachment:null,attachmentType:null}],reengagementRules:{mainRules:[""],andRules:[],notRules:[]}}}function G(a){__p&&__p();switch(a){case"positive_recommendation":return g("544926");case"negative_recommendation":return g("673528");case"job_application":case"smart_reply_contact":return g("551571");case"smart_reply_negative_feedback":return g("676769");case"smart_reply_positive_feedback":return g("676776");case"smart_reply_location":return g("540480");case"smart_reply_hours":return g("508066");case"become_supporter":return g("793861");default:return null}}function H(a){__p&&__p();switch(a){case"common_responses":return h._("Respond to Common Questions");case"job_application":return h._("Communicate About Jobs");case"feedback":return h._("Respond to Feedback");case"greet_customers":return h._("Greet Customers");case"supporter_only":return h._("Supporter Messaging");case"frequently_asked_questions":return h._("Share Info About Your Page");case"checkout_request":return h._("Respond to Checkout Request");case"reengagement":return h._("Follow Up with Customers");case"appointment_messaging":return h._("Communicate About Appointments");default:return""}}function I(a){if(a.length===0)return"";else if(a.length===1)return a.join();var b=a.length,c=a.slice(0,b-1);return h._("{days_of_week} and {last_day}.",[h._param("days_of_week",c.join(", ")),h._param("last_day",a[b-1])])}function J(a){switch(a){case"smart_reply_contact":return h._("Your Page doesn't have enough contact information listed to use a default message. Create your own message or add more contact information to turn this on.");case"smart_reply_location":return h._("Your Page doesn't have an address listed, so you can't use a default message for this automated response. Create your own message or add an address to turn this on.");case"smart_reply_hours":return h._("Your Page doesn't have business hours listed, so you can't use a default message for this automated response. Create your own message or add hours to turn this on.");default:return null}}function K(a){switch(a){case"APP_EVENT":return h._("App Event");case"IS":return h._("Is");case"IS_NOT":return h._("Is Not");default:return""}}function L(a,c){a=(a=a)!=null?a:!1;var d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse,e=c==="away_message";c=c==="instant_reply";return d&&a&&(e||c)}function M(a,b){switch(a){case"away_message":return h._("Choose where {pageName} can be away and send away messages.",[h._param("pageName",b)]);case"instant_reply":return h._("Choose where {pageName} sends instant replies.",[h._param("pageName",b)]);default:return""}}function N(a,b){return a==null?!1:a.some(function(a){if(a===b)return!0})}function O(a){switch(a){case"icebreaker":case"custom_questions":return h._("Your Page's custom questions were created using an API. Editing has been disabled through inbox.");default:return null}}function P(a){switch(a){case"PLATFORMS":return h._("Save Changes Without Platform?");case"AWAY_TIME":return h._("Save Away Schedule Changes?");case"CUSTOM_QUESTIONS":return h._("Replace persistent menu?");default:return""}}function Q(a){switch(a){case"PLATFORMS":return h._("Your changes will be saved, but the message won't send because no platforms have been selected. To start sending this message, you must select at least one platform.");case"AWAY_TIME":return h._("Changes to your away schedule will cause your Page will be away after changes are saved. You can make your Page available at any time in Inbox.");case"CUSTOM_QUESTIONS":return h._("You've already used an API to create a persistent menu. Adding this question will replace the current options in your persistent menu.");default:return""}}e.exports={getContentForDetailViewTitle:a,getContentForDetailViewDescription:c,getContentForDetailViewGeneralDescription:d,getContentForEditHeader:f,getContentForReengagement:K,getDefaultCheckoutStepMessages:E,getDefaultContent:p,getDefaultContentForAutomatedCheckoutMessages:D,getDefaultAttachment:q,getDefaultImage:z,getDefaultCTAs:r,getDefaultIconForAutoResponse:G,getDefaultReengagementMessages:F,getSidebarDescription:u,getSidebarTitle:v,getTimingContent:n,getPlacementContent:M,getTimingNote:o,getAdminGhostText:t,convertStringToAttachmentType:x,convertStringToButtonType:y,getTriggerType:w,getTitleForCategory:H,getContentForNotice:J,getShouldShowIGDirectAutomatedResponse:L,getPlatformStatus:N,getContentForDisabledEditButtonNotice:O,getContentForModalTitle:P,getContentForModalDetail:Q}}),null);
__d("PagesMarketingAutomationContentView.react",["FluxContainer","PageAutomationTrigger","PagesMarketingAutomationActions","PagesMarketingAutomationContentUtils","PagesMarketingAutomationDetailView.react","PagesMarketingAutomationDispatcher","PagesMarketingAutomationEditView.react","PagesMarketingAutomationStore","PagesMarketingAutomationUtils","PagesTimeRangeEditorUtilities","React","RelayFBEnvironment","RelayModern","ServicesEventsLogger","WebFunnelLogger","promiseDone","PagesMarketingAutomationContentViewQuery.graphql","PagesMarketingAutomationContentViewAwayInfoQuery.graphql","PagesMarketingAutomationContentViewIsMenuSetByAPIQuery.graphql","PagesMarketingAutomationContentViewIsIcebreakersSetByAPIQuery.graphql","PagesMarketingAutomationContentViewIcebreakerQuery.graphql","PagesMarketingAutomationContentViewIntakeFormInfoQuery.graphql","PagesMarketingAutomationContentViewFollowUpMessageInfoQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i,j,k,l,m,n=(a=b("PagesMarketingAutomationContentUtils")).convertStringToAttachmentType,o=a.convertStringToButtonType,p=a.getDefaultCheckoutStepMessages,q=a.getDefaultContentForAutomatedCheckoutMessages,r=a.getDefaultReengagementMessages,s=b("RelayModern").fetchQuery;b("RelayModern").graphql;var t=4;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.setupDefaultAutomation=function(a){__p&&__p();var c=b("PagesMarketingAutomationStore").getAutomationType();if(c!==null&&c!==void 0){var d=b("PagesMarketingAutomationContentUtils").getDefaultAttachment(c);a=b("PagesMarketingAutomationContentUtils").getDefaultCTAs(c,a);b("PagesMarketingAutomationActions").updateState(b("PagesMarketingAutomationContentUtils").getDefaultContent(c).toString(),q(),r(),d,a,d?"image":null,c);b("PagesMarketingAutomationStore").isIntakeFormInitialSetupExperience()&&c==="organic_intake_form"&&b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!0);if(c==="automated_checkout"){a=p();(d=b("PagesMarketingAutomationActions")).updateQuestionnaireReminderMessage(a.reminderMessage);d.updateQuestionnaireSummaryMessage(a.summaryMessage);d.updateQuestionnaireDisqualificationMessage(a.disqualificationMessage);d.updateQuestionnaireStopQuestionsMessage(a.stopQuestionsMessage)}}};c.fetchAndStoreAutomationData=function(){__p&&__p();var a=b("PagesMarketingAutomationStore").getAutomationID();if(a==null)return;b("promiseDone")(s(b("RelayFBEnvironment"),g!==void 0?g:g=b("PagesMarketingAutomationContentViewQuery.graphql"),{automationID:a}),function(a){__p&&__p();var c,d,e,f,g,h;h=(h=a)!=null?(h=h.node)!=null?h.text:h:h;g=(g=a)!=null?(g=g.node)!=null?g.platforms:g:g;f=(f=a)!=null?(f=f.node)!=null?(f=f.automated_message_attachment)!=null?f.url:f:f:f;e=(e=a)!=null?(e=e.node)!=null?(e=e.automated_message_attachment)!=null?e.id:e:e:e;var i=null;if(e){var j;i=(j=a)!=null?(j=j.node)!=null?(j=j.automated_message_attachment)!=null?j.type:j:j:j;i=i?n(i):null}j=(j=a)!=null?(j=j.node)!=null?j.ctas:j:j;var k=[];j&&j.forEach(function(a){k.push({content:a.content,url:a.url,type:"button"})});j=(j=a)!=null?(j=j.node)!=null?j.trigger_type:j:j;j=j?b("PageAutomationTrigger")[j]:null;if(!h||!j)return;d=(d=a)!=null?(d=d.node)!=null?d.automated_checkout_steps:d:d;var l=null;d&&d.intro_message!==""&&d.question_messages.length>0&&d.question_messages[0]!==""&&d.thank_you_message!==""?l={introMessage:d.intro_message,questionMessages:b("PagesMarketingAutomationUtils").buildAutomatedMessagesAnswerType(d.question_messages),thankYouMessage:d.thank_you_message}:l=q();c=(c=a)!=null?(c=c.node)!=null?c.reengagement_events_data:c:c;var m=null;c&&c.reengagement_messages.length>0&&c.reengagement_rules_values.logical_or_rules.length>0?m=b("PagesMarketingAutomationUtils").getPagesMarketingAutomationReengagementDataOutput(c):m=r();a=(c=a)!=null?(c=c.node)!=null?(c=c.automated_checkout_step_list)!=null?c.id:c:c:c;a&&b("PagesMarketingAutomationActions").updatedAutomatedCheckoutStepListID(a);b("PagesMarketingAutomationActions").updateState(h,l,m,e?{id:e,url:f,type:i,class_name:"EntBusinessMessageWithItems"}:null,k,i,j,g);if(d==null?void 0:d.reminder_message){b("PagesMarketingAutomationActions").updateQuestionnaireReminderMessage((c=d==null?void 0:d.reminder_message)!=null?c:"")}if(d==null?void 0:d.privacy_url){b("PagesMarketingAutomationActions").updateQuestionnairePrivacyPolicyURL((a=d==null?void 0:d.privacy_url)!=null?a:"")}if(d==null?void 0:d.stop_question_message){b("PagesMarketingAutomationActions").updateQuestionnaireStopQuestionsMessage((h=d==null?void 0:d.stop_question_message)!=null?h:"")}if(d==null?void 0:d.summary_message){b("PagesMarketingAutomationActions").updateQuestionnaireSummaryMessage((l=d==null?void 0:d.summary_message)!=null?l:"")}b("PagesMarketingAutomationStore").isIntakeFormInitialSetupExperience()&&j==="organic_intake_form"&&b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!0);j==="automated_checkout"&&b("PagesMarketingAutomationActions").storeState()})};c.fetchAndStoreAwayInfo=function(a){if(a==null)return;b("promiseDone")(s(b("RelayFBEnvironment"),h!==void 0?h:h=b("PagesMarketingAutomationContentViewAwayInfoQuery.graphql"),{pageID:a}),function(a){var c=b("PagesTimeRangeEditorUtilities").getTimeRangesFromJson(a.page.away_time_range);b("PagesMarketingAutomationActions").updateAwayTimeZone(a.page.away_time_zone);b("PagesMarketingAutomationActions").updateAwayTimeRange(c)})};c.fetchAndStoreIsCurrentMenuSetByAPI=function(a){b("promiseDone")(s(b("RelayFBEnvironment"),i!==void 0?i:i=b("PagesMarketingAutomationContentViewIsMenuSetByAPIQuery.graphql"),{pageID:a}),function(a){a=Boolean((a=a)!=null?(a=a.page_messenger_is_persistent_menu_set_by_api_query)!=null?a.is_menu_set_by_api:a:a);b("PagesMarketingAutomationActions").updateIsCurrentMenuSetByAPI(a)})};c.fetchAndStoreIsCurrentIcebreakersSetByAPI=function(){b("promiseDone")(s(b("RelayFBEnvironment"),j!==void 0?j:j=b("PagesMarketingAutomationContentViewIsIcebreakersSetByAPIQuery.graphql"),{}),function(a){a=Boolean((a=a)!=null?(a=a.page_inbox_icebreakers_is_set_by_api_query)!=null?a.is_set_by_api:a:a);b("PagesMarketingAutomationActions").updateIsCurrentIcebreakersSetByAPI(a)})};c.fetchAndStoreIcebreakers=function(a){__p&&__p();var c=this;if(a==null)return;b("promiseDone")(s(b("RelayFBEnvironment"),k!==void 0?k:k=b("PagesMarketingAutomationContentViewIcebreakerQuery.graphql"),{pageID:a}),function(a){__p&&__p();var d;d=(d=a)!=null?d.page_inbox_icebreakers_query:d;if(d!=null){d=d.map(function(a){var b,c=a.response_media_attachment;c&&(c={id:Number(c.id),url:c.url,type:n(c.type),class_name:c.class_name});var d=a.response_ctas;d&&(d=d.map(function(a){return{content:a.content,url:a.url,type:o(a.type)}}));return{custom_question:(b=a.custom_question)!=null?b:"",saved_response:(b=a.saved_response)!=null?b:"",response_ctas:(b=d)!=null?b:[],response_media_attachment:(d=c)!=null?d:null,should_show_in_menu:(b=a.should_show_in_menu)!=null?b:!1}});b("PagesMarketingAutomationActions").updateIcebreakers(d);d=c.shuffleDemoIcebreakers(d);b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(d);b("PagesMarketingAutomationActions").updateShowQPCIcebreakersDisclaimer(!!(a==null?void 0:(d=a.page)==null?void 0:(a=d.services_vertical_info)==null?void 0:a.show_qpc_icebreakers_disclaimer))}})};c.fetchAndStoreIntakeFormInfo=function(a){__p&&__p();var c=b("PagesMarketingAutomationStore").getAutomationID();if(c==null||a==null)return;b("promiseDone")(s(b("RelayFBEnvironment"),l!==void 0?l:l=b("PagesMarketingAutomationContentViewIntakeFormInfoQuery.graphql"),{pageID:a,automationID:c}),function(a){var c,d;c=(c=a)!=null?(c=c.node)!=null?c.organic_intake_form_steps:c:c;d=a==null?void 0:(d=a.services_intake_form_predefined_questionnaire)==null?void 0:d.predefined_questions;c&&c.intro_message!==""&&c.question_messages.length>0&&c.question_messages[0]!==""&&c.thank_you_message!==""?b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:c.intro_message,questionMessages:b("PagesMarketingAutomationUtils").buildAutomatedMessagesAnswerType(c.question_messages),thankYouMessage:c.thank_you_message}):d&&b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.intro_message,questionMessages:b("PagesMarketingAutomationUtils").buildAutomatedMessagesAnswerType(d.question_messages),thankYouMessage:d.thank_you_message});d=(c=a)!=null?(c=c.node)!=null?(c=c.organic_intake_form_step_list)!=null?c.id:c:c:c;d&&b("PagesMarketingAutomationActions").updateOrganicIntakeFormStepListID(d);b("PagesMarketingAutomationActions").storeIntakeFormInfo((a==null?void 0:(c=a.page)==null?void 0:(d=c.services_vertical_info)==null?void 0:d.eligible_for_intake_form)||!1,a==null?void 0:(c=a.page)==null?void 0:(d=c.services_vertical_info)==null?void 0:d.qpc_consumer_flow,(a==null?void 0:(c=a.page)==null?void 0:(d=c.services_quick_lead_gen_setting_info)==null?void 0:d.stop_question_message)||"",(a==null?void 0:(c=a.page)==null?void 0:(d=c.services_quick_lead_gen_setting_info)==null?void 0:d.reminder_message)||"",(a==null?void 0:(c=a.page)==null?void 0:(d=c.services_quick_lead_gen_setting_info)==null?void 0:d.privacy_url)||"")})};c.fetchAndStoreFollowUpMessageInfo=function(a){var c=b("PagesMarketingAutomationStore").getAutomationID();if(c==null||a==null)return;b("promiseDone")(s(b("RelayFBEnvironment"),m!==void 0?m:m=b("PagesMarketingAutomationContentViewFollowUpMessageInfoQuery.graphql"),{pageID:a}),function(a){a=(a=(a=a.page)==null?void 0:a.services_follow_up_message_setting)!=null?a:{};b("PagesMarketingAutomationActions").storeFollowUpMessageInfo(a==null?void 0:a.message_content,a==null?void 0:a.schedule_in_seconds)})};c.shuffleDemoIcebreakers=function(a){var b=[];for(var c=0;c<a.length;c++)a[c].custom_question.trim()!==""&&b.push(c);c=Math.min(t,b.length);return b.slice(0,c)};c.fetchAndStoreAutomationSpecificInfo=function(a,b){a==="away_message"?c.fetchAndStoreAwayInfo(b):a==="icebreaker"?(c.fetchAndStoreIcebreakers(b),c.fetchAndStoreIsCurrentIcebreakersSetByAPI()):a==="custom_questions"?(c.fetchAndStoreIcebreakers(b),c.fetchAndStoreIsCurrentMenuSetByAPI(b),c.fetchAndStoreIsCurrentIcebreakersSetByAPI()):a==="organic_intake_form"?(this.logIntakeFormEvent("services_organic_intake_form_setup_impression",b),c.fetchAndStoreIntakeFormInfo(b)):a==="appointment_follow_up"&&c.fetchAndStoreFollowUpMessageInfo(b)};c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(a,d){b("PagesMarketingAutomationStore").getAutomationID()!=null&&((!a||a.automationID==null||a.automationID!==b("PagesMarketingAutomationStore").getAutomationID())&&(c.fetchAndStoreAutomationSpecificInfo(b("PagesMarketingAutomationStore").getAutomationType(),d.pageID),b("PagesMarketingAutomationStore").getIsDefaultAutomation()?c.setupDefaultAutomation(d.pageID):c.fetchAndStoreAutomationData()));a=b("PagesMarketingAutomationStore").getAutomationType();return{welcomeText:b("PagesMarketingAutomationStore").getWelcomeText(),automatedCheckoutMessages:b("PagesMarketingAutomationStore").getAutomatedCheckoutMessages(),organicIntakeFormMessages:b("PagesMarketingAutomationStore").getOrganicIntakeFormMessages(),isWelcomeTextIntialized:b("PagesMarketingAutomationStore").getIsWelcomeTextIntialized(),automationID:b("PagesMarketingAutomationStore").getAutomationID(),attachmentType:b("PagesMarketingAutomationStore").getAttachmentType(),media:b("PagesMarketingAutomationStore").getMedia(),errors:b("PagesMarketingAutomationStore").getErrors(),automationType:a,isEditMode:b("PagesMarketingAutomationStore").getIsEditMode(),ctas:b("PagesMarketingAutomationStore").getCTAs(),isEnabled:a==="away_message"?b("PagesMarketingAutomationStore").getIsCurrentlyAway():b("PagesMarketingAutomationStore").getIsEnabled(),isSendDisabled:b("PagesMarketingAutomationStore").getIsSendDisabled(),hasComposerBeenEdited:b("PagesMarketingAutomationStore").getHasComposerBeenEdited(),icebreakers:b("PagesMarketingAutomationStore").getIcebreakers(),initialSelectedSavedReply:b("PagesMarketingAutomationStore").getInitialSelectedSavedReply(),demoIcebreakerIndices:b("PagesMarketingAutomationStore").getDemoIcebreakerIndices(),reengagementData:b("PagesMarketingAutomationStore").getReengagementData(),isEligibleForIntakeForm:b("PagesMarketingAutomationStore").getIsEligibleForIntakeForm(),questionnaireDisqualificationMessage:b("PagesMarketingAutomationStore").getState().questionnaireDisqualificationMessage,questionnaireStopQuestionsMessage:b("PagesMarketingAutomationStore").getState().questionnaireStopQuestionsMessage,questionnaireSummaryMessage:b("PagesMarketingAutomationStore").getState().questionnaireSummaryMessage,questionnaireReminderMessage:b("PagesMarketingAutomationStore").getState().questionnaireReminderMessage,questionnairePrivacyPolicyURL:b("PagesMarketingAutomationStore").getState().questionnairePrivacyPolicyURL,followUpMessageData:b("PagesMarketingAutomationStore").getState().followUpMessageData,enabledPlatforms:b("PagesMarketingAutomationStore").getEnabledPlatforms(),qpcConsumerFlow:b("PagesMarketingAutomationStore").getState().qpcConsumerFlow,selectedSavedReply:b("PagesMarketingAutomationStore").getselectedSavedReply(),shouldShowAdvancedOptions:b("PagesMarketingAutomationStore").getShouldShowAdvancedOptions(),showQPCIcebreakersDisclaimer:b("PagesMarketingAutomationStore").getState().showQPCIcebreakersDisclaimer}};c.logIntakeFormEvent=function(a,c){var d=b("PagesMarketingAutomationStore").getServicesReferrerData(),e=d.referrer;d=d.referrerSurface;b("ServicesEventsLogger").log(c,a,{referrerUIComponent:e,referrerUISurface:d})};function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$2=function(){var a=d.state.automationID;if(a==null)return;b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!0);b("PagesMarketingAutomationActions").updateIsWelcomeTextInitialized(!1);new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("edit_message_click").setActionTag(a).setSessionKey(d.props.pageID).log()};b("PagesMarketingAutomationDispatcher").explicitlyRegisterStores([b("PagesMarketingAutomationStore")]);return d}var d=c.prototype;d.$1=function(){var a=this.state.icebreakers;return this.state.demoIcebreakerIndices.map(function(b){return a[b]})};d.$3=function(){b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!1)};d.render=function(){var a=this.state.automationType;if(!a||this.state.automationID==null)return b("React").jsx("div",{});return this.state.isEditMode||a==="automated_checkout"?b("React").jsx(b("PagesMarketingAutomationEditView.react"),{attachmentType:this.state.attachmentType,automatedCheckoutMessages:this.state.automatedCheckoutMessages,automationID:this.state.automationID,automationType:a,ctas:this.state.ctas,demoIcebreakers:this.$1(),enabledPlatforms:this.state.enabledPlatforms,errors:this.state.errors,followUpMessageData:this.state.followUpMessageData,hasComposerBeenEdited:this.state.hasComposerBeenEdited,height:this.props.height,icebreakers:this.state.icebreakers,initialSelectedSavedReply:this.state.initialSelectedSavedReply,isEligibleForIntakeForm:this.state.isEligibleForIntakeForm,isSendDisabled:this.state.isSendDisabled,isWelcomeTextIntialized:this.state.isWelcomeTextIntialized,media:this.state.media,onBack:this.$3,organicIntakeFormMessages:this.state.organicIntakeFormMessages,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,qpcConsumerFlow:this.state.qpcConsumerFlow,questionnaireDisqualificationMessage:this.state.questionnaireDisqualificationMessage,questionnairePrivacyPolicyURL:this.state.questionnairePrivacyPolicyURL,questionnaireReminderMessage:this.state.questionnaireReminderMessage,questionnaireStopQuestionsMessage:this.state.questionnaireStopQuestionsMessage,questionnaireSummaryMessage:this.state.questionnaireSummaryMessage,reengagementData:this.state.reengagementData,selectedSavedReply:this.state.selectedSavedReply,shouldShowAdvancedOptions:this.state.shouldShowAdvancedOptions,showQPCIcebreakersDisclaimer:this.state.showQPCIcebreakersDisclaimer,welcomeText:this.state.welcomeText}):b("React").jsx(b("PagesMarketingAutomationDetailView.react"),{attachmentType:this.state.attachmentType,automatedCheckoutMessages:this.state.automatedCheckoutMessages,automationType:a,ctas:this.state.ctas,demoIcebreakers:this.$1(),enabledPlatforms:this.state.enabledPlatforms,followUpMessageData:this.state.followUpMessageData,height:this.props.height,isEligibleForIntakeForm:this.state.isEligibleForIntakeForm,isEnabled:this.state.isEnabled,media:this.state.media,menuItems:this.state.icebreakers&&this.state.icebreakers.filter(function(a){return a.custom_question.length>0&&Boolean(a.should_show_in_menu)})||[],onEdit:this.$2,organicIntakeFormMessages:this.state.organicIntakeFormMessages,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,reengagementMessages:this.state.reengagementData.reengagementMessages,showQPCIcebreakersDisclaimer:this.state.showQPCIcebreakersDisclaimer,welcomeText:this.state.welcomeText})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("PagesMarketingAutomationContentViewInfoCard.react",["cx","FDSText.react","PagesAutomatedResponsesAwayScheduleDetail.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.showPageSchedule===!0?b("React").jsx(b("PagesAutomatedResponsesAwayScheduleDetail.react"),{isShown:!!a.showPageSchedule}):b("React").jsxs("div",{className:"_23gl",children:[b("React").jsx("div",{className:"_3-95",children:b("React").jsx(b("FDSText.react"),{size:"header3",weight:"bold",children:a.title})}),b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_452x",children:b("React").jsx(b("FDSText.react"),{size:"body1",children:a.body})}),b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:a.note})]})]})}e.exports=a}),null);
__d("MessengerMenuPreview.react",["cx","fbt","ix","FDSText.react","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=30;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){if(this.props.menuItems==null)return;var a=this.props.menuItems.map(function(a,c){return b("React").jsx("div",{className:"_8f_c",children:b("React").jsx("div",{className:"_8f_d",children:b("React").jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:a.custom_question.length>j?a.custom_question.substr(0,j-3)+"...":a.custom_question})},"text")},"menuitem".concat(c.toString()))});return b("React").jsxs("div",{className:"_8f_e",children:[b("React").jsx("div",{children:b("React").jsx("input",{className:"_8jga",type:"text"})}),b("React").jsx("div",{children:b("React").jsx("input",{className:"_8f_h",placeholder:h._("Write a message..."),type:"text"})}),b("React").jsx("div",{children:a})]})};d.render=function(){var a,c=this.$1();return(a=b("React")).jsxs("div",{className:"_8f_j",children:[a.jsx(b("Image.react"),{src:i("572864")}),a.jsx("div",{className:"_8f_k",children:a.jsx(b("FDSText.react"),{color:"primary",size:"body3",children:this.props.pageName})}),a.jsx("div",{children:c})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerAdsPartialAutomatedPrefillType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ZIP_CODE:"ZIP_CODE",CITY:"CITY",STATE:"STATE",COUNTRY:"COUNTRY",EMAIL:"EMAIL",PHONE:"PHONE",JOB_TITLE:"JOB_TITLE",COMPANY_NAME:"COMPANY_NAME",GENDER:"GENDER",DOB:"DOB",NONE:"NONE"})}),null);
__d("MessengerAdsPartialAutomatedReplyType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({QUICK_REPLIES:"QUICK_REPLIES",TEXT:"TEXT",NONE:"NONE",PREFILL:"PREFILL",ICE_BREAKERS:"ICE_BREAKERS",APPOINTMENT:"APPOINTMENT",SUBSCRIBE:"SUBSCRIBE"})}),null);
__d("PagesMessengerPreview.react",["cx","fbt","ix","FDSText.react","FluxContainer","Image.react","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerStore","PagesReplyComposerTextUtilities","React","ScrollableArea.react","ServicesGetQuoteCTASetupUtils","SUIBusinessTheme","SUIText.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ServicesGetQuoteCTASetupUtils").getAnswerTypeName,k="PagesMessengerPreview";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesReplyComposerStore").getByKey(k)]};c.calculateState=function(){var a=b("PagesReplyComposerStore").getByKey(k).getState();return{supportedMacros:a.supportedMacros}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1()};d.$1=function(){b("PagesReplyComposerDispatcher").getByKey(k).explicitlyRegisterStores([b("PagesReplyComposerStore").getByKey(k)]),b("PagesReplyComposerActions").getActionsByKey(k).initializeStoreWithConfig({composerKey:k,initialReply:"",initialDisabled:!1,isAdsInterfaceSource:!1,pageID:this.props.pageID,placeholderText:"",automationType:this.props.automationType})};d.$2=function(){return this.props.ctas&&this.props.ctas.length>0?this.props.ctas.map(function(a,c){return b("React").jsx("div",{className:"_3eb0",children:b("React").jsx(b("FDSText.react"),{color:"highlight",overflowWrap:"break-word",size:"body1",children:a.content})},c)}):null};d.$3=function(){if(this.props.attachmentType){var a=this.props.media,c=a&&this.props.attachmentType===a.type?b("React").jsx(b("Image.react"),{className:"_3eb1",src:a&&a.url}):b("React").jsx("div",{className:"_6aul",children:b("React").jsx(b("Image.react"),{src:this.props.attachmentType==="image"?i("481807"):i("493176")})});return b("React").jsxs("div",{children:[c,a&&this.props.attachmentType==="image"?b("React").jsxs("div",{children:[b("React").jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-9b _3-91",overflowWrap:"break-word",size:"body1",weight:"bold",children:a.title}),b("React").jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-9b _3-91",overflowWrap:"break-word",size:"body1",children:a.subtitle})]}):null]})}return null};d.$4=function(a){var c=this.props.ghostTextLocation==="top"?"_3-96 _3-9a":"_3-8y _3-9c";return b("React").jsx("div",{className:"_8fyf",children:b("React").jsx(b("SUIText.react"),{color:"disabled",customSizeUseSparingly:"10px",display:"block",margin:c,overflowWrap:"break-word",size:"body3",textAlign:a,theme:b("SUIBusinessTheme"),children:this.props.ghostText})})};d.$5=function(){var a=b("PagesReplyComposerTextUtilities").processMessage(this.props.text,this.state.supportedMacros);return b("React").jsx("div",{className:"_3ebi",children:b("React").jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:a})})};d.$6=function(){return b("React").jsxs("div",{className:"_6bbd",children:[this.props.ghostTextLocation==="top"?this.$4("center"):null,b("React").jsxs("div",{style:{display:"flex"},children:[b("React").jsx(b("Image.react"),{className:"_3ebf",src:this.props.pageProfileUrl}),b("React").jsxs("div",{className:"_3ecd",children:[this.$5(),this.$3(),this.$2()]})]}),this.props.ghostTextLocation==="bottom"?this.$4("left"):null]})};d.$7=function(){var a=this,c=this.props.questionnaireMessages,d=c==null?void 0:c.questionMessages,e=null,f=null;if(c&&d&&d.length){var g;e=(g=b("React")).jsxs("div",{className:"_6bbd",children:[g.jsxs("div",{style:{display:"flex"},children:[g.jsx(b("Image.react"),{className:"_3ebf",src:this.props.pageProfileUrl}),g.jsxs("div",{className:"_8fyh",children:[!!(c==null?void 0:c.introMessage)&&b("React").jsx("div",{className:"_3ecd",children:b("React").jsx("div",{className:"_3ebi",children:b("React").jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:c.introMessage})})}),b("React").jsx("div",{className:"_3ecd",children:b("React").jsx("div",{className:"_3ebi",children:b("React").jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:h._("We have {number of questions} automated questions to help us respond to you faster",[h._param("number of questions",d.length)])})})})]})]}),b("React").jsx("div",{className:"_8fyg",children:b("React").jsx(b("FDSText.react"),{color:"white",overflowWrap:"break-word",size:"body2",children:h._("Get started")})})]},0);f=b("React").jsx(b("React").Fragment,{children:d.map(function(d,e){var c,f=d.answerType;return(c=b("React")).jsxs("div",{className:"_6bbd",children:[c.jsxs("div",{style:{display:"flex"},children:[c.jsx(b("Image.react"),{className:"_3ebf",src:a.props.pageProfileUrl}),c.jsx("div",{className:"_8fyh",children:c.jsx("div",{className:"_3ecd",children:c.jsx("div",{className:"_3ebi",children:c.jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:d.message})})})})]}),c.jsx("div",{className:"_8fyg",children:c.jsx(b("FDSText.react"),{color:"white",overflowWrap:"break-word",size:"body2",children:f?j(f):h._("Answer")})})]},e+1)})})}return b("React").jsxs(b("React").Fragment,{children:[e,f]})};d.$8=function(){if(this.props.icebreakers==null)return;var a=this.props.icebreakers.map(function(a,c){var d;return(d=b("React")).jsxs("div",{className:"_8bp7",children:[d.jsx("div",{className:"_8bp8",children:d.jsx("div",{className:"_8bp9",children:h._("Ask")})}),d.jsx("div",{className:"_8bpa",children:d.jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body3",children:a.custom_question})},"text")]},"icebreaker".concat(c.toString()))}),c=this.props.showQPCIcebreakersDisclaimer===!0?b("React").jsxs(b("React").Fragment,{children:[b("React").jsxs("div",{className:"_8bp7",children:[b("React").jsx("div",{className:"_8bp8",children:b("React").jsx("div",{className:"_8bp9",children:h._("Ask")})}),b("React").jsx("div",{className:"_8bpa",children:b("React").jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body3",children:h._("I'm a new customer. How can I find out more about your business?")})},"text")]}),b("React").jsx("div",{className:"_8bpc"})]}):null;return b("React").jsxs("div",{className:"_8bpb",children:[c,a.map(function(a,c){c=b("React").jsx("div",{className:"_8bpc"},"separator".concat(c.toString()));return[a,c]})]})};d.render=function(){var a,c=null;switch(this.props.automationType){case"organic_intake_form":case"automated_checkout":c=this.$7();break;case"icebreaker":c=this.$8();break;default:c=this.$6();break}return(a=b("React")).jsxs("div",{className:"_3ebe",children:[a.jsx(b("Image.react"),{src:i("572864")}),a.jsx("div",{className:"_3eb3",children:a.jsx(b("FDSText.react"),{color:"primary",size:"body3",children:this.props.pageName})}),a.jsx(b("ScrollableArea.react"),{className:"_3ebd",children:a.jsx("div",{className:"_3ei9",children:c})})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesMessengerCustomQuestionsPreview.react",["FDSButton.react","FlexLayout.react","MessengerMenuPreview.react","PagesManagerInboxFAQConstants","PagesMessengerPreview.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesManagerInboxFAQConstants").FAQ_PREVIEW_TAB_MENU,h=b("PagesManagerInboxFAQConstants").FAQ_PREVIEW_TAB_QUESTIONS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={previewType:"icebreaker"},c.$1=function(){c.setState({previewType:"icebreaker"})},c.$2=function(){c.setState({previewType:"menu"})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$3=function(){switch(this.state.previewType){case"icebreaker":return b("React").jsx(b("PagesMessengerPreview.react"),{attachmentType:null,automationType:"icebreaker",ctas:[],icebreakers:this.props.icebreakers,media:null,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,text:this.props.text});case"menu":return b("React").jsx(b("MessengerMenuPreview.react"),{menuItems:this.props.menuItems,pageID:this.props.pageID,pageName:this.props.pageName})}};d.render=function(){var a;return(a=b("React")).jsxs(b("FlexLayout.react"),{align:"center",direction:"vertical",children:[this.$3(),a.jsxs(b("FlexLayout.react"),{children:[a.jsx(b("FDSButton.react"),{isDepressed:this.state.previewType==="icebreaker",label:h,onClick:this.$1,roundedCorners:["topLeft","bottomLeft"]}),a.jsx(b("FDSButton.react"),{isDepressed:this.state.previewType==="menu",label:g,onClick:this.$2,roundedCorners:["topRight","bottomRight"]})]})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMessengerReengagementPreview.react",["cx","ix","FDSText.react","FluxContainer","Image.react","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerStore","PagesReplyComposerTextUtilities","React","ScrollableArea.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="PagesMessengerPreview";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesReplyComposerStore").getByKey(i)]};c.calculateState=function(){var a=b("PagesReplyComposerStore").getByKey(i).getState();return{supportedMacros:a.supportedMacros}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1()};d.$1=function(){b("PagesReplyComposerDispatcher").getByKey(i).explicitlyRegisterStores([b("PagesReplyComposerStore").getByKey(i)]),b("PagesReplyComposerActions").getActionsByKey(i).initializeStoreWithConfig({composerKey:i,initialReply:"",initialDisabled:!1,isAdsInterfaceSource:!1,pageID:this.props.pageID,placeholderText:""})};d.$2=function(a){return a&&a.length>0?a.map(function(a,c){return b("React").jsx("div",{className:"_3eb0",children:b("React").jsx(b("FDSText.react"),{color:"highlight",overflowWrap:"break-word",size:"body1",children:a.content})},c)}):null};d.$3=function(a,c){if(a){var d=c&&a===c.type?b("React").jsx(b("Image.react"),{className:"_3eb1",src:c&&c.url}):b("React").jsx("div",{className:"_6aul",children:b("React").jsx(b("Image.react"),{src:a==="image"?h("481807"):h("493176")})});return b("React").jsxs("div",{children:[d,c&&a==="image"?b("React").jsxs("div",{children:[b("React").jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-9b _3-91",overflowWrap:"break-word",size:"body1",weight:"bold",children:c.title}),b("React").jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-9b _3-91",overflowWrap:"break-word",size:"body1",children:c.subtitle})]}):null]})}return null};d.$4=function(a){a=b("PagesReplyComposerTextUtilities").processMessage(a,this.state.supportedMacros);return b("React").jsx("div",{className:"_3ebi",children:b("React").jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:a})})};d.$5=function(){var a=this,c=this.props.reengagementMessages;return c&&c.length>0?c.map(function(c,d){var e;return(e=b("React")).jsx("div",{className:"_6bbd",children:e.jsxs("div",{style:{display:"flex"},children:[e.jsx(b("Image.react"),{className:"_3ebf",src:a.props.pageProfileUrl}),e.jsxs("div",{className:"_3ecd",children:[a.$4(c.messageText),a.$3(c.attachmentType,c.attachment),a.$2(c.ctas)]})]})},d)}):null};d.render=function(){var a;return(a=b("React")).jsxs("div",{className:"_3ebe",children:[a.jsx(b("Image.react"),{src:h("572864")}),a.jsx("div",{className:"_3eb3",children:a.jsx(b("FDSText.react"),{color:"primary",size:"body3",children:this.props.pageName})}),a.jsx(b("ScrollableArea.react"),{className:"_3ebd",children:a.jsx("div",{className:"_3ei9",children:this.$5()})})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesMarketingAutomationDetailView.react",["ix","cx","fbt","FDSButton.react","FDSText.react","Image.react","PagesMarketingAutomationContentUtils","PagesMarketingAutomationContentViewInfoCard.react","PagesMarketingAutomationEnableDisplay.react","PagesMarketingAutomationStore","PagesMarketingAutomationUtils","PagesMessengerCustomQuestionsPreview.react","PagesMessengerPreview.react","PagesMessengerReengagementPreview.react","React","SUIBusinessTheme","SUINotice.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=(a=b("PagesMarketingAutomationContentUtils")).getAdminGhostText,k=a.getContentForDetailViewDescription,l=a.getContentForDetailViewGeneralDescription,m=a.getContentForDetailViewTitle,n=a.getContentForDisabledEditButtonNotice,o=a.getContentForNotice,p=a.getTimingContent,q=a.getTimingNote,r=b("PagesMarketingAutomationUtils").shouldShowAdminTextForSmartReply,s=b("PagesMarketingAutomationUtils").shouldShowEditButton,t=b("PagesMarketingAutomationUtils").shouldShowNotice;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){return a==="appointment_reminder"};d.$2=function(a){if(this.$1(a))return null;var c=a==="away_message"||"icebreaker"?i._("Edit"):i._("Edit Message");a=s(a);if(a)return b("React").jsx("div",{className:"_6a0n",children:b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("490984")}),label:c,onClick:this.props.onEdit,size:"large",use:"primary"})});else return b("React").jsx("div",{className:"_2pio",style:{visibility:"visible"},children:b("React").jsx(b("SUINotice.react"),{theme:b("SUIBusinessTheme"),type:"information",children:b("React").jsx(b("FDSText.react"),{size:"body3",weight:"bold",children:n(this.props.automationType)})})})};d.$3=function(){return b("React").jsxs("div",{className:"_6a0o",children:[b("React").jsx("div",{className:"_2pio",style:{visibility:t(this.props.automationType,b("PagesMarketingAutomationStore").getIsDefaultAutomation())?"visible":"hidden"},children:b("React").jsx(b("SUINotice.react"),{theme:b("SUIBusinessTheme"),type:"information",children:b("React").jsx(b("FDSText.react"),{size:"body3",weight:"bold",children:o(this.props.automationType)})})}),b("React").jsx("div",{className:"_2pin",children:b("React").jsx(b("FDSText.react"),{size:"header2",children:m(this.props.automationType)})}),b("React").jsx(b("PagesMarketingAutomationEnableDisplay.react"),{automationType:this.props.automationType,enabledPlatforms:this.props.enabledPlatforms,isEnabled:this.props.isEnabled}),b("React").jsx("div",{className:"_2pip",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:k(this.props.automationType,this.props.pageName)})}),b("React").jsx("div",{className:"_452x",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:l(this.props.automationType,this.props.pageName)})}),b("React").jsxs("div",{className:"_2phb",children:[b("React").jsx(b("PagesMarketingAutomationContentViewInfoCard.react"),{body:p(this.props.automationType,this.props.pageName),note:q(this.props.automationType,this.props.pageName),showPageSchedule:this.props.automationType==="away_message",title:i._("Timing")},"title"),this.$2(this.props.automationType)]})]})};d.render=function(){var a,c=this.props.welcomeText;switch(this.props.automationType){case"automated_checkout":c=this.props.automatedCheckoutMessages.introMessage;break;case"appointment_follow_up":c=(a=(a=this.props.followUpMessageData)==null?void 0:a.messageContent)!=null?a:c;break}return b("React").jsxs("div",{className:"_6a0p",style:{height:this.props.height},children:[b("React").jsx("div",{className:"_2f4x",children:this.$3()}),b("React").jsx("div",{className:"_2f4z",children:this.props.automationType==="mbs_reengagement"?b("React").jsx(b("PagesMessengerReengagementPreview.react"),{pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,reengagementMessages:this.props.reengagementMessages}):this.props.automationType==="custom_questions"?b("React").jsx(b("PagesMessengerCustomQuestionsPreview.react"),{icebreakers:(a=this.props.demoIcebreakers)!=null?a:[],menuItems:(a=this.props.menuItems)!=null?a:[],pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,text:this.props.welcomeText}):b("React").jsx(b("PagesMessengerPreview.react"),{attachmentType:this.props.attachmentType,automationType:this.props.automationType,ctas:this.props.ctas,ghostText:j(this.props.automationType,this.props.pageName),ghostTextLocation:r(this.props.automationType)?"bottom":"top",icebreakers:this.props.demoIcebreakers,media:this.props.media,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,questionnaireMessages:this.props.automationType==="organic_intake_form"&&this.props.isEligibleForIntakeForm?this.props.organicIntakeFormMessages:null,showQPCIcebreakersDisclaimer:this.props.showQPCIcebreakersDisclaimer,text:c})})]})};return c}(b("React").PureComponent);e.exports=c}),null);
__d("ServicesFollowUpMessageSettingsUtils",["ServicesDurationUnit"],(function(a,b,c,d,e,f){"use strict";c=[(a=b("ServicesDurationUnit")).HOURS,a.DAYS,a.WEEKS,a.MONTHS];e.exports={FOLLOW_UP_MESSAGE_DURATION_UNITS:c}}),null);
__d("PageSetAwayConfigMutation",["RelayFBEnvironment","RelayModern","PageSetAwayConfigMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageSetAwayConfigMutation.graphql");function a(a,c,d,e){var f={set_page_away_config:{away_time_zone:a,away_hours:d}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:f,variables:{input:{away_time_zone:a,away_hours:d,page_id:c}},onCompleted:e&&e.onSuccess,onError:e&&e.onFailure})}e.exports={commit:a}}),null);
__d("PageUpdateCustomIcebreakersMutation",["RelayFBEnvironment","RelayModern","PageUpdateCustomIcebreakersMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageUpdateCustomIcebreakersMutation.graphql");function a(a,c){var d=a.data.icebreaker_question_answer_pairs.map(function(a){return{custom_question:a.custom_question,saved_response:a.saved_response}});d={page_update_question_answer_pairs:{icebreaker_question_answer_pairs:d}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:a.data},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesAutomatedQuestionnaireMessageItem.react",["ix","cx","fbt","FDSButton.react","FDSText.react","Image.react","PagesMarketingAutomationMessageComposer.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isEditing:!0},c.$1=function(){c.setState({isEditing:!0})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsxs(b("React").Fragment,{children:[this.props.title!=null&&this.props.description!=null&&b("React").jsxs("div",{className:"_3-8- _6_oc",children:[b("React").jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:this.props.title}),b("React").jsx("br",{}),b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body2",children:this.props.description})]}),this.state.isEditing?b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:this.props.automationID,ctas:null,errors:this.props.errors,hideAttachmentSection:!0,hideCTASection:!0,isWelcomeTextIntialized:!0,media:null,onMessageChange:this.props.onIntroMessageChange,pageID:this.props.pageID,showPersonalization:!1,showTimeSection:!1,specialType:this.props.specialType,welcomeText:this.props.content}):b("React").jsxs("div",{className:"_3-8x _2pi4 _2pi9 _8ej0 _6_oc",children:[b("React").jsxs("div",{className:"_2pit _8eix",children:['"',this.props.content,'"']}),b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("490346")}),label:i._("Edit"),onClick:this.$1,size:"medium"})]})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AdsMessengerPartialAutomatedCreationQuestionsOptionsFormatOption",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT:"text",CAROUSEL:"carousel"})}),null);
__d("MessengerAdsPartialAutomatedBroadcastMediaType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT:"text",IMAGE:"image",VIDEO:"video"})}),null);
__d("MessengerAdsPartialAutomatedBroadcastType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NOTIFY_ME:"NOTIFY_ME",SIGN_UP:"SIGN_UP",GET_UPDATES:"GET_UPDATES"})}),null);
__d("MessengerAdsPartialAutomatedFollowUpButtonDestinationType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WEBSITE:"website",APP:"app"})}),null);
__d("reverseArgs",[],(function(a,b,c,d,e,f){function a(a){return function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.apply(void 0,c.reverse())}}e.exports=a}),null);
__d("PagesMarketingAutomationCheckoutQuestionComposer.react",["cx","AdsMessengerPartialAutomatedCreationTypes","MessengerDestinationPartialAutomatedCreationNUXSectionQuestions.react","PagesMarketingAutomationActions","React","emptySet"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={focusedIndex:0},d.$1=function(a){d.setState({focusedIndex:a})},d.$2=function(a){a=a.map(function(a){var b=a.answers?a.answers.map(function(a){return a.value}):[];return{answers:b,answerType:(b=a.answerType)!=null?b:i.CUSTOM,message:a.questionMessage,prefillType:"NONE",replyType:"TEXT"}});b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:d.props.automatedCheckoutMessages.introMessage,questionMessages:a,thankYouMessage:d.props.automatedCheckoutMessages.thankYouMessage})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(a){return a.map(function(a){return{questionMessage:a.message,answerType:a.answerType,answerValidationEnabled:!1,answers:a.answers.map(function(a){return{fieldID:"",value:a,nextStep:h.NEXT_QUESTION,mediaContent:null}}),optionsFormat:"text",fieldID:""}})};d.render=function(){return b("React").jsx("div",{className:"_6_oc",children:b("React").jsx(b("MessengerDestinationPartialAutomatedCreationNUXSectionQuestions.react"),{account:null,focusedIndex:this.state.focusedIndex,isEmojiTest:!1,isSkipToEnabled:!1,onAddQuestion:this.props.onAddQuestion,onQuestionItemChange:this.props.onQuestionMessageChange,onRemoveQuestion:this.props.onRemoveQuestion,onSetQuestions:this.$2,pageID:this.props.pageID,questionItems:this.$3(this.props.automatedCheckoutMessages.questionMessages),sectionValidationErrors:b("emptySet"),setFocusedIndex:this.$1,showError:this.props.showError,showRichFormat:!1})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationCreateMutation",["RelayFBEnvironment","RelayModern","PagesMarketingAutomationCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesMarketingAutomationCreateMutation.graphql");function a(a,c){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:a.data},updater:function(a,b){b=(b=b)!=null?(b=b.page_create_automation)!=null?(b=b.automation)!=null?b.id:b:b:b;if(b){a=a.get(b);a&&a.setValue(!0,"is_enabled")}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesMarketingAutomationUpdateMutation",["RelayFBEnvironment","RelayModern","PagesMarketingAutomationUpdateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesMarketingAutomationUpdateMutation.graphql");function a(a,c){var d={page_update_automation:{automation:{id:a.data.id},automated_checkout_step_list:null}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:a.data},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("ServicesQPCFlow",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ICEBREAKERS:"icebreakers",OPT_OUT:"opt_out",NONE:"none"})}),null);
__d("PagesMarketingAutomationEditView.react",["ix","cx","fbt","AdsMessengerPartialAutomatedCreationTypes","AppointmentFollowUpMessageEditor.react","FBMoreLink.react","FDSButton.react","FDSCancelButton.react","FDSCheckboxInput.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","IcebreakerFreeTextEditor.react","Image.react","MessengerAdsConversionFunnelTypedLogger","PagesAutomatedQuestionnaireMessageItem.react","PagesAutomatedQuestionnairePrivacyPolicyItem.react","PagesAutomatedResponsesAwayTimeRangeEditorRoot.react","PagesContentEditorConstants","PagesCreateSavedResponseMutation","PagesDeleteSavedResponseMutation","PagesEditSavedResponseMutation","PageSetAwayConfigMutation","PagesManagerAction","PagesManagerComposerSectionCard.react","PagesManagerComposerTopBar.react","PagesManagerInboxFAQConstants","PagesManagerInboxLogger","PagesMarketingAutomationActions","PagesMarketingAutomationCheckoutQuestionComposer.react","PagesMarketingAutomationContentUtils","PagesMarketingAutomationContentView.react","PagesMarketingAutomationCreateMutation","PagesMarketingAutomationMessageComposer.react","PagesMarketingAutomationReengagementMessages.react","PagesMarketingAutomationStore","PagesMarketingAutomationUpdateMutation","PagesMarketingAutomationUtils","PagesMessagingInboxActionLogger","PagesMessengerCustomQuestionsPreview.react","PagesMessengerPreview.react","PagesMessengerReengagementPreview.react","PagesOrganicIntakeFormQuestionComposer.react","PagesTimeRangeEditorUtilities","PageUpdateCustomIcebreakersMutation","React","ResponsiveBlock.react","SavedResponsesConstants","SavedResponsesUtils","ServicesEventsLogger","ServicesFollowUpMessageSettingMutation","ServicesQPCFlow","WebFunnelLogger","asset","cxMargin","debounce","enumUtils"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,k=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,l=b("PagesContentEditorConstants").PagesContentEditorMessageComposerSpecialTypes,m=b("PagesManagerInboxFAQConstants").FAQ_MENU_REPLACE_CTA_TITLE,n=b("PagesManagerInboxFAQConstants").FAQ_MENU_REPLACE_WARN_DESCRIPTION,o=b("PagesManagerInboxFAQConstants").FAQ_MENU_REPLACE_WARN_TITLE,p=(a=b("PagesMarketingAutomationContentUtils")).getAdminGhostText,q=a.getContentForEditHeader,r=a.getContentForModalDetail,s=a.getContentForModalTitle,t=a.getPlacementContent,u=a.getPlatformStatus,v=a.getShouldShowIGDirectAutomatedResponse,w=a.getTimingContent,x=a.getTimingNote,y=b("PagesMarketingAutomationContentView.react").shuffleDemoIcebreakers,z=b("PagesMarketingAutomationUtils").shouldShowAdminTextForSmartReply,A=b("ServicesFollowUpMessageSettingMutation").commitMutationFollowUpMessage;function B(a){var c;return(c=b("React")).jsx(b("FDSModal.react"),{footer:c.jsx(b("FDSModalFooter.react"),{primaryButton:c.jsx(b("FDSButton.react"),{label:i._("Save"),onClick:a.onConfirmClick,use:"primary"}),secondaryButton:c.jsx(b("FDSCancelButton.react"),{})}),header:c.jsx(b("FDSModalHeader.react"),{title:i._("Save Away Schedule Changes?")}),isShown:a.isShown,onHide:a.onCancelClick,children:c.jsx(b("FDSSection.react"),{children:c.jsx(b("FDSText.react"),{children:i._("Changes to your away schedule will cause your Page will be away after changes are saved. You can make your Page available at any time in Inbox.")})})})}function C(a){return a.modalPurpose==null?null:b("React").jsx(b("FDSModal.react"),{footer:b("React").jsx(b("FDSModalFooter.react"),{primaryButton:b("React").jsx(b("FDSButton.react"),{label:a.modalPurpose==="CUSTOM_QUESTIONS"?m:i._("Save"),onClick:a.onConfirmClick,use:"primary"}),secondaryButton:b("React").jsx(b("FDSCancelButton.react"),{})}),header:b("React").jsx(b("FDSModalHeader.react"),{title:s(a.modalPurpose)}),isShown:a.isShown,onHide:a.onCancelClick,children:b("React").jsx(b("FDSSection.react"),{children:b("React").jsx(b("FDSText.react"),{children:r(a.modalPurpose)})})})}function D(a){var c;return(c=b("React")).jsx(b("FDSModal.react"),{footer:c.jsx(b("FDSModalFooter.react"),{primaryButton:c.jsx(b("FDSButton.react"),{label:m,onClick:a.onConfirmClick,use:"primary"}),secondaryButton:c.jsx(b("FDSCancelButton.react"),{})}),header:c.jsx(b("FDSModalHeader.react"),{title:o}),isShown:a.isShown,onHide:a.onCancelClick,children:c.jsx(b("FDSSection.react"),{children:c.jsx(b("FDSText.react"),{children:n})})})}function E(a){return b("React").jsx(b("PagesMarketingAutomationReengagementMessages.react"),{automationID:a.automationID,data:a.data,onAddMessage:a.onAddMessage,onIndexedCTAChange:a.onIndexedCTAChange,onIndexedMediaChange:a.onIndexedMediaChange,onIndexedMediaTypeChange:a.onIndexedMediaTypeChange,onIndexedTimeChange:a.onIndexedTimeChange,onMessageChange:a.onMessageChange,onRemoveMessage:a.onRemoveMessage,onRulesChange:a.onRulesChange,pageID:a.pageID})}function F(a){return b("React").jsxs(b("React").Fragment,{children:[H(a.automatedCheckoutMessages)?b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:a.automationID,ctas:null,errors:null,hideAttachmentSection:a.shouldHideAttachment,hideCTASection:a.shouldHideCTA,isWelcomeTextIntialized:a.isWelcomeTextInitialized,media:null,onMessageChange:a.onQuestionnaireDisqualificationMessageChange,pageID:a.pageID,showPersonalization:!1,showTimeSection:!1,welcomeText:a.questionnaireDisqualificationMessage}),header:i._("Disqualification Message"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8orc",children:b("React").jsx(b("Image.react"),{src:g("1122037")})}),subtitle:i._("Send people a different message if you disqualify an answer.")}):null,b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesAutomatedQuestionnairePrivacyPolicyItem.react"),{onQuestionnairePrivacyPolicyURLChange:a.onQuestionnairePrivacyPolicyURLChange,placeHolder:b("SavedResponsesConstants").privacyPolicyURL,questionnairePrivacyPolicyURL:a.questionnairePrivacyPolicyURL}),header:i._("Your Privacy Policy URL"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8kmo",children:b("React").jsx(b("Image.react"),{src:g("502604")})}),subtitle:i._("Since you'll be collecting customer information, we strongly recommend that you include a link to your business' privacy policy.")}),b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.questionnaireStopQuestionsMessage,errors:a.errors,onIntroMessageChange:a.onQuestionnaireStopQuestionsMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE}),header:i._("Pause Automated Questions"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8j8x",children:b("React").jsx(b("Image.react"),{src:g("1122037")})}),subtitle:i._("A \"Pause Questions\" option lets people end this automated chat at any time. Let them know they've paused questions and what they can do next.")})]})}function G(a){var c=b("PagesMarketingAutomationStore").getAutomatedCheckoutStepListID()?"existing_setup":"new_setup";new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_setup_impression").setConversionType("BUYER_INFORMATION").setEventSubtype(c).setPageID(a.pageID).log();return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:a.automationID,ctas:null,errors:null,hideAttachmentSection:a.shouldHideAttachment,hideCTASection:a.shouldHideCTA,isWelcomeTextIntialized:a.isWelcomeTextInitialized,media:null,onMessageChange:a.onIntroMessageChange,pageID:a.pageID,showPersonalization:!1,showTimeSection:!1,welcomeText:a.automatedCheckoutMessages.introMessage}),header:i._("Intro"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _6as8",children:b("React").jsx(b("Image.react"),{src:g("561662")})}),subtitle:i._("Introduce the questions you'll ask to collect people's information for making purchases.")}),b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesMarketingAutomationCheckoutQuestionComposer.react"),{automatedCheckoutMessages:a.automatedCheckoutMessages,onAddQuestion:a.onAddQuestion,onQuestionMessageChange:a.onQuestionMessageChange,onRemoveQuestion:a.onRemoveQuestion,pageID:a.pageID,showError:!1}),header:a.automatedCheckoutMessages.questionMessages.length>1?i._("Questions"):i._("Question"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _87a7",children:b("React").jsx(b("Image.react"),{src:g("598398")})}),subtitle:i._("Customize the questions you will send in sequence.")}),b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.questionnaireReminderMessage,errors:a.errors,onIntroMessageChange:a.onQuestionnaireReminderMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_REMINDER_MESSAGE}),header:i._("Reminder"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8o9h",children:b("React").jsx(b("Image.react"),{src:g("537339")})}),subtitle:i._("Send an automated message to people who haven't finished your questions within 24 hours.")}),b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.questionnaireSummaryMessage,errors:a.errors,onIntroMessageChange:a.onQuestionnaireSummaryMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_SUMMARY_MESSAGE}),header:i._("Summary"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8o9i",children:b("React").jsx(b("Image.react"),{src:g("480666")})}),subtitle:i._("Send people a message to go along with a summary of their details.")}),b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:a.automationID,ctas:null,errors:null,hideAttachmentSection:a.shouldHideAttachment,hideCTASection:a.shouldHideCTA,isWelcomeTextIntialized:a.isWelcomeTextInitialized,media:null,onMessageChange:a.onThankYouMessageChange,pageID:a.pageID,showPersonalization:!1,showTimeSection:!1,welcomeText:a.automatedCheckoutMessages.thankYouMessage}),header:i._("Completion Message"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8o9j",children:b("React").jsx(b("Image.react"),{src:g("1122023")})}),subtitle:i._("Thank people for their answers and let them know what happens next.")}),b("React").jsx(b("FBMoreLink.react"),{allowToggle:!0,className:"_8qxd",isCollapsed:!a.shouldShowAdvancedOptions,lessLabel:i._("Hide advanced options"),moreLabel:i._("Show advanced options"),onClick:function(){return b("PagesMarketingAutomationActions").updateShouldShowAdvancedOptions(!a.shouldShowAdvancedOptions)}}),a.shouldShowAdvancedOptions?F(a):null]})}function H(a){a=a.questionMessages;return a.some(function(a){return a.goToOptions&&a.goToOptions.some(function(a){return a===j.DISQUALIFY_MESSAGE})})}function I(a){var c,d,e,f;return(c=b("React")).jsxs(c.Fragment,{children:[c.jsx(d=b("PagesManagerComposerSectionCard.react"),{body:c.jsxs("div",{children:[c.jsx(e=b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.organicIntakeFormMessages.introMessage,errors:a.errors,onIntroMessageChange:a.onIntroMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_WELCOME_MESSAGE}),c.jsxs("div",{className:"_3-8- _6_oc _6_oe",children:[c.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:i._("Question Prompt")}),c.jsx(b("FDSText.react"),{color:"secondary",size:"body2",children:i._("After your intro, this prompt will be sent so people can choose to either answer your questions or message you directly.")}),c.jsx("div",{className:"_3-8x _2pi4 _2pi9 _8ej0",children:c.jsx("div",{className:"_2pis _8eix",children:c.jsx(b("FDSText.react"),{color:"highlight",size:"body2",children:i._("\"We have {number of questions} automated questions to help us respond to you faster.\"",[i._param("number of questions",a.organicIntakeFormMessages.questionMessages.length)])})})})]})]}),header:i._("Intro"),isCollapsible:!1,leftIcon:c.jsxs("div",{className:"_6as2 _8icd",children:[c.jsx(f=b("Image.react"),{src:g("561662")})," "]}),subtitle:i._("Welcome people to the conversation.")}),c.jsx(d,{body:c.jsx(b("PagesOrganicIntakeFormQuestionComposer.react"),{errors:a.errors,messages:a.organicIntakeFormMessages.questionMessages,onAddQuestion:a.onAddQuestion,onQuestionMessageChange:a.onQuestionMessageChange,onRemoveQuestion:a.onRemoveQuestion}),header:i._("Questions"),isCollapsible:!1,leftIcon:c.jsx("div",{className:"_6as2 _87a7",children:c.jsx(f,{src:g("598398")})}),subtitle:i._("Ask a sequence of questions to see if people are potential customers. These questions help qualify your leads.")}),c.jsx(d,{body:c.jsx(e,{automationID:a.automationID,content:a.organicIntakeFormMessages.thankYouMessage,errors:a.errors,onIntroMessageChange:a.onThankYouMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_THANK_YOU_MESSAGE}),header:i._("Completion Message"),isCollapsible:!1,leftIcon:c.jsxs("div",{className:"_6as2 _87a9",children:[c.jsx(f,{src:g("792299")})," "]}),subtitle:i._("Thank people for their answers and let them know what happens next")}),c.jsx(d,{body:c.jsx(e,{automationID:a.automationID,content:a.questionnaireReminderMessage,errors:a.errors,onIntroMessageChange:a.onQuestionnaireReminderMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_REMINDER_MESSAGE}),header:i._("Reminder"),isCollapsible:!1,leftIcon:c.jsx("div",{className:"_6as2 _8j8w",children:c.jsx(f,{src:g("1122023")})}),subtitle:i._("Send an automated message to people who haven't finished your questions within 24 hours.")}),c.jsx(d,{body:c.jsx(e,{automationID:a.automationID,content:a.questionnaireStopQuestionsMessage,errors:a.errors,onIntroMessageChange:a.onQuestionnaireStopQuestionsMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE}),header:i._("Confirmation to Pause Questions"),isCollapsible:!1,leftIcon:c.jsx("div",{className:"_6as2 _8j8x",children:c.jsx(f,{src:g("1122037")})}),subtitle:i._("A \"Pause Questions\" option lets people end this automated chat at any time. Let them know they've paused questions and what they can do next.")}),c.jsx(d,{body:c.jsx(b("PagesAutomatedQuestionnairePrivacyPolicyItem.react"),{onQuestionnairePrivacyPolicyURLChange:a.onQuestionnairePrivacyPolicyURLChange,questionnairePrivacyPolicyURL:a.questionnairePrivacyPolicyURL}),header:i._("Privacy Policy (Optional)"),isCollapsible:!1,leftIcon:c.jsx("div",{className:"_6as2 _8kmo",children:c.jsx(f,{src:g("502604")})}),subtitle:i._("If you'll be collecting customer information, we strongly recommend you include a link to your business' privacy policy.")})]})}function J(a){var c;return(c=b("React")).jsxs(c.Fragment,{children:[c.jsx(b("PagesManagerComposerSectionCard.react"),{body:c.jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:a.attachmentType,automationID:a.automationID,automationType:"saved_reply",ctas:null,errors:a.errors,hideAttachmentSection:!1,hideCTASection:!0,isWelcomeTextIntialized:a.isWelcomeTextIntialized,media:a.media,messageLabel:i._("Text"),onMessageChange:a.onMessageChange,pageID:a.pageID,placeholderText:i._("Write a message..."),showPersonalization:!0,showTimeSection:!1,textLimit:1e3,videoDisabled:!0,welcomeText:(c=(c=a.selectedSavedReply)==null?void 0:c.message)!=null?c:""}),header:i._("Message"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _6as8",children:b("React").jsx(b("Image.react"),{src:g("561662")})}),subtitle:i._("Customize the message you send.")}),b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:a.automationID,ctas:null,errors:a.errors,hideAttachmentSection:!0,hideCTASection:!0,isWelcomeTextIntialized:a.isWelcomeTextIntialized,media:null,messageLabel:i._("Shortcut"),onMessageChange:a.onShortcutChange,pageID:a.pageID,placeholderText:i._("Add a shortcut..."),showPersonalization:!1,showTimeSection:!1,textLimit:80,videoDisabled:!0,welcomeText:(a=(c=a.selectedSavedReply)==null?void 0:c.title)!=null?a:""}),header:i._("Shortcut (Required)"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8nr_",children:b("React").jsx(b("Image.react"),{src:g("511232")})}),subtitle:i._("Use a shortcut to find this saved reply later and easily insert it into a conversation. Shortcuts must be at least 3 characters.")})]})}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={saveError:!1,shouldShowErrors:!1,showCustomQuestionsDialog:!1,showComposerErrorsForPreview:!1,isDeleting:!1,isSaving:!1,isSendingPreview:!1,showPreviewSuccessText:!1,showPreviewSendErrors:!1,isMessengerChecked:u(d.props.enabledPlatforms,"MESSENGER"),isIGChecked:u(d.props.enabledPlatforms,"INSTAGRAM_DIRECT"),showAwayTimeRangeDialog:!1,showPlacementUnsetDialog:!1},d.$2=function(){d.setState({saveError:!1,shouldShowErrors:!1,isSaving:!1}),b("PagesMarketingAutomationActions").storeState(),b("PagesMarketingAutomationActions").disableIntakeFormSetupExperience(),d.props.onBack()},d.$3=function(){b("PagesMarketingAutomationActions").updateIsEnabled(!1),d.setState({saveError:!0,shouldShowErrors:!0,isSaving:!1})},d.$4=function(){__p&&__p();var a=!0,c="",e=d.props.errors;if(e)d.setState({shouldShowErrors:!0}),a=!1,c=e.errorText;else{if(d.state.isMessengerChecked===!1&&d.state.isIGChecked===!1&&v(d.props.enabledPlatforms,d.props.automationType)){d.setState({showPlacementUnsetDialog:!0});return}var f=d.$5();if(f===!1)return;d.setState({isSaving:!0});b("PagesMarketingAutomationActions").updateIsEnabled(!0);b("PagesMarketingAutomationActions").updateWelcomeText(d.props.welcomeText.trim());if(d.props.automationType==="icebreaker")d.$6(d.$2,d.$3);else if(d.props.automationType==="custom_questions"){d.$7();return}else d.props.automationType==="appointment_follow_up"?d.$8(d.$2,d.$3):d.props.automationType==="saved_reply"?d.$9():b("PagesMarketingAutomationStore").getIsDefaultAutomation()?d.$10(d.$2,d.$3):d.$11(d.$2,d.$3)}d.$12(d.props.pageID,d.props.automationID,d.props.automationType,e,a,c)},d.$14=function(){d.setState({showCustomQuestionsDialog:!1,isSaving:!1})},d.$13=function(){d.setState({showCustomQuestionsDialog:!1});d.$6(d.$2,d.$3);d.props.icebreakers&&d.props.icebreakers.some(function(a){return a.should_show_in_menu})&&b("PagesMarketingAutomationActions").updateIsCurrentMenuSetByAPI(!1);var a=!0,c="",e=d.props.errors;e&&(d.setState({shouldShowErrors:!0}),a=!1,c=e.errorText);d.$12(d.props.pageID,d.props.automationID,d.props.automationType,e,a,c)},d.$16=function(){var a,c=d.props.initialSelectedSavedReply;a=c==null?void 0:(a=c.image)==null?void 0:a.id;if(c!=null){var e;d.setState({isDeleting:!0});b("PagesDeleteSavedResponseMutation").commit(c.id,function(){d.setState({isDeleting:!1}),d.$15(null)},d.$3);b("PagesMessagingInboxActionLogger").logUpdateSavedReply((e=c==null?void 0:c.message)!=null?e:"","",(e=c==null?void 0:c.title)!=null?e:"","",a,"",null)}},d.$18=function(){new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("cancel_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log(),d.setState({saveError:!1}),b("PagesMarketingAutomationActions").revertState(),d.props.automationType!=="saved_reply"&&d.props.onBack()},d.$20=function(){__p&&__p();if(d.props.errors){d.setState({showComposerErrorsForPreview:!0});d.$1=window.setTimeout(function(){d.setState({showComposerErrorsForPreview:!1})},3e3);return}d.setState({isSendingPreview:!0});b("PagesMarketingAutomationUtils").sendPreview(d.props.pageID,d.$21,d.$22);d.props.automationType==="organic_intake_form"&&d.logIntakeFormEvent("services_organic_intake_form_setup_click_preview");new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("preview_in_messenger_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log()},d.$21=function(){d.setState({showPreviewSuccessText:!0}),d.setState({isSendingPreview:!1}),d.setState({showComposerErrorsForPreview:!1}),d.$1=window.setTimeout(function(){d.setState({showPreviewSuccessText:!1})},3e3)},d.$22=function(){d.setState({showPreviewSendErrors:!0}),d.setState({isSendingPreview:!1}),d.setState({showComposerErrorsForPreview:!1}),d.$1=window.setTimeout(function(){d.setState({showPreviewSendErrors:!1})},3e3)},d.$31=function(){d.setState({showAwayTimeRangeDialog:!1,isSaving:!1})},d.$32=function(){var a=b("PagesMarketingAutomationStore").getAwayTimeZone();if(a==null)return;b("PageSetAwayConfigMutation").commit(a,d.props.pageID,JSON.stringify(b("PagesMarketingAutomationStore").getAwayTimeRanges()),{onSuccess:function(){b("PagesMarketingAutomationActions").updateAwayState(!0)},onFailure:function(){}});b("PagesMarketingAutomationStore").getIsDefaultAutomation()?d.$10(d.$2,d.$3):d.$11(d.$2,d.$3);b("PagesManagerInboxLogger").logAutomatedResponsesSaveClicked(d.props.automationType,!1);d.setState({showAwayTimeRangeDialog:!1,isSaving:!1})},d.$33=function(){d.state.showPlacementUnsetDialog?d.setState({showPlacementUnsetDialog:!1,isSaving:!1}):d.state.showAwayTimeRangeDialog?d.setState({showAwayTimeRangeDialog:!1,isSaving:!1}):d.state.showCustomQuestionsDialog&&d.setState({showCustomQuestionsDialog:!1,isSaving:!1})},d.$34=function(){d.state.showPlacementUnsetDialog?d.$35():d.state.showAwayTimeRangeDialog?d.$32():d.state.showCustomQuestionsDialog&&d.$13()},d.$37=function(a,c){if(!d.props.isWelcomeTextIntialized){b("PagesMarketingAutomationActions").updateIsWelcomeTextInitialized(!0);return}return b("PagesMarketingAutomationActions").updateWelcomeText(c)},d.$38=function(a,c){return b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:c,questionMessages:d.props.automatedCheckoutMessages.questionMessages,thankYouMessage:d.props.automatedCheckoutMessages.thankYouMessage})},d.$39=function(a,c){var e=d.props.automatedCheckoutMessages.questionMessages.slice(),f=a.answers?a.answers.map(function(a){return a.value}):[];e[c]={answers:f,answerType:(c=a.answerType)!=null?c:k.CUSTOM,message:a.questionMessage,prefillType:"NONE",replyType:"TEXT"};return b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:d.props.automatedCheckoutMessages.introMessage,questionMessages:e,thankYouMessage:d.props.automatedCheckoutMessages.thankYouMessage})},d.$40=function(a,c){c=c?c.map(function(a){return a.value}):[];b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:d.props.automatedCheckoutMessages.introMessage,questionMessages:d.props.automatedCheckoutMessages.questionMessages.concat({answers:c,answerType:a,message:"",prefillType:"NONE",replyType:"TEXT"}),thankYouMessage:d.props.automatedCheckoutMessages.thankYouMessage})},d.$41=function(a){b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:d.props.automatedCheckoutMessages.introMessage,questionMessages:d.props.automatedCheckoutMessages.questionMessages.filter(function(b,c){return c!==a}),thankYouMessage:d.props.automatedCheckoutMessages.thankYouMessage})},d.$42=function(a,c){return b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:d.props.automatedCheckoutMessages.introMessage,questionMessages:d.props.automatedCheckoutMessages.questionMessages,thankYouMessage:c})},d.$43=function(a,c){return b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:c,questionMessages:d.props.organicIntakeFormMessages.questionMessages,thankYouMessage:d.props.organicIntakeFormMessages.thankYouMessage})},d.$44=function(a,c){var e=d.props.organicIntakeFormMessages.questionMessages.slice();e[a]=c;b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.props.organicIntakeFormMessages.introMessage,questionMessages:e,thankYouMessage:d.props.organicIntakeFormMessages.thankYouMessage});d.$45()},d.$46=function(a,c){b("PagesMarketingAutomationActions").updateSavedReply({message:(a=(a=d.props.selectedSavedReply)==null?void 0:a.message)!=null?a:"",title:c})},d.$47=function(a,c){var e;b("PagesMarketingAutomationActions").updateSavedReply({message:c,title:(e=(e=d.props.selectedSavedReply)==null?void 0:e.title)!=null?e:""});d.$37(a,c)},d.$45=b("debounce")(function(){d.logIntakeFormEvent("services_organic_intake_form_setup_edit_question")},2e3,babelHelpers.assertThisInitialized(d)),d.$48=function(){b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.props.organicIntakeFormMessages.introMessage,questionMessages:d.props.organicIntakeFormMessages.questionMessages.concat({answers:[],answerType:k.CUSTOM,forceEditMode:!0,message:""}),thankYouMessage:d.props.organicIntakeFormMessages.thankYouMessage}),d.logIntakeFormEvent("services_organic_intake_form_setup_add_question")},d.$49=function(a){b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.props.organicIntakeFormMessages.introMessage,questionMessages:d.props.organicIntakeFormMessages.questionMessages.filter(function(b,c){return c!==a}),thankYouMessage:d.props.organicIntakeFormMessages.thankYouMessage}),d.logIntakeFormEvent("services_organic_intake_form_setup_remove_question")},d.$50=function(a,c){return b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.props.organicIntakeFormMessages.introMessage,questionMessages:d.props.organicIntakeFormMessages.questionMessages,thankYouMessage:c})},d.$56=function(a){var c,e=d.props.reengagementData.reengagementRules;return b("PagesMarketingAutomationActions").updateAutomatedReengagementData({reengagementMessages:d.props.reengagementData.reengagementMessages,reengagementRules:{mainRules:(c=a.mainRules)!=null?c:e.mainRules,andRules:(c=a.andRules)!=null?c:e.andRules,notRules:(c=a.notRules)!=null?c:e.notRules}})},d.$58=function(a,b){return d.$57(a,{message:b})},d.$59=function(a,b){return d.$57(a,{time:b})},d.$60=function(a,c){if(c===null){var e=d.props.reengagementData.reengagementMessages.slice(),f=e[a];e[a]={triggerTimeMin:f.triggerTimeMin,messageText:f.messageText,ctas:f.ctas,attachment:null,attachmentType:null};return b("PagesMarketingAutomationActions").updateAutomatedReengagementData({reengagementMessages:e,reengagementRules:d.props.reengagementData.reengagementRules})}return d.$57(a,{media:c})},d.$61=function(a,b){return d.$57(a,{mediaType:b})},d.$62=function(a,b){return d.$57(a,{ctas:b})},d.$63=function(){return b("PagesMarketingAutomationActions").updateAutomatedReengagementData({reengagementMessages:d.props.reengagementData.reengagementMessages.concat({triggerTimeMin:0,messageText:"",ctas:[],attachment:null,attachmentType:null}),reengagementRules:d.props.reengagementData.reengagementRules})},d.$64=function(a){return b("PagesMarketingAutomationActions").updateAutomatedReengagementData({reengagementMessages:d.props.reengagementData.reengagementMessages.filter(function(b,c){return c!==a}),reengagementRules:d.props.reengagementData.reengagementRules})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){b("PagesManagerAction").setHeaderHeight(0),window.clearTimeout(this.$1)};d.$5=function(){__p&&__p();var a=b("PagesMarketingAutomationStore").getAwayTimeZone(),c=b("PagesMarketingAutomationStore").getAwayTimeRanges();if(b("PagesMarketingAutomationStore").getAutomationType()!=="away_message"||a==null||c==null)return!0;c=b("PagesTimeRangeEditorUtilities").getIsRequestTimeInAwayTimeRange(a,c);if(c){this.setState({showAwayTimeRangeDialog:!0});return!1}b("PageSetAwayConfigMutation").commit(a,this.props.pageID,JSON.stringify(b("PagesMarketingAutomationStore").getAwayTimeRanges()),{onSuccess:function(){b("PagesMarketingAutomationActions").updateAwayState(!1)},onFailure:function(){}});return!0};d.$7=function(){b("PagesMarketingAutomationStore").getIsCurrentMenuSetByAPI()&&this.props.icebreakers&&this.props.icebreakers.some(function(a){return a.should_show_in_menu})?this.setState({showCustomQuestionsDialog:!0}):this.$13()};d.$15=function(a){this.setState({saveError:!1,shouldShowErrors:!1,isSaving:!1}),b("SavedResponsesUtils").fetchSavedResponse(this.props.pageID,function(a){b("PagesMarketingAutomationActions").setSavedReplyResponses(a)}),b("PagesMarketingAutomationActions").updateAutomationType("saved_reply"),b("PagesMarketingAutomationActions").updateSelectedSavedReply(a),b("PagesMarketingAutomationActions").storeState()};d.$9=function(){__p&&__p();var a=this,c,d=this.props.initialSelectedSavedReply,e=this.props.selectedSavedReply,f=this.props.media&&this.props.media.id!=null?this.props.media.id.toString():null;c=d==null?void 0:(c=d.image)==null?void 0:c.id;if(d!=null){var g;b("PagesEditSavedResponseMutation").commit(d.id,((g=e==null?void 0:e.title)!=null?g:"").trim(),(g=e==null?void 0:e.message)!=null?g:"",f,function(){a.$15(e)},this.$3)}else{b("PagesCreateSavedResponseMutation").commit(this.props.pageID,((g=e==null?void 0:e.title)!=null?g:"").trim(),(g=e==null?void 0:e.message)!=null?g:"",f,null,function(b){if(e!=null){e.id=(b=b==null?void 0:(b=b.page_saved_response_create)==null?void 0:(b=b.new_saved_response)==null?void 0:b.id)!=null?b:""}a.$15(e)},this.$3)}b("PagesMessagingInboxActionLogger").logUpdateSavedReply((g=d==null?void 0:d.message)!=null?g:"",e==null?void 0:e.message,(g=d==null?void 0:d.title)!=null?g:"",e==null?void 0:e.title,c,f,null)};d.$17=function(a,c){c=c?a?"new":"update":"fail";new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_setup_creation").setConversionType("BUYER_INFORMATION").setEventSubtype(c).setPageID(this.props.pageID).log()};d.$10=function(a,c){__p&&__p();var d=this,e={};e.text=this.props.welcomeText.trim();e.trigger_wait_time=b("PagesMarketingAutomationUtils").getTriggerWaitTime(this.props.automationType);e.trigger_type=this.props.automationType;e.page_id=this.props.pageID;this.props.automationType==="automated_checkout"?e.automated_checkout_data=JSON.stringify(b("PagesMarketingAutomationUtils").getAutomatedCheckoutData(!1)):this.props.automationType==="organic_intake_form"&&this.props.isEligibleForIntakeForm&&(e.is_intake_form_enabled=!0,e.automated_checkout_data=JSON.stringify(b("PagesMarketingAutomationUtils").getOrganicIntakeFormData(!1)));this.props.reengagementData&&(e.reengagement_notif_data=b("PagesMarketingAutomationUtils").getPagesMarketingAutomationReengagementDataInput(this.props.reengagementData));this.props.media&&(e.attachment=this.props.media);this.props.ctas&&(e.ctas=this.props.ctas);var f=b("PagesMarketingAutomationStore").getServicesReferrerData(),g=f.referrer;f=f.referrerSurface;e.referrer_ui_component=g;e.referrer_ui_surface=f;b("PagesMarketingAutomationCreateMutation").commit({data:e},{onSuccess:function(c){c=(c=c)!=null?(c=c.page_create_automation)!=null?(c=c.automation)!=null?c.id:c:c:c;d.props.automationType==="automated_checkout"&&d.$17(!!c,!0);c!=null&&c!==""&&(b("PagesMarketingAutomationActions").setDefaultAutomation(!1),b("PagesMarketingAutomationActions").updateAutomationID(c));a()},onFailure:function(){d.props.automationType==="automated_checkout"&&d.$17(!0,!1),c()}})};d.$11=function(a,c){__p&&__p();var d=this,e={};e.id=this.props.automationID;e.text=this.props.welcomeText.trim();v(this.props.enabledPlatforms,this.props.automationType)&&(e.platforms=[],this.state.isMessengerChecked===!0&&e.platforms.push("MESSENGER"),this.state.isIGChecked===!0&&e.platforms.push("INSTAGRAM_DIRECT"));this.props.automationType==="automated_checkout"?e.automated_checkout_data=JSON.stringify(b("PagesMarketingAutomationUtils").getAutomatedCheckoutData(!1)):this.props.automationType==="organic_intake_form"&&this.props.isEligibleForIntakeForm&&(e.is_intake_form_enabled=!0,e.automated_checkout_data=JSON.stringify(b("PagesMarketingAutomationUtils").getOrganicIntakeFormData(!1)));this.props.reengagementData&&(e.reengagement_notif_data=b("PagesMarketingAutomationUtils").getPagesMarketingAutomationReengagementDataInput(this.props.reengagementData));this.props.media?e.attachment=this.props.media:e.remove_attachment=!0;this.props.ctas&&(e.ctas=this.props.ctas);var f=b("PagesMarketingAutomationStore").getServicesReferrerData(),g=f.referrer;f=f.referrerSurface;e.referrer_ui_component=g;e.referrer_ui_surface=f;b("PagesMarketingAutomationUpdateMutation").commit({data:e},{onSuccess:function(c){c=(c=c)!=null?(c=c.page_update_automation)!=null?(c=c.automated_checkout_step_list)!=null?c.id:c:c:c;d.props.automationType==="automated_checkout"&&d.$17(!1,!0);v(d.props.enabledPlatforms,d.props.automationType)&&(e.platforms.length===0&&b("PagesMarketingAutomationActions").updateIsEnabled(!1),b("PagesMarketingAutomationActions").updateEnabledPlatforms(e.platforms));c&&(d.props.automationType==="automated_checkout"?b("PagesMarketingAutomationActions").updatedAutomatedCheckoutStepListID(c):d.props.automationType==="organic_intake_form"&&b("PagesMarketingAutomationActions").updateOrganicIntakeFormStepListID(c));a()},onFailure:function(){d.props.automationType==="automated_checkout"&&d.$17(!1,!1),c()}})};d.$6=function(a,c){if(this.props.icebreakers==null)return;var d=this.props.icebreakers.map(function(a){return{custom_question:a.custom_question.trim(),saved_response:a.saved_response,response_ctas:a.response_ctas,response_media_attachment:a.response_media_attachment,should_show_in_menu:(a=a.should_show_in_menu)!=null?a:!1}}).filter(function(a){return a.custom_question!==""});b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(y(d));b("PagesMarketingAutomationActions").updateIcebreakers(d);d={icebreaker_question_answer_pairs:d};b("PageUpdateCustomIcebreakersMutation").commit({data:d},{onSuccess:a,onFailure:c})};d.$8=function(a,c){var d=b("PagesMarketingAutomationStore").getFollowUpMessageData();if(d==null)return;d={page_id:this.props.pageID,message_content:d.messageContent,schedule_in_seconds:d.triggerTimeSecs};A({input:d,onCompleted:function(b,d){d?c():a()}})};d.$19=function(a,c){b("PagesManagerAction").setHeaderHeight(c)};d.$23=function(){var a=this.state.isSaving?i._("Saving..."):i._("Save"),c=this.state.showComposerErrorsForPreview&&this.props.errors?i._("You must complete all required fields before previewing your message."):null;this.state.showPreviewSendErrors&&(c=i._("Please try previewing your message again."));var d=this.state.shouldShowErrors&&this.props.errors?this.props.errors.errorText:null;this.state.saveError&&(d=i._("Please try saving your message again."));return b("React").jsx(b("PagesManagerComposerTopBar.react"),{cancelDisabled:!this.props.hasComposerBeenEdited&&this.props.automationType==="automated_checkout",deleteButtonDisabled:this.state.isDeleting,headerContent:q(this.props.automationType,this.props.automationID),hidePreviewButton:this.props.automationType==="icebreaker"||this.props.automationType==="custom_questions"||this.props.automationType==="mbs_reengagement"||this.props.automationType==="saved_reply"||this.props.automationType==="appointment_reminder"||this.props.automationType==="appointment_follow_up",onCancel:this.$18,onDeleteClick:this.$24(),onPreviewClick:this.$20,onPrimaryClick:this.$4,previewButtonText:this.state.isSendingPreview?i._("Preview in Messenger..."):i._("Preview in Messenger"),previewError:c,previewSuccessText:this.state.showPreviewSuccessText?i._("A preview of your message has been sent. You can see it in Messenger."):null,primaryButtonText:a,primaryError:d,sendDisabled:!this.props.hasComposerBeenEdited||this.props.isSendDisabled,showCancelButton:this.props.automationType!=="saved_reply",showDeleteButton:this.props.automationType==="saved_reply"&&this.props.initialSelectedSavedReply!==null})};d.$24=function(){switch(this.props.automationType){case"saved_reply":return this.$16;default:return null}};d.$25=function(){return this.props.automationType==="away_message"||this.props.automationType==="instant_reply"||this.props.automationType==="automated_checkout"||this.props.automationType==="organic_intake_form"};d.$26=function(){return this.props.automationType==="away_message"||this.props.automationType==="instant_reply"||this.props.automationType==="automated_checkout"||this.props.automationType==="organic_intake_form"};d.$27=function(){return this.props.automationType==="mbs_reengagement"||this.props.automationType==="appointment_follow_up"};d.$28=function(){return this.props.automationType==="saved_reply"||this.props.automationType==="automated_checkout"};d.$29=function(){if(this.props.automationType==="away_message")return b("React").jsx(b("PagesAutomatedResponsesAwayTimeRangeEditorRoot.react"),{pageID:this.props.pageID});else if(this.props.automationType==="instant_reply")return null;else if(this.props.automationType==="organic_intake_form"&&b("enumUtils").coerceFromKey(this.props.qpcConsumerFlow,b("ServicesQPCFlow"))===b("ServicesQPCFlow").ICEBREAKERS){var a;return(a=b("React")).jsxs("div",{className:"_452x _89o0",children:[a.jsx(b("FDSText.react"),{color:"secondary",margin:"_3-8x _3-98",size:"body1",children:x(this.props.automationType)}),a.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:i._("Frequently Asked Questions")}),a.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body2",children:i._("When questions for potential customers is turned on a frequently asked question will be added. When the question below is selected your questions for potential customers will begin in Messenger.")}),a.jsx("div",{className:"_3-8x _2pi4 _2pi9 _8ej0",children:a.jsxs("div",{className:"_2pit _8eix",children:['"',i._("I'm a new customer. How can I find out more about your business?"),'"']})})]})}return b("React").jsx("div",{className:"_452x _89o0 _3-8-",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:x(this.props.automationType)})})};d.$30=function(){var a=this,c,d=function(c){b("PagesMarketingAutomationActions").setComposerHasBeenEdited(),a.setState({isMessengerChecked:c})},e=function(c){b("PagesMarketingAutomationActions").setComposerHasBeenEdited(),a.setState({isIGChecked:c})};return(c=b("React")).jsxs("div",{className:"_8o9f",children:[c.jsx("div",{className:"_8o9e",children:c.jsx(b("FDSCheckboxInput.react"),{label:i._("Messenger"),onChange:d,value:this.state.isMessengerChecked})}),c.jsx("div",{className:"_8o9e",children:c.jsx(b("FDSCheckboxInput.react"),{label:i._("Instagram"),onChange:e,value:this.state.isIGChecked})})]})};d.$36=function(){if(this.state.showPlacementUnsetDialog)return"PLATFORMS";else if(this.state.showAwayTimeRangeDialog)return"AWAY_TIME";else if(this.state.showCustomQuestionsDialog)return"CUSTOM_QUESTIONS";return null};d.$35=function(){b("PagesMarketingAutomationStore").getIsDefaultAutomation()?this.$10(this.$2,this.$3):this.$11(this.$2,this.$3),b("PagesManagerInboxLogger").logAutomatedResponsesDisabled(this.props.automationType),this.setState({showPlacementUnsetDialog:!1,isSaving:!1})};d.$12=function(a,c,d,e,f,g){!e&&d==="organic_intake_form"&&this.logIntakeFormEvent("services_organic_intake_form_setup_save_questionnaire"),new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("save_click").setActionTag(c).addActionPayload("hasNoErrors",f).addActionPayload("errors",g).addActionPayload("automationType",d).setSessionKey(a).markEnd().log(),new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("restart_funnel_after_save").setActionTag(c).setSessionKey(a).addActionPayload("automationType",d).markStart().log(),b("PagesManagerInboxLogger").logAutomatedResponsesSaveClicked(d,!f)};d.$51=function(a,c){b("PagesMarketingAutomationActions").updateQuestionnaireDisqualificationMessage(c)};d.$52=function(a,c){b("PagesMarketingAutomationActions").updateQuestionnaireStopQuestionsMessage(c)};d.$53=function(a,c){b("PagesMarketingAutomationActions").updateQuestionnaireSummaryMessage(c)};d.$54=function(a,c){b("PagesMarketingAutomationActions").updateQuestionnaireReminderMessage(c)};d.$55=function(a){b("PagesMarketingAutomationActions").updateQuestionnairePrivacyPolicyURL(a)};d.logIntakeFormEvent=function(a){var c=b("PagesMarketingAutomationStore").getServicesReferrerData(),d=c.referrer;c=c.referrerSurface;b("ServicesEventsLogger").log(this.props.pageID,a,{referrerUIComponent:d,referrerUISurface:c})};d.$57=function(a,c){var d=this.props.reengagementData.reengagementMessages.slice(),e=d[a];d[a]={triggerTimeMin:c.time!=null?c.time/60:e.triggerTimeMin,messageText:(a=c.message)!=null?a:e.messageText,ctas:(a=c.ctas)!=null?a:e.ctas,attachment:(a=c.media)!=null?a:e.attachment,attachmentType:(a=c.mediaType)!=null?a:e.attachmentType};return b("PagesMarketingAutomationActions").updateAutomatedReengagementData({reengagementMessages:d,reengagementRules:this.props.reengagementData.reengagementRules})};d.render=function(){__p&&__p();var a=this.props.automationType==="custom_questions",c=null;switch(this.props.automationType){case"organic_intake_form":c=b("React").jsx(I,{automationID:this.props.automationID,errors:this.state.shouldShowErrors?this.props.errors:null,isWelcomeTextInitialized:this.props.isWelcomeTextIntialized,onAddQuestion:this.$48,onIntroMessageChange:this.$43,onQuestionMessageChange:this.$44,onQuestionnairePrivacyPolicyURLChange:this.$55,onQuestionnaireReminderMessageChange:this.$54,onQuestionnaireStopQuestionsMessageChange:this.$52,onRemoveQuestion:this.$49,onThankYouMessageChange:this.$50,organicIntakeFormMessages:this.props.organicIntakeFormMessages,pageID:this.props.pageID,questionnairePrivacyPolicyURL:this.props.questionnairePrivacyPolicyURL,questionnaireReminderMessage:this.props.questionnaireReminderMessage,questionnaireStopQuestionsMessage:this.props.questionnaireStopQuestionsMessage,shouldHideAttachment:this.$25(),shouldHideCTA:this.$26()});break;case"automated_checkout":c=b("React").jsx(G,{automatedCheckoutMessages:this.props.automatedCheckoutMessages,automationID:this.props.automationID,errors:this.state.shouldShowErrors?this.props.errors:null,isWelcomeTextInitialized:this.props.isWelcomeTextIntialized,onAddQuestion:this.$40,onIntroMessageChange:this.$38,onQuestionMessageChange:this.$39,onQuestionnaireDisqualificationMessageChange:this.$51,onQuestionnairePrivacyPolicyURLChange:this.$55,onQuestionnaireReminderMessageChange:this.$54,onQuestionnaireStopQuestionsMessageChange:this.$52,onQuestionnaireSummaryMessageChange:this.$53,onRemoveQuestion:this.$41,onThankYouMessageChange:this.$42,pageID:this.props.pageID,questionnaireDisqualificationMessage:this.props.questionnaireDisqualificationMessage,questionnairePrivacyPolicyURL:this.props.questionnairePrivacyPolicyURL,questionnaireReminderMessage:this.props.questionnaireReminderMessage,questionnaireStopQuestionsMessage:this.props.questionnaireStopQuestionsMessage,questionnaireSummaryMessage:this.props.questionnaireSummaryMessage,shouldHideAttachment:this.$25(),shouldHideCTA:this.$26(),shouldShowAdvancedOptions:this.props.shouldShowAdvancedOptions});break;case"icebreaker":c=b("React").jsx(b("IcebreakerFreeTextEditor.react"),{icebreakers:this.props.icebreakers||[],isInboxCombinedCustomQuestionTest:!1,pageID:this.props.pageID,showQPCIcebreakersDisclaimer:this.props.showQPCIcebreakersDisclaimer});break;case"custom_questions":c=b("React").jsx(b("IcebreakerFreeTextEditor.react"),{icebreakers:this.props.icebreakers||[],isInboxCombinedCustomQuestionTest:!0,pageID:this.props.pageID,showQPCIcebreakersDisclaimer:this.props.showQPCIcebreakersDisclaimer});break;case"mbs_reengagement":c=b("React").jsx(E,{automationID:this.props.automationID,data:this.props.reengagementData,onAddMessage:this.$63,onIndexedCTAChange:this.$62,onIndexedMediaChange:this.$60,onIndexedMediaTypeChange:this.$61,onIndexedTimeChange:this.$59,onMessageChange:this.$58,onRemoveMessage:this.$64,onRulesChange:this.$56,pageID:this.props.pageID});break;case"appointment_follow_up":c=b("React").jsx(b("AppointmentFollowUpMessageEditor.react"),{followUpMessageData:this.props.followUpMessageData,pageID:this.props.pageID});break;case"saved_reply":c=b("React").jsx(J,{attachmentType:this.props.attachmentType,automationID:this.props.automationID,ctas:this.props.ctas,errors:this.state.shouldShowErrors||this.state.showComposerErrorsForPreview?null:this.props.errors,isWelcomeTextIntialized:this.props.isWelcomeTextIntialized,media:this.props.media,onMessageChange:this.$47,onShortcutChange:this.$46,pageID:this.props.pageID,selectedSavedReply:this.props.selectedSavedReply});break;default:c=b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:this.props.attachmentType,automationID:this.props.automationID,ctas:this.props.ctas,errors:this.state.shouldShowErrors||this.state.showComposerErrorsForPreview?this.props.errors:null,hideAttachmentSection:this.$25(),hideCTASection:this.$26(),isWelcomeTextIntialized:this.props.isWelcomeTextIntialized,media:this.props.media,onMessageChange:this.$37,pageID:this.props.pageID,showPersonalization:!0,showTimeSection:this.$27(),welcomeText:this.props.welcomeText}),header:i._("Message"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _6as8",children:b("React").jsx(b("Image.react"),{src:g("561662")})}),subtitle:i._("Customize the message you send.")})}var d=this.$27()||this.$28()?null:b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:this.$29(),header:i._("Timing"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _6as7",children:b("React").jsx(b("Image.react"),{src:g("583805")})}),subtitle:w(this.props.automationType,this.props.pageName)}),e=this.props.automationType==="automated_checkout"?b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx("div",{className:"_89o0 _3-8-",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:i._("You can edit the questions and their order.")})}),header:i._("Overview"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _6as7",children:b("React").jsx(b("Image.react"),{src:g("650922")})}),subtitle:i._("Send a sequence of messages to gather buyer information when customers want to make a purchase.")}):null,f=v(this.props.enabledPlatforms,this.props.automationType)?b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:this.$30(),header:i._("Platform"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _8o9d",children:b("React").jsx(b("Image.react"),{src:g("532776")})}),subtitle:t(this.props.automationType,this.props.pageName)}):null,h=this.props.welcomeText;if(this.props.automationType==="automated_checkout")h=this.props.automatedCheckoutMessages.introMessage;else if(this.props.automationType==="appointment_follow_up"){var j=b("PagesMarketingAutomationStore").getFollowUpMessageData();h=j?j.messageContent:h}j=null;this.props.automationType==="organic_intake_form"&&this.props.isEligibleForIntakeForm?j=this.props.organicIntakeFormMessages:this.props.automationType==="automated_checkout"&&(j=this.props.automatedCheckoutMessages);return b("React").jsxs("div",{className:"_6arp",children:[b("React").jsx(b("ResponsiveBlock.react"),{onResize:this.$19,children:this.$23()}),b("React").jsxs("div",{className:"_6arq"+(a?"":" _8k88"),style:{height:this.props.height},children:[b("React").jsxs("div",{className:(a?"":"_6as1")+(a?" _8k87":""),children:[e,f,d,c]}),b("React").jsx("div",{className:(a?"":"_2f4z")+(a?" _8k86":""),children:this.props.automationType==="mbs_reengagement"?b("React").jsx(b("PagesMessengerReengagementPreview.react"),{pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,reengagementMessages:this.props.reengagementData.reengagementMessages}):this.props.automationType==="custom_questions"?b("React").jsx(b("PagesMessengerCustomQuestionsPreview.react"),{icebreakers:(e=this.props.demoIcebreakers)!=null?e:[],menuItems:this.props.icebreakers&&this.props.icebreakers.filter(function(a){return a.custom_question.length>0&&Boolean(a.should_show_in_menu)})||[],pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,text:this.props.welcomeText}):b("React").jsx(b("PagesMessengerPreview.react"),{attachmentType:this.props.attachmentType,automationType:this.props.automationType,ctas:this.props.ctas,ghostText:p(this.props.automationType,this.props.pageName),ghostTextLocation:z(this.props.automationType)?"bottom":"top",icebreakers:this.props.demoIcebreakers,media:this.props.media,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,questionnaireMessages:j,showQPCIcebreakersDisclaimer:this.props.showQPCIcebreakersDisclaimer,text:h})}),v(this.props.enabledPlatforms,this.props.automationType)?b("React").jsx(C,{isShown:this.state.showPlacementUnsetDialog||this.state.showAwayTimeRangeDialog||this.state.showCustomQuestionsDialog,modalPurpose:this.$36(),onCancelClick:this.$33,onConfirmClick:this.$34}):null,b("React").jsx(B,{isShown:this.state.showAwayTimeRangeDialog,onCancelClick:this.$31,onConfirmClick:this.$32}),b("React").jsx(D,{isShown:this.state.showCustomQuestionsDialog,onCancelClick:this.$14,onConfirmClick:this.$13})]})]})};return c}(b("React").PureComponent);e.exports=c}),null);
__d("PagesMarketingAutomationEnableDisplay.react",["cx","fbt","FDSText.react","PagesMarketingAutomationContentUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PagesMarketingAutomationContentUtils").getPlatformStatus,j=b("PagesMarketingAutomationContentUtils").getShouldShowIGDirectAutomatedResponse;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this.props.isEnabled===!0?h._("On"):h._("Off"),c=j(this.props.enabledPlatforms,this.props.automationType),d=!1;this.props.enabledPlatforms!=null&&(this.props.enabledPlatforms.length!==0&&(d=!0));return b("React").jsxs("div",{className:(!c||d===!1?"_452x":"")+(c&&d===!0?" _8prl":""),children:[b("React").jsx("span",{className:"_2qy-"+(this.props.isEnabled?"":" _2qy_")+(this.props.isEnabled?" _2qz0":"")}),b("React").jsx(b("FDSText.react"),{color:"secondary",size:"header2",children:a})]})};d.$2=function(){__p&&__p();if(this.props.enabledPlatforms!=null){if(this.props.enabledPlatforms.length===0)return null;var a=this.props.enabledPlatforms,c=i(a,"MESSENGER");a=i(a,"INSTAGRAM_DIRECT");var d=h._("Sent on Instagram and Messenger");a===!0&&c===!1?d=h._("Sent only on Instagram"):a===!1&&c===!0&&(d=h._("Sent only in Messenger"));return b("React").jsx("div",{children:b("React").jsx("div",{className:"_8khs",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body",children:d})})})}return null};d.render=function(){return b("React").jsxs("div",{children:[this.$1(),j(this.props.enabledPlatforms,this.props.automationType)?this.$2():null]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationReengagementMessages.react",["ix","cx","fbt","Image.react","PagesManagerComposerSectionCard.react","PagesMarketingAutomationMessageComposer.react","PagesMarketingAutomationReengagementRules.react","PagesMarketingAutomationUtils","React","ShimButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("PagesMarketingAutomationUtils").getMaxReengagementMessagesNumber;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c,d=this.props.data.reengagementRules,e=this.props.data.reengagementMessages;return(c=b("React")).jsxs(c.Fragment,{children:[c.jsx("div",{className:"_6_oc",children:c.jsx(b("PagesManagerComposerSectionCard.react"),{body:c.jsx(b("PagesMarketingAutomationReengagementRules.react"),{andRules:d.andRules,mainRules:d.mainRules,notRules:d.notRules,onRulesChange:this.props.onRulesChange}),header:i._("Rule"),isCollapsible:!1,leftIcon:c.jsx("div",{className:"_6as2 _6as7",children:c.jsx(b("Image.react"),{src:g("585852")})}),subtitle:i._("Customize the conditions for sending your message.")},"reengagementRules")}),c.jsxs("div",{className:"_6_oc",children:[e&&e.length>0?e.map(function(c,d){return b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:c.attachmentType,automationID:a.props.automationID,ctas:c.ctas,errors:null,hideAttachmentSection:!1,hideCTASection:!1,index:d,isWelcomeTextIntialized:!1,media:c.attachment,onIndexedCTAChange:a.props.onIndexedCTAChange,onIndexedMediaChange:a.props.onIndexedMediaChange,onIndexedMediaTypeChange:a.props.onIndexedMediaTypeChange,onIndexedTimeChange:a.props.onIndexedTimeChange,onMessageChange:a.props.onMessageChange,pageID:a.props.pageID,showCTATypes:!0,showPersonalization:!0,showTimeSection:!0,time:c.triggerTimeMin*60,welcomeText:(c=c.messageText)!=null?c:""}),header:i._("Message"),index:d,isCollapsible:!1,isRemoveable:e.length>1,leftIcon:b("React").jsx("div",{className:"_6as2 _6as8",children:b("React").jsx(b("Image.react"),{src:g("561662")})}),onRemoveMessage:a.props.onRemoveMessage,subtitle:i._("Customize the message you send.")},"reengagementMessage"+d.toString())}):null,e.length<j()&&b("React").jsx(b("ShimButton.react"),{className:"_888j _8j0x _3-8y",onClick:this.props.onAddMessage,children:b("React").jsx("span",{children:i._("+ Add message")})})]})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationReengagementRuleCondition.react",["ix","cx","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FlexLayout.react","Image.react","PagesMarketingAutomationContentUtils","React","XUITextInput.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PagesMarketingAutomationContentUtils").getContentForReengagement;function j(a){return a.options.length>0?b("React").jsx("div",{className:"_2pih",children:b("React").jsx(b("FDSDropdownSelector.react"),{buttonUse:"default",onChange:a.onChange,value:a.value,children:a.options.map(function(a,c){return b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:a,children:i(a)},a)})})}):null}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onTypeChange&&c.props.onTypeChange(c.props.index,a)},c.$2=function(a){c.props.onConditionChange&&c.props.onConditionChange(c.props.index,a)},c.$3=function(a){a=a.target.value;c.props.onNameChange(c.props.index,(a=a)!=null?a:"")},c.$4=function(a){c.props.onRemoveRule(c.props.index)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx("div",{className:"_8e8o",children:a.jsxs(b("FlexLayout.react"),{align:"center",className:"_3-95",children:[a.jsx(j,{onChange:this.$1,options:this.props.typeOptions,value:this.props.rule.type}),a.jsx(j,{onChange:this.$2,options:this.props.conditionOptions,value:this.props.rule.condition}),a.jsx("div",{className:"_2pih",children:a.jsx(b("XUITextInput.react"),{onChange:this.$3,value:this.props.rule.name})}),this.props.isRemoveable?b("React").jsx(b("Image.react"),{className:"_8e8p",onClick:this.$4,src:g("478236")}):null]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationReengagementRules.react",["cx","fbt","FDSText.react","Link.react","PagesMarketingAutomationReengagementRuleCondition.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a,b){var d=c.props.mainRules.slice();d[a]=b;return c.props.onRulesChange({mainRules:d})},c.$2=function(){return c.props.onRulesChange({mainRules:c.props.mainRules.concat("")})},c.$3=function(a){return c.props.onRulesChange({mainRules:c.props.mainRules.filter(function(b,c){return c!==a})})},c.$4=function(a,b){var d=c.props.notRules.slice();d[a]=b;return c.props.onRulesChange({notRules:d})},c.$5=function(){return c.props.onRulesChange({notRules:c.props.notRules.concat("")})},c.$6=function(a){return c.props.onRulesChange({notRules:c.props.notRules.filter(function(b,c){return c!==a})})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c,d=this.props.mainRules,e=this.props.notRules;return(c=b("React")).jsxs("div",{className:"_6_oc _3-8-",children:[c.jsx("div",{className:"_6-b0 _3-94",children:c.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Flow Progress Events")})}),c.jsx("div",{className:"_6-b0 _3-95",children:c.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:h._("Select events for each step in the flow where you want to notify users who drop off.")})}),d&&d.length>0?d.map(function(c,d){return b("React").jsx(b("PagesMarketingAutomationReengagementRuleCondition.react"),{conditionOptions:["IS"],index:d,isRemoveable:a.props.mainRules.length>1,onNameChange:a.$1,onRemoveRule:a.$3,rule:{type:"APP_EVENT",condition:"IS",name:c},typeOptions:["APP_EVENT"]},"mainRuleCondition"+d.toString())}):null,b("React").jsx(b("Link.react"),{className:"_6-aw",onClick:this.$2,children:h._("+ Add another progress event")}),b("React").jsx("div",{className:"_6-b0 _3-94 _3-8x",children:b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Flow Complete Events")})}),b("React").jsx("div",{className:"_6-b0 _3-95",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:h._("Select what event(s) designate the flow is finished (ex. user completes a form or is no longer eligible). We'll use this to determine when a user shouldn't be notified.")})}),e&&e.length>0?e.map(function(c,d){return b("React").jsx(b("PagesMarketingAutomationReengagementRuleCondition.react"),{conditionOptions:["IS_NOT"],index:d,isRemoveable:!0,onNameChange:a.$4,onRemoveRule:a.$6,rule:{type:"APP_EVENT",condition:"IS_NOT",name:c},typeOptions:["APP_EVENT"]},"notRuleCondition"+d.toString())}):null,e&&e.length>0?b("React").jsx(b("Link.react"),{className:"_6-aw",onClick:this.$5,children:h._("+ Add another complete event")}):b("React").jsx(b("Link.react"),{className:"_6-aw",onClick:this.$5,children:h._("+ Add complete event")})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PageAutomationTriggerCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GREET_CUSTOMERS:"greet_customers",FREQUENTLY_ASKED_QUESTIONS:"frequently_asked_questions",COMMON_RESPONSES:"common_responses",CHECKOUT_REQUEST:"checkout_request",FEEDBACK:"feedback",JOB_APPLICATION:"job_application",REENGAGEMENT:"reengagement",SUPPORTER_ONLY:"supporter_only",APPOINTMENT_MESSAGING:"appointment_messaging"})}),null);
__d("PagesMarketingAutomationStartAutomatedSequenceMutation",["RelayFBEnvironment","RelayModern","PagesMarketingAutomationStartAutomatedSequenceMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesMarketingAutomationStartAutomatedSequenceMutation.graphql");function a(a,c){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:a.actor_id,recipient_id:a.recipient_id,automated_checkout_data:a.automated_checkout_data}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("XPagesDirectionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/get_address/",{page_id:{type:"Int",required:!0}})}),null);
__d("XPagesMessengerPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messenger_preview/",{json:{type:"String",required:!0},page_id:{type:"Int",required:!0},automated_checkout_data:{type:"String"}})}),null);
__d("PagesMarketingAutomationUtils",["fbt","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","AdsMessengerVisualEditorLandingScreenType","AsyncRequest","PageAutomationTriggerCategory","PagesMarketingAutomationActions","PagesMarketingAutomationContentUtils","PagesMarketingAutomationStartAutomatedSequenceMutation","PagesMarketingAutomationStore","RelayFBEnvironment","RelayModern","ServicesURIUtils","XPagesDirectionsController","XPagesMessengerPreviewController","emptyFunction","promiseDone","PagesMarketingAutomationUtilsAutomatedCheckoutQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,k=b("PagesMarketingAutomationContentUtils").convertStringToButtonType,l=b("RelayModern").fetchQuery;b("RelayModern").graphql;var m=86400,n=10,o=3,p=3,q=10,r=g._("The URL is invalid");function a(a,c){var d={};d.page_id=c;d.trigger_type=a;d.text=b("PagesMarketingAutomationContentUtils").getDefaultContent(a).toString();d.trigger_wait_time=s(a);d.attachment=b("PagesMarketingAutomationContentUtils").getDefaultAttachment(a);d.ctas=b("PagesMarketingAutomationContentUtils").getDefaultCTAs(a,c);return d}function s(a){switch(a){case"positive_recommendation":case"negative_recommendation":case"smart_reply_positive_feedback":case"smart_reply_negative_feedback":return"10";case"job_application":return"0";default:return"0"}}function c(a,c,d){var e,f=(e=b("PagesMarketingAutomationStore")).getAutomationType();e={media:e.getMedia(),ctas:e.getCTAs(),text:e.getWelcomeText().trim(),automation_type:f};e=b("XPagesMessengerPreviewController").getURIBuilder().setString("json",JSON.stringify(e)).setInt("page_id",a);f==="automated_checkout"?e.setString("automated_checkout_data",JSON.stringify(A(!0))):f==="organic_intake_form"&&e.setString("automated_checkout_data",JSON.stringify(B(!0)));new(b("AsyncRequest"))().setURI(e.getURI()).setMethod("POST").setHandler(c).setErrorHandler(d).send()}function d(a,c){b("PagesMarketingAutomationStartAutomatedSequenceMutation").commit({actor_id:a,recipient_id:c,automated_checkout_data:JSON.stringify(this.getAutomatedCheckoutData(!1))})}function f(a){__p&&__p();switch(a){case"positive_recommendation":case"negative_recommendation":case"smart_reply_positive_feedback":case"smart_reply_negative_feedback":return"feedback";case"job_application":return"job_application";case"away_message":case"instant_reply":case"organic_intake_form":return"greet_customers";case"become_supporter":return"supporter_only";case"smart_reply_contact":case"smart_reply_hours":case"smart_reply_location":case"icebreaker":case"custom_questions":return"frequently_asked_questions";case"automated_checkout":return"checkout_request";case"mbs_reengagement":return"reengagement";case"appointment_reminder":case"appointment_follow_up":return"appointment_messaging";default:return"common_responses"}}function t(){var a={};Object.keys(b("PageAutomationTriggerCategory")).forEach(function(b){a[b.toLowerCase()]=[]});return a}function u(a){switch(a){case"positive_recommendation":case"negative_recommendation":case"smart_reply_positive_feedback":case"smart_reply_negative_feedback":return!1;default:return!0}}function v(a){switch(a){case"icebreaker":case"custom_questions":return!b("PagesMarketingAutomationStore").getIsCurrentIcebreakersSetByAPI();default:return!0}}function w(a){var b=[];a.map(function(a){a=a.start-28800;a=a/m;a<1?b.push(g._("Thursday")):a<2?b.push(g._("Friday")):a<3?b.push(g._("Saturday")):a<4?b.push(g._("Sunday")):a<5?b.push(g._("Monday")):a<6?b.push(g._("Tuesday")):a<7&&b.push(g._("Wednesday"))});return b}function x(a,c){if(!c)return!1;switch(a){case"smart_reply_hours":return b("PagesMarketingAutomationStore").getHours().length>0||b("PagesMarketingAutomationStore").getIsAlwaysOpen()||b("PagesMarketingAutomationStore").getIsPermanentlyClosed();case"smart_reply_contact":return b("PagesMarketingAutomationStore").getWebsite()===null&&b("PagesMarketingAutomationStore").getPhoneNumber()===null;case"smart_reply_location":c=b("PagesMarketingAutomationStore").getAddress();return c===null||c==="";default:return!1}}function y(a){a=b("XPagesDirectionsController").getURIBuilder().setInt("page_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){b("PagesMarketingAutomationActions").updateDirectionsURI(a.payload)}).setErrorHandler(b("emptyFunction")).send()}function z(a){__p&&__p();if(a==null)return;b("promiseDone")(l(b("RelayFBEnvironment"),h!==void 0?h:h=b("PagesMarketingAutomationUtilsAutomatedCheckoutQuery.graphql"),{automationID:a}),function(a){var c;c=(c=a)!=null?(c=c.node)!=null?c.automated_checkout_steps:c:c;if(c&&c.intro_message!==""&&c.question_messages.length>0&&c.question_messages[0]!==""&&c.thank_you_message!==""){c={introMessage:c.intro_message,questionMessages:F(c.question_messages),thankYouMessage:c.thank_you_message};b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages(c)}a=(c=a)!=null?(c=c.node)!=null?(c=c.automated_checkout_step_list)!=null?c.id:c:c:c;a&&b("PagesMarketingAutomationActions").updatedAutomatedCheckoutStepListID(a)})}function A(a){var c,d=(c=b("PagesMarketingAutomationStore")).getAutomatedCheckoutMessages();return b("AdsMessengerPartialAutomatedCreationUtils").getPostData({text:d.introMessage.trim(),media_type:"text",media_content:null},d.questionMessages.map(function(a){var b=a.answers.filter(function(a){return!!a.trim()});return{questionMessage:a.message,answerType:a.answerType,answerValidationEnabled:!1,answers:b.map(function(a){return{fieldID:"",value:a,nextStep:i.NEXT_QUESTION,mediaContent:null}}),optionsFormat:"text",fieldID:""}}),{text:d.thankYouMessage.trim(),media_type:"text",media_content:null},c.getState().questionnaireDisqualificationMessage,null,c.getState().questionnaireReminderMessage,b("AdsMessengerVisualEditorLandingScreenType").CHECKOUT_AUTOMATION,a,null,c.getState().questionnairePrivacyPolicyURL,!0,c.getState().questionnaireStopQuestionsMessage,null,c.getState().questionnaireSummaryMessage)}function B(a){var c,d=(c=b("PagesMarketingAutomationStore")).getOrganicIntakeFormMessages(),e=d.questionMessages.filter(function(a){return!!a.message.trim()});return b("AdsMessengerPartialAutomatedCreationUtils").getPostData({text:d.introMessage.trim(),media_type:"text",media_content:null},e.map(function(a){var b=a.answers.filter(function(a){return!!a.trim()});return{questionMessage:a.message,answerType:a.answerType,answerValidationEnabled:!1,answers:b.map(function(a){return{fieldID:"",value:a,nextStep:i.NEXT_QUESTION,mediaContent:null}}),optionsFormat:"text",fieldID:""}}),{text:d.thankYouMessage.trim(),media_type:"text",media_content:null},"",null,c.getState().questionnaireReminderMessage,b("AdsMessengerVisualEditorLandingScreenType").ORGANIC_INTAKE_FORM,a,null,c.getState().questionnairePrivacyPolicyURL,!0,c.getState().questionnaireStopQuestionsMessage)}function C(a){return a===""?null:b("ServicesURIUtils").isValidURI(a)?null:r}function D(a){var b=a.reengagementMessages.map(function(a){return{trigger_time_min:a.triggerTimeMin,message_text:a.messageText,ctas:a.ctas,attachment:a.attachment}});a=a.reengagementRules;return{reengagement_messages:b,reengagement_rules_values:{logical_or_rules:a.mainRules,logical_and_rules:a.andRules,logical_not_rules:a.notRules}}}function E(a){var b=a.reengagement_rules_values;a=a.reengagement_messages.map(function(a){var b=a.ctas&&a.ctas.map(function(a){return{content:a.content,url:a.url,type:k((a=a.type)!=null?a:"BUTTON")}});return{triggerTimeMin:a.trigger_time_min,messageText:a.message_text,ctas:(b=b)!=null?b:[],attachment:a.attachment,attachmentType:a.attachment?a.attachment.type:null}});return{reengagementMessages:a,reengagementRules:{mainRules:b.logical_or_rules,andRules:b.logical_and_rules,notRules:b.logical_not_rules}}}function F(a){return a.map(function(a){var b=babelHelpers["extends"]({},a);b.answers=a.answers.slice();b.prefillType!==null&&b.prefillType!=="NONE"?b.answerType=b.prefillType:b.replyType!==null&&b.replyType==="QUICK_REPLIES"?b.answerType=j.MULTIPLE_CHOICE:b.answerType=j.CUSTOM;return b})}function G(){return n}function H(){return o}function I(){return q}function J(){return p}e.exports={buildAutomatedMessagesAnswerType:F,createDefaultMarketingAutomationData:a,sendPreview:c,startAutomatedSequence:d,mapAutomationToCategory:f,createCategoriesToAutomationsMap:t,shouldShowAdminTextForSmartReply:u,convertHoursToDays:w,getTriggerWaitTime:s,shouldShowNotice:x,shouldShowEditButton:v,fetchDirectionsURI:y,fetchAndStoreAutomatedCheckoutData:z,getAutomatedCheckoutData:A,getOrganicIntakeFormData:B,getQuestionnairePrivacyPolicyURLError:C,getPagesMarketingAutomationReengagementDataInput:D,getPagesMarketingAutomationReengagementDataOutput:E,getMaxQuestionNumber:G,getMaxRecommendedQuestionNumber:H,getMaxAnswerOptionsNumber:I,getMaxReengagementMessagesNumber:J}}),null);
__d("PagesOrganicIntakeFormQuestionComposer.react",["cx","fbt","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","PagesMarketingAutomationUtils","PagesOrganicIntakeFormQuestionItem.react","React","ShimButton.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesMarketingAutomationUtils").getMaxQuestionNumber,j=b("PagesMarketingAutomationUtils").getMaxRecommendedQuestionNumber;function a(a){return b("React").jsxs("div",{className:"_6_oc",children:[a.messages.length>j()&&b("React").jsxs(b("FDSGuidanceCard.react"),{category:"active-feedback",margin:"_3-8o",children:[b("React").jsx(b("FDSGuidanceCardHeader.react"),{children:h._("Ask for the Most Important Info")}),b("React").jsx(b("FDSGuidanceCardContent.react"),{children:b("React").jsx(b("FDSGuidanceCardContentText.react"),{children:h._("It's best to ask around 3 questions to keep your customers engaged in the conversation.")})})]}),a.messages.map(function(c,d){return b("React").jsx(b("PagesOrganicIntakeFormQuestionItem.react"),{errors:a.errors,forceEditMode:!0,index:d,isDeleteDisabled:a.messages.length<=1,message:c,onQuestionMessageChange:a.onQuestionMessageChange,onRemoveQuestion:a.onRemoveQuestion},d)}),a.messages.length<i()&&b("React").jsx(b("ShimButton.react"),{className:"_888j _3-8y",onClick:a.onAddQuestion,children:b("React").jsx("span",{children:h._("+ Add Question")})})]})}e.exports=a}),null);
__d("PagesOrganicIntakeFormQuestionItem.react",["ix","cx","fbt","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","FDSButton.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorOptionGroup.react","FDSLink.react","FDSText.react","Image.react","PagesMarketingAutomationUtils","React","ServicesGetQuoteCTASetupUtils","ShimButton.react","SUIBusinessTheme","SUITextArea.react","XUIButton.react","XUITextInput.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,k=b("PagesMarketingAutomationUtils").getMaxAnswerOptionsNumber,l=b("ServicesGetQuoteCTASetupUtils").getAnswerTypeName,m=200;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isEditMode:!1},c.$1=function(a){var b=babelHelpers["extends"]({},c.props.message);b.message=a;c.props.onQuestionMessageChange(c.props.index,b)},c.$2=function(){c.props.onRemoveQuestion(c.props.index)},c.$3=function(){c.setState({isEditMode:!0})},c.$6=function(){var a=babelHelpers["extends"]({},c.props.message);a.answers=a.answers.concat("");c.props.onQuestionMessageChange(c.props.index,a)},c.$7=function(a){var b=babelHelpers["extends"]({},c.props.message);b.answerType=a;a===j.MULTIPLE_CHOICE&&b.answers.length===0&&(b.answers=b.answers.concat(""));c.props.onQuestionMessageChange(c.props.index,b)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$4=function(a,b){var c=babelHelpers["extends"]({},this.props.message);c.answers[b]=a;this.props.onQuestionMessageChange(this.props.index,c)};d.$5=function(a){var b=babelHelpers["extends"]({},this.props.message);b.answers.splice(a,1);this.props.onQuestionMessageChange(this.props.index,b)};d.render=function(){__p&&__p();var a=this;if(this.state.isEditMode||this.props.forceEditMode===!0){var c=["PHONE","EMAIL","JOB_TITLE","COMPANY_NAME","ZIP_CODE","CITY","STATE","COUNTRY"];c=c.map(function(a,c){return b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:a,children:l(a)},c)});var d=i._("Choose an answer type"),e=i._("User Information"),f=null;this.props.errors&&(f=this.props.errors.questionnaireErrors.find(function(b){return b&&b.questionNumber===a.props.index}));return b("React").jsxs("div",{className:"_887r _3-8y _2pi0",children:[b("React").jsxs("div",{children:[b("React").jsxs(b("FDSText.react"),{display:"inline",size:"body2",weight:"bold",children:[i._("Question #"),(this.props.index+1).toString()]}),!this.props.isDeleteDisabled&&b("React").jsx("div",{className:"_8f77",children:b("React").jsx(b("FDSLink.react"),{onClick:this.$2,children:i._("Remove")})})]}),b("React").jsx(b("SUITextArea.react"),{disabled:!1,errorMessage:(f=f)==null?void 0:f.error,margin:"_3-8n",maxLength:m,onChange:this.$1,placeholder:i._("Enter the text for your question"),shouldAutoGrow:!0,theme:b("SUIBusinessTheme"),value:this.props.message.message}),b("React").jsx("div",{className:"_6-b0",children:b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:i._("Question Type")})}),b("React").jsx("div",{className:"_3-8n",children:b("React").jsxs(b("FDSDropdownSelector.react"),{onChange:this.$7,placeholder:d,value:this.props.message.answerType,children:[b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:j.CUSTOM,children:l(j.CUSTOM)}),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:j.MULTIPLE_CHOICE,children:l(j.MULTIPLE_CHOICE)}),b("React").jsx(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:e,children:c})]})}),this.props.message.answerType===j.MULTIPLE_CHOICE&&b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("div",{className:"_3-95 _3-8z",children:b("React").jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:i._("Answer Text")})}),this.props.message.answers.map(function(c,d){var e;return(e=b("React")).jsxs("div",{className:"_8eel _3-95",children:[e.jsx(b("XUITextInput.react"),{className:"_8een",maxLength:50,onChange:function(b){return a.$4(b.target.value,d)},placeholder:i._("Enter an option"),value:c}),e.jsx(b("XUIButton.react"),{className:"_8i4h",disabled:a.props.message.answers.length<=1,image:e.jsx(b("Image.react"),{src:g("503835")}),label:"Delete",labelIsHidden:!0,onClick:function(){return a.$5(d)},size:"medium",use:"default"})]},d)}),this.props.message.answers.length<k()&&b("React").jsx(b("ShimButton.react"),{className:"_8eeo _2pi2 _2pis",onClick:this.$6,children:b("React").jsx("span",{children:i._("+ Add Option")})})]})]})}return b("React").jsxs("div",{className:"_8fjg _2ph_ _3-8y",children:[b("React").jsxs("div",{className:"_8fk3",children:[b("React").jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body2",weight:"bold",children:this.props.message.message}),this.props.message.answerType&&b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body2",children:l(this.props.message.answerType)}),b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body2",children:this.props.message.answers.join(", ")})]}),b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("484291")}),label:i._("Edit"),onClick:this.$3})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxUtils",["fbt","AdsMessengerPartialAutomatedCreationTypes","IGMessageDataMutateAction","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAction","PagesManagerInboxFilterAction","PagesManagerInboxLogger","PagesManagerInboxUnifiedThreadlistUtil","URI","ads-lib-urllib","getUniqueValuesForStringArray","shallowArrayEqual"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,j=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,k=1,l=1440;a=function(a,c,d,e,f){d!==a&&b("PagesManagerInboxFilterAction").changeFolder(e,f!=null?f:b("PageCommItemFolder").TODO,a),b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerInboxFilterAction").toggleFolderSelector(!1),b("PagesManagerInboxLogger").logPlatformChangedClicked(a,c),b("PagesManagerInboxFilterAction").changeType(e,a),b("PagesManagerInboxAction").setNavMode(c)};c=function(a,c,d,e){b("PagesManagerInboxFilterAction").changeActiveUTLFolder(a),d!==a&&b("PagesManagerInboxFilterAction").changeFolder(e,b("PageCommItemFolder").TODO,a),a!=="ALL"?b("PagesManagerInboxFilterAction").changePlatform(a,e):b("PagesManagerInboxFilterAction").changeType(e,"MESSENGER"),b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerInboxFilterAction").toggleFolderSelector(!1),b("PagesManagerInboxLogger").logPlatformChangedClicked(a,c),b("PagesManagerInboxAction").setNavMode(c)};d=function a(b){var c=b;Array.isArray(b)?c=b.map(a):b===Object(b)&&(c={},Object.keys(b).forEach(function(d){return c[d]=a(b[d])}));return c};var m=function(a,c,d,e,f,g,j,k){__p&&__p();var l={mediaError:null,ctaErrors:[],welcomeTextError:null,imageTitleError:null,errorText:k.errorText,questionnaireWelcomeTextError:null,questionnaireThanksTextError:null,questionnaireStopQuestionsError:null,questionnaireReminderError:null,questionnaireErrors:[]},m=!1;a=a.trim();a||(l.welcomeTextError=k.welcomeTextError,m=!0);if(c&&c.length>0){var n=(a=k)!=null?(a=a.ctaErrors)!=null?(a=a[0])!=null?a.ctaLabelError:a:a:a,o=(a=k)!=null?(a=a.ctaErrors)!=null?(a=a[0])!=null?a.ctaURLError:a:a:a,p=(a=k)!=null?(a=a.ctaErrors)!=null?(a=a[1])!=null?a.ctaURLError:a:a:a;c.forEach(function(a,c){var d=null,e=null,f=a.content&&a.content.trim();!f&&n&&(d=n,m=!0);f=a.url;!f?o&&(e=o,m=!0):a.type==="button"&&(!b("ads-lib-urllib").isUrl(f)||!(h||(h=b("URI"))).isValidURI(b("ads-lib-urllib").normalize(f)))&&p&&(e=p,m=!0);a={buttonNumber:c,ctaLabelError:d,ctaURLError:e};l.ctaErrors.push(a)})}if(e==="image")if(!d)l.mediaError=k.mediaError,l.imageTitleError=k.imageTitleError,m=!0;else{a=d.title&&d.title.trim();(d.type!=="image"||!d.url)&&(l.mediaError=k.mediaError,m=!0);!a&&((c=k)!=null?c.imageTitleError:c)&&(l.imageTitleError=k.imageTitleError,m=!0)}e==="video"&&(!d||!d.url||d.type!=="video")&&(l.mediaError=k.mediaError,m=!0);if(f){f.introMessage.trim()||(l.questionnaireWelcomeTextError=k.questionnaireWelcomeTextError,m=!0);f.thankYouMessage.trim()||(l.questionnaireThanksTextError=k.questionnaireThanksTextError,m=!0);(!g||!g.trim())&&(l.questionnaireStopQuestionsError=k.questionnaireStopQuestionsError,m=!0);(!j||!j.trim())&&(l.questionnaireReminderError=k.questionnaireReminderError,m=!0);a=!1;f.questionMessages.forEach(function(b,c){__p&&__p();b.message.trim()&&(a=!0);if(b.answerType===i.MULTIPLE_CHOICE){b=b.answers.filter(function(a){return a.trim().length});if(b.length<2){c={questionNumber:c,error:(b=k.questionnaireErrors[1])==null?void 0:b.error};l.questionnaireErrors.push(c);m=!0}}});if(!a){e={questionNumber:0,error:(c=k.questionnaireErrors[0])==null?void 0:c.error};l.questionnaireErrors.push(e);m=!0}}if(!m)return null;l.errorText=k.errorText;return l};f=function(a,c){__p&&__p();var d=null,e=a.reengagementMessages;for(var f=0;f<e.length;f++){var h=e[f];d=m(h.messageText,h.ctas,h.attachment,h.attachmentType,null,null,null,c);d===null&&(h.triggerTimeMin>l||h.triggerTimeMin<k)&&(d=n(g._("Message must include a valid send time.")));if(d!==null)break}h=a.reengagementRules;c=h.mainRules.concat(h.andRules).concat(h.notRules);f=b("getUniqueValuesForStringArray")(c);d===null&&(h.mainRules.length<1||!b("shallowArrayEqual")(c,f))&&(d=n(g._("Rule must include valid events.")));return d};var n=function(a){return{mediaError:null,ctaErrors:[],welcomeTextError:null,imageTitleError:null,errorText:a,questionnaireWelcomeTextError:null,questionnaireThanksTextError:null,questionnaireStopQuestionsError:null,questionnaireReminderError:null,questionnaireErrors:[]}},o=function(a,c,d){a!==b("PageCommItemFolder").INSTAGRAM_THREADS&&a!==b("PageCommItemFolder").MESSENGER_THREADS&&(c==="INSTAGRAM_DIRECT"||j())&&b("IGMessageDataMutateAction").forceFetchInbox(d,20,b("PageCommItemFolder").TODO,!1,!1,null,!1)};e.exports={changeInboxTab:a,changeSelectedUTLFolder:c,clone:d,getErrorSpecsForComposer:m,getErrorSpecsForReengagement:f,setDefaultIGDirectFolder:o}}),null);
__d("PagesMarketingAutomationStore",["fbt","AdsMessengerPartialAutomatedCreationTypes","PagesManagerInboxUtils","PagesMarketingAutomationActions","PagesMarketingAutomationContentView.react","FluxReduceStore","PagesMarketingAutomationDispatcher","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer;var h=b("PagesManagerInboxUtils").getErrorSpecsForComposer,i=b("PagesManagerInboxUtils").getErrorSpecsForReengagement,j=b("PagesMarketingAutomationActions").types,k=b("PagesMarketingAutomationContentView.react").shuffleDemoIcebreakers;c={welcomeText:"",automatedCheckoutMessages:{introMessage:"",questionMessages:[{answers:[],answerType:a.CUSTOM,message:"",prefillType:"NONE",replyType:"TEXT"}],thankYouMessage:""},organicIntakeFormMessages:{introMessage:"",questionMessages:[{answers:[],answerType:a.CUSTOM,message:"",prefillType:"NONE",replyType:"TEXT"}],thankYouMessage:""},isWelcomeTextIntialized:!1,attachmentType:null,media:{id:null,url:null},ctas:[],storedState:null,automatedSequenceDialogSeeAll:!1,recentAutomationThreadFBID:null,shouldShowAutomationToast:!1,automationID:null,automationType:null,isDefaultAutomation:!1,isEnabled:!1,isEditMode:!1,isSendDisabled:!1,hasComposerBeenEdited:!1,phoneNumber:null,website:null,address:null,hours:[],isAlwaysOpen:!1,isPermanentlyClosed:!1,directionsURI:null,awayTimeRanges:null,awayTimeZone:null,isAway:null,automatedCheckoutStepListID:null,organicIntakeFormStepListID:null,icebreakers:[],demoIcebreakerIndices:[],isCurrentMenuSetByAPI:!1,isCurrentIcebreakersSetByAPI:!1,reengagementData:{reengagementMessages:{triggerTimeMin:0,messageText:"",ctas:null,attachment:null,attachmentType:null},reengagementRules:{mainRules:[],andRules:[],notRules:[]}},isEligibleForIntakeForm:!1,isIntakeFormInitialSetupExperience:!1,questionnaireDisqualificationMessage:"",questionnaireStopQuestionsMessage:"",questionnaireSummaryMessage:"",questionnaireReminderMessage:"",questionnairePrivacyPolicyURL:"",followUpMessageData:null,enabledPlatforms:[],qpcConsumerFlow:null,showQPCIcebreakersDisclaimer:!1,savedReplies:[],selectedSavedReply:null,servicesReferrerData:{servicesReferrer:null,servicesReferrerSurface:"inbox"},shouldShowAdvancedOptions:!1};var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record(c));d=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return new l()};c.reduce=function(a,b){__p&&__p();var c;switch(b.type){case j.STORE_STATE:c=a.set("storedState",{welcomeText:a.welcomeText,automatedCheckoutMessages:a.automatedCheckoutMessages,organicIntakeFormMessages:a.organicIntakeFormMessages,reengagementData:a.reengagementData,icebreakers:a.icebreakers,attachmentType:a.attachmentType,media:a.media,ctas:a.ctas,awayTimeRanges:a.awayTimeRanges,awayTimeZone:a.awayTimeZone,selectedSavedReply:a.selectedSavedReply,followUpMessageData:a.followUpMessageData});return c.set("hasComposerBeenEdited",!1);case j.REVERT_STATE:var d=a.storedState;if(d){c=a.set("welcomeText",d.welcomeText);c=c.set("automatedCheckoutMessages",d.automatedCheckoutMessages);c=c.set("organicIntakeFormMessages",d.organicIntakeFormMessages);c=c.set("attachmentType",d.attachmentType);c=c.set("media",d.media);c=c.set("ctas",d.ctas);c=c.set("hasComposerBeenEdited",!1);c=c.set("isWelcomeTextIntialized",!1);c=c.set("awayTimeRanges",d.awayTimeRanges);c=c.set("awayTimeZone",d.awayTimeZone);c=c.set("demoIcebreakerIndices",k(d.icebreakers));c=c.set("icebreakers",d.icebreakers);c=c.set("reengagementData",d.reengagementData);c=c.set("selectedSavedReply",d.selectedSavedReply);c=c.set("followUpMessageData",d.followUpMessageData);return c}return a;case j.SET_DEFAULT_AUTOMATION:return a.set("isDefaultAutomation",b.isDefaultAutomation);case j.UPDATE_AUTOMATION_TYPE:c=a;b.automationType==="saved_reply"&&(c=a.set("isEditMode",!0));return c.set("automationType",b.automationType).set("selectedSavedReply",null);case j.UPDATE_IS_WELCOME_TEXT_INITIALIZED:return a.set("isWelcomeTextIntialized",b.isWelcomeTextIntialized);case j.UPDATE_AUTOMATION_ID:return a.set("automationID",b.automationID);case j.UPDATE_WELCOME_TEXT:c=a.set("welcomeText",b.welcomeText);return c.set("hasComposerBeenEdited",!0);case j.UPDATE_AUTOMATED_CHECKOUT_MESSAGES:c=a.set("automatedCheckoutMessages",b.automatedCheckoutMessages);return c.set("hasComposerBeenEdited",!0);case j.UPDATE_AUTOMATED_CHECKOUT_STEP_LIST_ID:return a.set("automatedCheckoutStepListID",b.automatedCheckoutStepListID);case j.UPDATE_ENABLED_PLATFORMS:return a.set("enabledPlatforms",b.enabledPlatforms);case j.UPDATE_MESSENGER_REENGAGEMENT_NOTIF_DATA:c=a.set("reengagementData",b.reengagementData);return c.set("hasComposerBeenEdited",!0);case j.UPDATE_ORGANIC_INTAKE_FORM_MESSAGES:c=a.set("organicIntakeFormMessages",b.organicIntakeFormMessages);return c.set("hasComposerBeenEdited",!0);case j.UPDATE_ORGANIC_INTAKE_FORM_STEP_LIST_ID:return a.set("organicIntakeFormStepListID",b.organicIntakeFormStepListID);case j.UPDATE_ATTACHMENT_TYPE:c=a.set("attachmentType",b.attachmentType);return c.set("hasComposerBeenEdited",!0);case j.UPDATE_AUTOMATED_SEQUENCE_DIALOG_SEE_ALL:return a.set("automatedSequenceDialogSeeAll",b.automatedSequenceDialogSeeAll);case j.UPDATE_RECENT_AUTOMATION_THREAD_FBID:return a.set("recentAutomationThreadFBID",b.recentAutomationThreadFBID);case j.UPDATE_SHOULD_SHOW_AUTOMATION_TOAST:return a.set("shouldShowAutomationToast",b.shouldShowAutomationToast);case j.UPDATE_MEDIA:c=a.set("media",b.media);return c.set("hasComposerBeenEdited",!0);case j.UPDATE_STATE:c=a.set("welcomeText",b.welcomeText);c=c.set("automatedCheckoutMessages",b.automatedCheckoutMessages);c=c.set("reengagementData",b.reengagementData);c=c.set("attachmentType",b.attachmentType);c=c.set("media",b.media);c=c.set("ctas",b.ctas);c=c.set("automationType",b.automationType);c=c.set("enabledPlatforms",b.enabledPlatforms);return c;case j.UPDATE_CTAS:c=a.set("ctas",b.ctas);return c.set("hasComposerBeenEdited",!0);case j.UPDATE_ENABLED:return a.set("isEnabled",b.isEnabled);case j.UPDATE_SEND_DISABLED:return a.set("isSendDisabled",b.isSendDisabled);case j.COMPOSER_HAS_BEEN_EDITED:return a.set("hasComposerBeenEdited",!0);case j.UPDATE_CONTENT_VIEW_MODE:return a.set("isEditMode",b.isEditMode);case j.UPDATE_ICEBREAKERS:c=a.set("icebreakers",b.icebreakers);return c.set("hasComposerBeenEdited",!0);case j.UPDATE_DEMO_ICEBREAKER_INDICES:return a.set("demoIcebreakerIndices",b.demoIcebreakerIndices);case j.UPDATE_IS_CURRENT_MENU_SET_BY_API:return a.set("isCurrentMenuSetByAPI",b.isCurrentMenuSetByAPI);case j.UPDATE_IS_CURRENT_ICEBREAKERS_SET_BY_API:return a.set("isCurrentIcebreakersSetByAPI",b.isCurrentIcebreakersSetByAPI);case j.STORE_CONTACT:c=a.set("phoneNumber",b.phoneNumber);c=c.set("website",b.website);return c;case j.STORE_ADDRESS:return a.set("address",b.address);case j.STORE_HOURS:c=a.set("hours",b.hours);c=c.set("isAlwaysOpen",b.isAlwaysOpen);c=c.set("isPermanentlyClosed",b.isPermanentlyClosed);return c;case j.STORE_DIRECTIONS_URI:return a.set("directionsURI",b.directionsURI);case j.STORE_AWAY_TIME_RANGES:c=a.set("hasComposerBeenEdited",!0);return c.set("awayTimeRanges",b.awayTimeRanges);case j.STORE_AWAY_TIME_ZONE:c=a.set("hasComposerBeenEdited",!0);return c.set("awayTimeZone",b.awayTimeZone);case j.STORE_IS_AWAY:return a.set("isAway",b.isAway);case j.STORE_INTAKE_FORM_INFO:return a.set("isEligibleForIntakeForm",b.isEligibleForIntakeForm).set("qpcConsumerFlow",b.qpcConsumerFlow).set("questionnaireStopQuestionsMessage",b.questionnaireStopQuestionsMessage).set("questionnaireReminderMessage",b.questionnaireReminderMessage).set("questionnairePrivacyPolicyURL",b.questionnairePrivacyPolicyURL);case j.USE_SETUP_INTAKE_FORM_EXPERIENCE:return a.set("hasComposerBeenEdited",!0).set("isIntakeFormInitialSetupExperience",!0).set("isWelcomeTextIntialized",!1);case j.DISABLE_SETUP_INTAKE_FORM_EXPERIENCE:return a.set("isIntakeFormInitialSetupExperience",!1);case j.UPDATE_QUESTIONNAIRE_DISQUALIFICATION_MESSAGE:return a.set("questionnaireDisqualificationMessage",b.questionnaireDisqualificationMessage).set("hasComposerBeenEdited",!0);case j.UPDATE_QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE:return a.set("questionnaireStopQuestionsMessage",b.questionnaireStopQuestionsMessage).set("hasComposerBeenEdited",!0);case j.UPDATE_QUESTIONNAIRE_SUMMARY_MESSAGE:return a.set("questionnaireSummaryMessage",b.questionnaireSummaryMessage).set("hasComposerBeenEdited",!0);case j.UPDATE_QUESTIONNAIRE_REMINDER_MESSAGE:return a.set("questionnaireReminderMessage",b.questionnaireReminderMessage).set("hasComposerBeenEdited",!0);case j.UPDATE_QUESTIONNAIRE_PRIVACY_POLICY_URL:return a.set("questionnairePrivacyPolicyURL",b.questionnairePrivacyPolicyURL).set("hasComposerBeenEdited",!0);case j.STORE_FOLLOW_UP_MESSAGE_INFO:return a.set("followUpMessageData",{messageContent:b.messageContent,triggerTimeSecs:b.triggerTimeSecs});case j.UPDATE_SHOW_QPC_ICEBREAKERS_DISCLAIMER:return a.set("showQPCIcebreakersDisclaimer",b.showQPCIcebreakersDisclaimer);case j.SET_SAVED_REPLIES:return a.set("savedReplies",b.savedReplies);case j.SELECTED_SAVED_REPLY:c=b.selectedSavedReply&&b.selectedSavedReply.image?{url:(d=b.selectedSavedReply)==null?void 0:(c=d.image)==null?void 0:c.url,id:parseInt((d=(d=b.selectedSavedReply)==null?void 0:(c=d.image)==null?void 0:c.id)!=null?d:"",10),type:"image",class_name:""}:null;d=b.selectedSavedReply&&b.selectedSavedReply.image?"image":null;return a.set("selectedSavedReply",b.selectedSavedReply).set("media",c).set("attachmentType",d).set("automationID",(d=(c=b.selectedSavedReply)==null?void 0:c.id)!=null?d:"0");case j.SET_SERVICES_REFERRER_DATA:return a.set("servicesReferrerData",b.servicesReferrerData);case j.UPDATE_SAVED_REPLY:c=Object.assign({},a.selectedSavedReply,{message:b.updateSavedReply.message!=null?b.updateSavedReply.message:(c=a.selectedSavedReply)==null?void 0:c.message,title:b.updateSavedReply.title!=null?b.updateSavedReply.title:(d=a.selectedSavedReply)==null?void 0:d.title});return a.set("selectedSavedReply",c);case j.UPDATE_SHOULD_SHOW_ADVANCED_OPTIONS:return a.set("shouldShowAdvancedOptions",b.shouldShowAdvancedOptions);default:return a}};c.getWelcomeText=function(){return this.getState().welcomeText};c.getAutomatedCheckoutMessages=function(){return this.getState().automatedCheckoutMessages};c.getAutomatedCheckoutStepListID=function(){return this.getState().automatedCheckoutStepListID};c.getAutomatedSequenceDialogSeeAll=function(){return this.getState().automatedSequenceDialogSeeAll};c.getRecentAutomationThreadFBID=function(){return this.getState().recentAutomationThreadFBID};c.getShouldShowAutomationToast=function(){return this.getState().shouldShowAutomationToast};c.getOrganicIntakeFormMessages=function(){return this.getState().organicIntakeFormMessages};c.getOrganicIntakeFormStepListID=function(){return this.getState().organicIntakeFormStepListID};c.getReengagementData=function(){return this.getState().reengagementData};c.getAddress=function(){return this.getState().address};c.getIsCurrentlyAway=function(){return!!this.getState().isAway};c.getAwayTimeZone=function(){return this.getState().awayTimeZone};c.getAwayTimeRanges=function(){return this.getState().awayTimeRanges};c.getDirectionsURI=function(){return this.getState().directionsURI||""};c.getPhoneNumber=function(){return this.getState().phoneNumber};c.getWebsite=function(){return this.getState().website};c.getHours=function(){return this.getState().hours};c.getIcebreakers=function(){return this.getState().icebreakers||[]};c.getDemoIcebreakerIndices=function(){return this.getState().demoIcebreakerIndices||[]};c.getIsCurrentMenuSetByAPI=function(){return this.getState().isCurrentMenuSetByAPI||!1};c.getIsCurrentIcebreakersSetByAPI=function(){return this.getState().isCurrentIcebreakersSetByAPI||!1};c.getIsAlwaysOpen=function(){return this.getState().isAlwaysOpen};c.getIsPermanentlyClosed=function(){return this.getState().isPermanentlyClosed};c.getIsEditMode=function(){return this.getState().isEditMode};c.getIsDefaultAutomation=function(){return this.getState().isDefaultAutomation};c.getIsEnabled=function(){return this.getState().isEnabled};c.getIsSendDisabled=function(){return this.getState().isSendDisabled};c.getHasComposerBeenEdited=function(){return this.getState().hasComposerBeenEdited};c.getAutomationID=function(){return this.getState().automationID};c.getAutomationType=function(){return this.getState().automationType};c.getAttachmentType=function(){return this.getState().attachmentType};c.getMedia=function(){return this.getState().media};c.getCTAs=function(){return this.getState().ctas};c.getIsWelcomeTextIntialized=function(){return this.getState().isWelcomeTextIntialized};c.getIsEligibleForIntakeForm=function(){return this.getState().isEligibleForIntakeForm};c.isIntakeFormInitialSetupExperience=function(){return this.getState().isIntakeFormInitialSetupExperience};c.getFollowUpMessageData=function(){return this.getState().followUpMessageData};c.getEnabledPlatforms=function(){return this.getState().enabledPlatforms};c.getSavedReplyResponses=function(){return this.getState().savedReplies};c.getselectedSavedReply=function(){return this.getState().selectedSavedReply};c.getServicesReferrerData=function(){return this.getState().servicesReferrerData};c.getInitialSelectedSavedReply=function(){var a;return(a=this.getState().storedState)==null?void 0:a.selectedSavedReply};c.getShouldShowAdvancedOptions=function(){return this.getState().shouldShowAdvancedOptions};c.getErrors=function(){var a=g._("Please enter a message.");a={mediaError:g._("Add an image or remove the attachment."),ctaErrors:[{buttonNumber:0,ctaLabelError:g._("Buttons must include text."),ctaURLError:g._("Buttons must include a website URL.")},{buttonNumber:0,ctaLabelError:null,ctaURLError:g._("Buttons must include a valid website URL.")}],welcomeTextError:g._("Automated responses must include text."),errorText:g._("Complete all required fields before saving your message."),questionnaireWelcomeTextError:a,questionnaireThanksTextError:a,questionnaireStopQuestionsError:a,questionnaireReminderError:a,questionnaireErrors:[{questionNumber:0,error:g._("Please add at least one question.")},{questionNumber:0,error:g._("Please add at least 2 answer options.")}]};return this.getState().automationType==="mbs_reengagement"&&this.getState().reengagementData?i(this.getState().reengagementData,a):h(this.getState().welcomeText,this.getState().ctas,this.getState().media,this.getState().attachmentType,this.getState().automationType==="organic_intake_form"&&this.getState().isEligibleForIntakeForm?this.getState().organicIntakeFormMessages:null,this.getState().questionnaireStopQuestionsMessage,this.getState().questionnaireReminderMessage,a)};return b}(b("FluxReduceStore"));d.__moduleID=e.id;e.exports=new d(b("PagesMarketingAutomationDispatcher"))}),null);
__d("PagesManagerInboxAwayToggleContainer.react",["fbt","FluxContainer","PagesManagerInboxAwayToggle.react","PagesManagerInboxFilterStore","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","PagesMarketingAutomationContentUtils","PagesTimeRangeEditorUtilities","React","RelayModern","XUIAmbientNUX.react","PagesManagerInboxAwayToggleContainer_page.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,j=b("PagesMarketingAutomationContentUtils").getPlatformStatus,k=b("PagesMarketingAutomationContentUtils").getShouldShowIGDirectAutomatedResponse;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var l="www_pages_new_away_toggle_nux";c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2(l)),d.setState({newAwayInfoLocationNuxShown:!1})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(){var a;a=(a=b("PagesManagerInboxStore").getConfig().pageName)!=null?a:"";return{commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),newAwayInfoLocationNuxShown:b("PagesManagerInboxStore").shouldShowNUX(l),pageName:a}};var d=c.prototype;d.$2=function(a){return b("PagesManagerInboxNUX")[a]};d.$3=function(){var a=this;return!this.state.newAwayInfoLocationNuxShown?null:b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.awayinfobutton},onCloseButtonClick:this.$1,position:"below",shown:!0,children:g._("Tell people your Page is away when you won't be able to respond to messages.")})};d.render=function(){__p&&__p();var a,c,d,e,f,g,h,l=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse;l=this.state.commPlatform==="INSTAGRAM_DIRECT"&&l;if(this.state.commPlatform!=="MESSENGER"&&l===!1&&i()===!1)return null;l=(l=this.props)!=null?(l=l.page)!=null?l.away_time_range:l:l;h=(h=this.props)!=null?(h=h.page)!=null?h.away_time_zone:h:h;g=(g=this.props)!=null?(g=g.page)!=null?g.away_toggle_expiration:g:g;f=(f=this.props)!=null?(f=f.page)!=null?f.is_away_toggle_on:f:f;e=(e=this.props)!=null?(e=e.page)!=null?e.id:e:e;if(l==null||f==null||e==null||h==null)return b("React").jsx("div",{});l=b("PagesTimeRangeEditorUtilities").getTimeRangesFromJson(l);a=(a=this.props.page)==null?void 0:(a=a.admin_info)==null?void 0:(a=a.away_response)==null?void 0:a.platforms;var m=j(a,"MESSENGER"),n=j(a,"INSTAGRAM_DIRECT");c=((c=b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT)==null?void 0:c.igAccountID)!==null;d=(d=b("PagesManagerInboxStore").getConfig().pageName)!=null?d:"";return b("React").jsxs("div",{children:[b("React").jsx(b("PagesManagerInboxAwayToggle.react"),{awayTimeRanges:l,awayTimezone:h,expireTimestamp:g,getShouldShowIGDirectAutomatedResponse:k(a,"away_message"),igPlatformEnabled:n,isAway:f,isIGDirecConnected:c,messengerPlatformEnabled:m,nextAwayRange:this.props.page.next_away_range,pageID:e,pageName:d,ref:"awayinfobutton"}),this.$3()]})};return c}(b("React").PureComponent);e.exports=a(b("FluxContainer").create(c),{page:h!==void 0?h:h=b("PagesManagerInboxAwayToggleContainer_page.graphql")})}),null);
__d("PagesManagerInboxAwayToggleRoot.react",["PagesManagerAwayToggleSubscription","PagesManagerInboxAwayToggleContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxAwayToggleRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=b("PagesManagerAwayToggleSubscription").subscribe({page_id:this.props.pageID})};d.componentWillUnmount=function(){this.$1.dispose()};d.render=function(){return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxAwayToggleRootQuery.graphql"),render:function(a){var c=a.error;a=a.props;return a&&!c?b("React").jsx(b("PagesManagerInboxAwayToggleContainer.react"),babelHelpers["extends"]({},a)):null},variables:{pageID:this.props.pageID}})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderRightTopNav.react",["cx","fbt","ErrorBoundary.react","Link.react","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxAwayToggleRoot.react","PagesManagerInboxFilterAction","PagesManagerInboxLogger","PagesManagerInboxNewFolderNUX.react","PagesManagerInboxTopNavCreateWAButtonContainer.react","PagesMessagingInboxActionLogger","React","Tooltip"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=null;d.getContextRef=function(){return d.$1};d.$4=function(){b("PagesManagerInboxLogger").logSearchClick(!0,d.props.filterType),b("PagesMessagingInboxActionLogger").logSearchButtonClicked(d.props.filterType),b("PagesManagerInboxFilterAction").changeSearchType("LABEL"),b("PagesManagerInboxFilterAction").toggleSearch(!0)};return d}var d=c.prototype;d.$2=function(){return this.props.isSearchActive||this.props.filterType==="WEC"?null:b("React").jsx(b("PagesManagerInboxAwayToggleRoot.react"),{className:"_dat",pageID:this.props.pageID})};d.$3=function(){var a=this.props.filterType==="WEC";return this.props.shouldShowCometNewDesign||this.props.selectedCustomerID!=null||this.props.isSearchActive||a?null:b("React").jsx(b("Link.react"),{className:"_dat",onClick:this.$4,children:b("React").jsx("div",babelHelpers["extends"]({className:"_-8b"},b("Tooltip").propsFor(h._("Search"))))})};d.$5=function(){var a=this;if(b("PageCommItemStatusUtil").getThreadsManagementStatus(this.props.folderSelected)===b("PageCommItemFolder").TODO&&this.props.isSearchActive===!1)return b("React").jsxs(b("Link.react"),{className:"_dat","data-testid":"filter_label",onClick:this.props.toggleFilterSelector,children:[b("React").jsx("div",babelHelpers["extends"]({className:"_83ak",ref:function(b){a.$1=b}},b("Tooltip").propsFor(h._("Filter conversations")))),this.props.showNewFolderNux?b("React").jsx(b("PagesManagerInboxNewFolderNUX.react"),{contextRef:this.getContextRef}):null]});else return null};d.$6=function(){return this.props.filterType!=="WEC"?null:b("React").jsx(b("PagesManagerInboxTopNavCreateWAButtonContainer.react"),{onClick:this.props.onShowWACreateGroupDialog})};d.render=function(){return this.props.isFolderChangeActive||this.props.isFilterChangeActive?null:b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsxs("div",{className:"_das",children:[this.$2(),this.$5(),this.$3(),this.$6()]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PageManagerInboxContentSearchSource",["AbstractSearchSource","SearchableEntry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.searchImpl=function(a,c,d){d||({});if(a){d=new(b("SearchableEntry"))({uniqueID:a,title:a,subtitle:a});c([d],a);return}c([],a)};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("PageManagerInboxCustomLabelSearchSource",["AbstractSearchSource","PagesManagerInboxCustomLabelSearchableEntry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getInstance=function(a){!g?g=new c(a):g.setAvailableLabels(a);return g};function c(b){var c;c=a.call(this)||this;c.setAvailableLabels(b);return c}var d=c.prototype;d.setAvailableLabels=function(a){this.$PageManagerInboxCustomLabelSearchSource1=a};d.searchImpl=function(a,c,d){__p&&__p();var e=[];d||({});if(a){var f=a.toLowerCase();this.$PageManagerInboxCustomLabelSearchSource1.forEach(function(a){a.name.toLowerCase().indexOf(f)!==-1&&e.push(a)})}var g=[];e.forEach(function(a){g.push(new(b("PagesManagerInboxCustomLabelSearchableEntry"))(a))});c(g,a)};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("PagesManagerInboxCustomerSearchableEntry",["SearchableEntry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,{title:b.title,subtitle:b.subtitle,uniqueID:b.uniqueID,uri:b.uri})||this;c.$PagesManagerInboxCustomerSearchableEntry1=b.platform;return c}var c=b.prototype;c.getPlatform=function(){return this.$PagesManagerInboxCustomerSearchableEntry1};return b}(b("SearchableEntry"));e.exports=a}),null);
__d("PageManagerInboxUnifiedCustomerRelaySearchSource",["AbstractRelaySearchSource","PagesManagerInboxCustomerSearchableEntry","PagesManagerInboxFilterAction","RelayFBEnvironment","RelayModern","nullthrows","PageManagerInboxUnifiedCustomerRelaySearchSourceQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;function h(a,c,d){var e=g!==void 0?g:g=b("PageManagerInboxUnifiedCustomerRelaySearchSourceQuery.graphql");return{query:e,variables:{searchTerm:c,count:d,pageID:a,cursor:null}}}function i(a){__p&&__p();a=(a=a)!=null?(a=a.page)!=null?(a=a.page_unified_customer_search)!=null?a.edges:a:a:a;b("PagesManagerInboxFilterAction").setPeopleSearchLoaded();return!a?[]:a.map(function(a){var c,d,e;a=b("nullthrows")(a.node);var f=b("nullthrows")(a.id);e=(e=(e=a)!=null?e.name:e)!=null?e:"";d=(d=(d=a)!=null?(d=d.ig_profile_info)!=null?d.name:d:d)!=null?d:"";c=(c=a)!=null?(c=c.profile_photo_uris)!=null?(c=c[0])!=null?c.uri:c:c:c;var g="FACEBOOK";a.ig_profile_info!==null&&(g="INSTAGRAM");return new(b("PagesManagerInboxCustomerSearchableEntry"))({title:e,subtitle:d,uniqueID:f,uri:c,platform:g})}).filter(function(a){return a!==null})}function j(a,b){return b(a)}a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){return a.call(this,b("RelayFBEnvironment"),{bootstrapRequests:[],queryRequests:[{gen:function(a){return h(c,a,d)}}],packageFn:i,getAllForEmptyQuery:!0},j)||this}return c}(b("AbstractRelaySearchSource"));e.exports=a}),null);
__d("PageUserMessageThreadAutoLabelType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CUSTOMER:"CUSTOMER",POTENTIAL_CUSTOMER:"POTENTIAL_CUSTOMER",POSITIVE_EXPERIENCE:"POSITIVE_EXPERIENCE",NEGATIVE_EXPERIENCE:"NEGATIVE_EXPERIENCE"})}),null);
__d("PagesManagerInboxAutoLabelUtils",["ix","cx","fbt","Image.react","PageUserMessageThreadAutoLabelType","React","asset","cxMargin","keyMirror"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("keyMirror")(b("PageUserMessageThreadAutoLabelType"));a={getAutoLabelIcon:function(a){switch(a){case j.CUSTOMER:return b("React").jsx(b("Image.react"),{src:g("538340")});case j.POTENTIAL_CUSTOMER:return b("React").jsx(b("Image.react"),{src:g("481917")});case j.POSITIVE_EXPERIENCE:return b("React").jsx(b("Image.react"),{src:g("509920")});case j.NEGATIVE_EXPERIENCE:default:return b("React").jsx("div",{className:"_739o",children:b("React").jsx(b("Image.react"),{src:g("509920")})})}},getAutoLabelIconInDialogSection:function(a){switch(a){case j.CUSTOMER:return b("React").jsx(b("Image.react"),{className:"_3-90",src:g("538341")});case j.NEGATIVE_EXPERIENCE:return b("React").jsx(b("Image.react"),{className:"_3-90 _73mg",src:g("509921")});case j.POSITIVE_EXPERIENCE:return b("React").jsx(b("Image.react"),{className:"_3-90",src:g("509921")});case j.POTENTIAL_CUSTOMER:return b("React").jsx(b("Image.react"),{className:"_3-90",src:g("481918")})}return null},getAutoLabelTooltip:function(a){switch(a){case j.CUSTOMER:return i._("The Customer label is applied to conversations with people who may have booked an appointment, made a purchase or payment, or received a receipt.");case j.NEGATIVE_EXPERIENCE:return i._("The Negative Experience label is applied to conversations that may contain messages about a negative experience with your business.");case j.POSITIVE_EXPERIENCE:return i._("The Positive Experience label is applied to conversations that may contain messages about a positive experience with your business.");case j.POTENTIAL_CUSTOMER:return i._("The Potential Customer label is applied to conversations that may contain messages about product or service questions, pricing, availability or delivery.")}return null},createDefaultAutoLabel:function(a){switch(a){case j.CUSTOMER:return{id:"0",color:"",name:i._("Customer").toString(),thread_count:0,auto_label_type:j.CUSTOMER,is_hidden:!0};case j.NEGATIVE_EXPERIENCE:return{id:"1",color:"",name:i._("Negative Experience").toString(),thread_count:0,auto_label_type:j.NEGATIVE_EXPERIENCE,is_hidden:!0};case j.POSITIVE_EXPERIENCE:return{id:"2",color:"",name:i._("Positive Experience").toString(),thread_count:0,auto_label_type:j.POSITIVE_EXPERIENCE,is_hidden:!0};case j.POTENTIAL_CUSTOMER:return{id:"3",color:"",name:i._("Potential Customer").toString(),thread_count:0,auto_label_type:j.POTENTIAL_CUSTOMER,is_hidden:!0}}return null}};e.exports=a}),null);
__d("PagesManagerInboxLabel.react",["ix","cx","ClickableArea.react","FDSBaseCheckboxInput.react","FlexLayout.react","Image.react","PagesManagerInboxAutoLabelUtils","PagesManagerInboxCustomLabelSearchableEntry","PagesManagerInboxFilterAction","PagesMessagingInboxActionLogger","PageUserMessageThreadAutoLabelType","React","Tooltip","XUICard.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isHover:!1,isSelected:!1},d.$1=function(){d.setState({isHover:!0})},d.$2=function(){d.setState({isHover:!1})},d.$3=function(){d.setState({isSelected:!0},function(){return d.state.isSelected}),d.props.onCreateAndAdd&&d.props.createName!==null&&d.props.createName!==void 0&&d.props.onCreateAndAdd(d.props.createName,d.props.color)},d.$4=function(a){a.stopPropagation();a={id:d.props.id,name:d.props.name,color:d.props.color};d.props.isToken&&(a=new(b("PagesManagerInboxCustomLabelSearchableEntry"))(a));d.props.onRemove&&d.props.onRemove(a)},d.$5=function(){var a=d.props.pageID;if(!a||!d.props.searchOnClick)return;b("PagesManagerInboxFilterAction").changeSearchType("LABEL");b("PagesManagerInboxFilterAction").toggleSearch(!0);b("PagesManagerInboxFilterAction").addCustomLabel({name:d.props.name,id:d.props.id,color:d.props.color},a);b("PagesMessagingInboxActionLogger").logSearchResultClicked("contextcard_label_search_clicked",d.props.platform,d.props.name,"LABEL")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a,c;this.state.isHover&&this.props.onRemove?a=b("React").jsx(b("XUICard.react"),{className:"_ke0",style:{backgroundColor:"transparent",border:"none"},children:b("React").jsx(b("Image.react"),{onClick:this.$4,src:g("363583")})}):this.props.autoLabelType!=null?a=b("React").jsx(b("XUICard.react"),{className:"_ke0",style:{backgroundColor:"transparent",border:"none"},children:b("PagesManagerInboxAutoLabelUtils").getAutoLabelIcon(this.props.autoLabelType)}):a=b("React").jsx(b("XUICard.react"),{className:"_ke0",style:{backgroundColor:"#"+this.props.color.substring(2),border:"none"}});this.props.showCheckbox!=null&&(c=b("React").jsx("span",{className:"_8q94",children:b("React").jsx(b("FDSBaseCheckboxInput.react"),{onChange:this.$3,value:this.state.isSelected})}));var d=this.props.className?this.props.className:"_64u3";d=this.props.onRemove?b("React").jsxs("div",babelHelpers["extends"]({className:d,onClick:this.$5,onMouseEnter:this.$1,onMouseLeave:this.$2,role:"button",tabIndex:"0"},b("Tooltip").propsFor(this.props.toolTipString),{children:[a,this.props.name]})):b("React").jsxs(b("FlexLayout.react"),{align:"center",children:[c,b("React").jsx(b("ClickableArea.react"),{onClick:this.$5,children:b("React").jsxs("div",babelHelpers["extends"]({className:d},b("Tooltip").propsFor(this.props.toolTipString),{children:[a,this.props.name]}))})]});return d};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxSearchTokenRenderer.react",["cx","PagesManagerInboxLabel.react","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.entry.getData();return b("React").jsx(b("PagesManagerInboxLabel.react"),{className:this.props.className?this.props.className:"_22op",color:a.color,id:a.id,isToken:!0,name:a.name,onRemove:this.props.onRemove,searchOnClick:!0},a.name)};return c}(b("React").PureComponent);a.propTypes={entry:b("prop-types").object,onRemove:b("prop-types").func};e.exports=a}),null);
__d("PageCustomLabelsTypeaheadViewItem.react",["cx","React","XUICard.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.entry;return b("React").jsxs("li",{className:"_7znk","data-testid":"labelsSection_search",onMouseDown:function(b){return a.props.onSelect(c,b)},children:[b("React").jsx(b("XUICard.react"),{className:"_ke0",style:{backgroundColor:c.getColor()}}),b("React").jsx("span",{style:{flex:1},children:this.props.renderHighlight(c.getTitle())})]},c.getUniqueID())};return c}(b("React").PureComponent);a.propTypes={entry:b("prop-types").object,onSelect:b("prop-types").func,renderHighlight:b("prop-types").func};e.exports=a}),null);
__d("PageCustomerSearchViewItem.react",["cx","Image.react","PagesManagerInboxCustomerSearchableEntry","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=32;function i(a){var c=b("React").jsx(b("Image.react"),{className:"_4ul-",height:h,src:a.entry.getURI(),width:h});if(a.entry instanceof b("PagesManagerInboxCustomerSearchableEntry")){a=a.entry.getPlatform();return b("React").jsxs("div",{className:"_7yyd"+(a==="FACEBOOK"?" _5m15":"")+(a==="INSTAGRAM"?" _5m16":""),height:h,width:h,children:[c,b("React").jsx("div",{className:"_5m17",children:b("React").jsx("div",{className:"_5m18"})})]})}return c}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c,d=this.props.entry;return(c=b("React")).jsxs("li",{className:"_7znk","data-testid":"customer_search_row_card",onMouseDown:function(b){return a.props.onSelect(d,b)},children:[c.jsx(i,{entry:d}),c.jsxs("div",{className:"_7zlb",children:[this.props.renderHighlight(d.getTitle()),c.jsx("div",{className:Boolean(d.getSubtitle())?"_7zlc":"",children:d.getSubtitle()})]})]},d.getUniqueID())};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerSearchResultRenderer.react",["ix","cx","fbt","Image.react","PageCustomerSearchViewItem.react","PageCustomLabelsTypeaheadViewItem.react","PagesManagerAction","PagesManagerInboxCometUtil","PagesManagerInboxCustomLabelSearchableEntry","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerStore","PagesMessagingInboxActionLogger","React","ScrollableArea.react","ShimButton.react","TextSearchUtil","WIGProgressIndicator.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=b("PagesManagerInboxFilterStore").getActiveType();b("PagesManagerAction").clearViewListItem();b("PagesManagerInboxFilterAction").changeSearchTerm(d.props.queryString.toString());b("PagesManagerInboxFilterAction").changeSearchType("CONTENT");b("PagesManagerInboxLogger").logContentSearchClicked("CONTENT",!0);b("PagesMessagingInboxActionLogger").logSearchResultClicked("content_search_clicked",a,d.props.queryString,"CONTENT")},d.$2=function(a){var c=a;d.props.queryString&&(c=b("TextSearchUtil").getTokens(a.toString(),d.props.queryString.toString()).map(function(a,c){return a.isHighlighted?b("React").jsx("span",{className:"_7znl",children:a.text},c):a.text}));return b("React").jsx("span",{children:c})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=[],d=[];this.props.entries.map(function(e){e instanceof b("PagesManagerInboxCustomLabelSearchableEntry")?c.push(b("React").jsx(b("PageCustomLabelsTypeaheadViewItem.react"),{entry:e,onSelect:a.props.onSelect,renderHighlight:a.$2},e.getUniqueID())):!!e.getURI()===!0&&d.push(b("React").jsx(b("PageCustomerSearchViewItem.react"),{entry:e,onSelect:a.props.onSelect,renderHighlight:a.$2},e.getUniqueID()))});var e=c.length>0?b("React").jsx("div",{className:"_7zk3","data-testid":"labelsSection_header",children:i._("LABELS")}):null,f=d.length===0&&b("PagesManagerInboxFilterStore").getIsPeopleSearchLoading();f=d.length>0||f?b("React").jsxs("div",{className:"_7zk3","data-testid":"customerSection_header",children:[i._("PEOPLE"),f&&b("React").jsx(b("WIGProgressIndicator.react"),{})]}):null;var h=this.props.queryString.trim().length>2?b("React").jsx(b("ShimButton.react"),{onMouseDown:this.$1,children:b("React").jsxs("div",{className:"_7zl7","data-testid":"contentSearchSection_header",children:[b("React").jsx("div",{className:"_7zl8",children:b("React").jsx(b("Image.react"),{src:g("515638")})}),i._("Search in Messenger conversations")]})}):null,j=b("PagesManagerStore").getLayoutHeight()-b("PagesManagerStore").getListNavigationHeight();return b("React").jsx(b("ScrollableArea.react"),{maxHeight:j,children:b("React").jsxs("div",{className:"_7zl9"+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?" _8g4e":""),children:[h,b("React").jsx("span",{className:"_7zla"}),f,d,b("React").jsx("span",{className:"_7zla"}),e,c]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderSearchBar.react",["cx","fbt","AbstractTextInput.react","CompositeSearchSource","FacebookAppIDs","FluxContainer","MediaManagerInboxContext.react","MediaManagerInboxQEUtils","PageManagerInboxContentSearchSource","PageManagerInboxCustomLabelSearchSource","PageManagerInboxUnifiedCustomerRelaySearchSource","PagesManagerAction","PagesManagerAdminSearchSource","PagesManagerInboxCometUtil","PagesManagerInboxCustomerSearchableEntry","PagesManagerInboxCustomLabelSearchableEntry","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerInboxSearchTokenRenderer.react","PagesManagerSearchResultRenderer.react","PagesMessagingInboxActionLogger","React","XUITokenizer.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var i=29;function j(a,b){return a.length>b?a.slice(0,b)+"...":a}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(a){__p&&__p();var c=b("PagesManagerInboxFilterStore").getActiveType();if(a instanceof b("PagesManagerInboxCustomLabelSearchableEntry"))b("PagesManagerInboxFilterAction").addCustomLabel(a.getData(),d.props.pageID),b("PagesMessagingInboxActionLogger").logSearchResultClicked("label_search_clicked",c,d.state.searchTerm,"LABEL");else if(!!a.getURI()===!0){b("PagesManagerInboxFilterAction").selectCustomer(a.getUniqueID());b("PagesManagerInboxFilterAction").changeSearchTerm(a.getTitle());b("PagesManagerInboxFilterAction").changeSearchType("CUSTOMER");var e="FACEBOOK";a instanceof b("PagesManagerInboxCustomerSearchableEntry")&&(e=a.getPlatform());b("PagesMessagingInboxActionLogger").logPeopleSearchClicked(c,d.state.searchTerm,"CUSTOMER",e)}else b("PagesManagerInboxFilterAction").changeSearchTerm(a.getTitle()),b("PagesManagerInboxFilterAction").changeSearchType("CONTENT"),b("PagesManagerInboxLogger").logContentSearchClicked("CONTENT",!0)},d.$5=function(a){a instanceof b("PagesManagerInboxCustomLabelSearchableEntry")&&b("PagesManagerInboxFilterAction").removeCustomLabel(a.getData(),d.props.pageID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore")]};c.calculateState=function(){var a;return{searchTerm:(a=b("PagesManagerInboxFilterStore")).getSearchTerm(),activeSearchLabels:a.getCurrentSearchCustomLabels(),pageCustomerID:a.getPageCustomerID(),searchType:a.getSearchType()}};var d=c.prototype;d.$1=function(a){b("PagesManagerInboxFilterStore").getSearchType()==="CONTENT"&&b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").changeSearchTerm(a.target.value)};d.$2=function(){return this.state.searchTerm||this.state.activeSearchLabels&&this.state.activeSearchLabels.length>0?null:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?h._("Search Inbox"):h._("Search")};d.$3=function(){var a;if(this.props.labels)return this.props.labels.toArray();a=((a=this.props.labels)!=null?(a=a.custom_tags)!=null?a.edges:a:a)||[];a=a.map(function(a){return a.node});return a};d.$6=function(){var a=this.context&&this.context.appID;return b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()||a===b("FacebookAppIDs").MEDIA_MANAGER&&b("MediaManagerInboxQEUtils").shouldShowNewDesign()};d.render=function(){var a=b("PagesManagerSearchResultRenderer.react"),c=new(b("PagesManagerAdminSearchSource"))(),d=new(b("CompositeSearchSource"))([new(b("PageManagerInboxUnifiedCustomerRelaySearchSource"))(this.props.pageID,5),b("PageManagerInboxCustomLabelSearchSource").getInstance(this.$3()),new(b("PageManagerInboxContentSearchSource"))()]);c=this.state.searchType==="ADMIN"?c:d;d={useLayer:!0,ViewRenderer:a,TokenRenderer:b("PagesManagerInboxSearchTokenRenderer.react"),maxEntries:200};if(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()&&(this.state.pageCustomerID||this.state.searchType==="CONTENT"))return b("React").jsx(b("AbstractTextInput.react"),{className:"_8f1r",onChange:this.$1,placeholder:this.$2(),value:this.state.searchTerm});if(this.state.pageCustomerID)return b("React").jsx("span",{className:"_22os",children:j(this.state.searchTerm,i)});return this.state.searchType==="CONTENT"?b("React").jsx(b("AbstractTextInput.react"),{className:this.$6()?"_8f1r":"_2dua",onChange:this.$1,placeholder:this.$2(),value:this.state.searchTerm}):b("React").jsx(b("XUITokenizer.react"),{className:this.$6()?"_8f1r":"_2dua",context:this.props.context,entries:this.state.activeSearchLabels,focusedOnInit:!0,hideViewWithEntries:!1,maxEntries:5,onAddEntryAttempt:this.$4,onChange:this.$1,onEnterWithoutSelection:this.$1,onQueryStringChange:this.$1,onRemoveEntryAttempt:this.$5,placeholder:this.$2(),presenter:d,searchSource:c,showEntriesOnFocus:!0,tokenClassName:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"_8h-z":"_22op"})};return c}(b("React").PureComponent);c.contextType=a;e.exports=b("FluxContainer").create(c)}),null);
__d("BulkSelectionThreadAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SELECT:"select",UNSELECT:"unselect"})}),null);
__d("BusinessInboxBulkAdminAssignmentActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_admin_assignment_action_click");e.exports=a}),null);
__d("BusinessInboxBulkAdminAssignmentDialogSubmitFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_admin_assignment_dialog_submit");e.exports=a}),null);
__d("BusinessInboxBulkDeleteActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_delete_action_click");e.exports=a}),null);
__d("BusinessInboxBulkDeleteDialogSubmitFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_delete_dialog_submit");e.exports=a}),null);
__d("BusinessInboxBulkLabelActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_label_action_click");e.exports=a}),null);
__d("BusinessInboxBulkLabelDialogSubmitFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_label_dialog_submit");e.exports=a}),null);
__d("BusinessInboxBulkMarkAsUnreadActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_mark_as_unread_action_click");e.exports=a}),null);
__d("BusinessInboxBulkMoveToFolderActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_move_to_folder_action_click");e.exports=a}),null);
__d("BusinessInboxBulkReplyActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_reply_action_click");e.exports=a}),null);
__d("BusinessInboxBulkReplyDialogSubmitFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_reply_dialog_submit");e.exports=a}),null);
__d("BusinessInboxNuxImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_nux_impression");e.exports=a}),null);
__d("BusinessInboxThreadCheckboxClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_thread_checkbox_click");e.exports=a}),null);
__d("BusinessInboxThreadCheckboxImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_thread_checkbox_impression");e.exports=a}),null);
__d("BusinessInboxThreadCheckboxUpdateValueFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_thread_checkbox_update_value");e.exports=a}),null);
__d("PagesManagerInboxContextCardLabelsTypeaheadRenderer.react",["cx","React","XUICard.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx("ul",{className:"_ke2",children:this.props.entries.map(function(c){return b("React").jsx(h,{entry:c,highlighted:c===a.props.highlightedEntry,onSelect:a.props.onSelect},c.getUniqueID())})})};return c}(b("React").PureComponent);var h=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this,c=this.props.entry;return b("React").jsxs("li",{className:(this.props.highlighted?"_599n":"")+" _ke3",onMouseDown:function(b){return a.props.onSelect(c,b)},children:[b("React").jsx(b("XUICard.react"),{className:"_ke0",style:{backgroundColor:c.getColor()}}),b("React").jsx("span",{style:{flex:1},children:c.getTitle()})]},c.getUniqueID())};return a}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxContextCardLabelsTypeahead.react",["cx","fbt","CustomLabelUtils","PageManagerInboxCustomLabelSearchSource","PagesManagerInboxContextCardLabelsTypeaheadRenderer.react","React","XUITypeahead.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("CustomLabelUtils").TAG_LIMIT,j=3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={query:"",labelError:null},c.$1=function(a){c.setState({query:"",labelError:null}),c.props.onAddLabel(a.getData())},c.$2=function(){var a=c.state.query;c.setState({query:"",labelError:c.props.pageLabelNum>=i?h._("You've reached the 200 labels limit. You can delete labels to add more."):null});c.props.onCreateLabel(a)},c.$3=function(a){c.setState({query:a.target.value,labelError:null})},c.$4=function(a){c.setState({labelError:null})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=h._("Add label...");return b("React").jsx("div",{className:"_ke1",children:b("React").jsx(b("XUITypeahead.react"),{autoHighlight:!0,maxEntries:j,maxLength:this.props.maxLength,onBlur:this.$4,onChange:this.$3,onEnterWithoutSelection:this.$2,onSelectAttempt:this.$1,placeholder:a,presenter:k,queryString:this.state.query,searchSource:b("PageManagerInboxCustomLabelSearchSource").getInstance(this.props.labels),tallInput:!0,viewStyle:"rich",xuiError:this.state.labelError})})};return c}(b("React").PureComponent);a.propTypes={onAddLabel:(c=b("prop-types")).func.isRequired,onCreateLabel:c.func.isRequired,labels:c.array.isRequired,maxLength:c.number,pageLabelNum:c.number};var k={useLayer:!0,ViewRenderer:b("PagesManagerInboxContextCardLabelsTypeaheadRenderer.react")};e.exports=a}),null);
__d("PageCommItemUnreadEditMutation",["RelayFBEnvironment","RelayModern","PageCommItemUnreadEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageCommItemUnreadEditMutation.graphql");function a(a,c){var d=function(){var b=a.ids.map(function(a){return{id:a,is_read:!1}});return{page_comm_item_mark_as_unread:{page_comm_items:b}}}();return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.actor_id,ids:a.ids}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("XPagesManagerInboxBulkReplyController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/inbox/bulk_reply/",{})}),null);
__d("XPagesManagerInboxCreateWECGroupController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/inbox/create_wec_group/",{group_name:{type:"String"},mailbox_id:{type:"FBID"},icon_id:{type:"FBID"},request_user_id:{type:"Int"}})}),null);
__d("PagesMangerInboxMultiAdminFilterUtil",[],(function(a,b,c,d,e,f){"use strict";var g="0";a={getIGDirectAdminID:function(a){return a==="NONE"?g:a}};e.exports=a}),null);
__d("PagesManagerInboxListHeaderTopNav.react",["cx","CenteredContainer.react","ErrorBoundary.react","IGMessageDataMutateAction","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxAutomationDoneFolderNUX.react","PagesManagerInboxBulkActionsCancelSelectionButton.react","PagesManagerInboxBulkActionsNavBarContainer.react","PagesManagerInboxBulkSelectionButtonContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxCreateGroupDialog.react","PagesManagerInboxFilterAction","PagesManagerInboxHeaderSelectorFluxContainer.react","PagesManagerInboxListHeaderLeftTopNav.react","PagesManagerInboxListHeaderRightTopNav.react","PagesManagerInboxLogger","PagesManagerInboxStore","PagesMangerInboxMultiAdminFilterUtil","PagesMessagingInboxActionLogger","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="www_pages_inbox_new_folder";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this,c)||this;e.state={shouldShowWECCreateGroupDialog:!1};e.toggleFolderSelector=function(){b("PagesManagerInboxFilterAction").toggleFolderSelector(!e.props.isFolderChangeActive)};e.toggleFilterSelector=function(){b("PagesManagerInboxFilterAction").toggleFilterSelector(!e.props.isFilterChangeActive)};e.$3=function(a){__p&&__p();e.props.isFilterChangeActive&&e.toggleFilterSelector();e.props.isFolderChangeActive&&e.toggleFolderSelector();b("PagesManagerInboxLogger").logFolderChangeClick(e.props.filterType,a);b("PagesManagerInboxLogger").logFolderSwitchClick(e.props.filterType,e.props.folderSelected,a);e.props.folderSelected!==a&&b("PagesManagerAction").clearViewListItem();if(e.props.filterType==="INSTAGRAM_DIRECT"||e.props.shouldShowUnifiedThreadlist){var c;b("IGMessageDataMutateAction").forceFetchInbox(e.props.mailboxID,20,b("PageCommItemStatusUtil").getIGDirectFolder(a),a===b("PageCommItemFolder").FOLLOW_UP,a===b("PageCommItemFolder").UNREAD,(c=b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID((c=e.props.filterOwner)==null?void 0:c.id))!=null?c:null,!1)}b("PagesManagerInboxFilterAction").changeFolder(e.props.pageID,a)};e.onShowWACreateGroupDialog=function(){var a="group_create_dialog_clicked";e.setState(function(){return{shouldShowWECCreateGroupDialog:!0}});b("PagesMessagingInboxActionLogger").logGroupActions("WEC",a)};e.$6=function(){e.setState(function(){return{shouldShowWECCreateGroupDialog:!1}})};return e}var d=c.prototype;d.$2=function(){return!this.props.isFolderChangeActive?null:b("React").jsx(b("PagesManagerInboxHeaderSelectorFluxContainer.react"),{onSelected:this.$3,platform:this.props.filterType,showNewFolder:this.props.showNewFolder,threadsManagementStatus:"FOLDER"})};d.$4=function(){return!this.props.isFilterChangeActive?null:b("React").jsx(b("PagesManagerInboxHeaderSelectorFluxContainer.react"),{onSelected:this.$3,platform:this.props.filterType,showNewFolder:this.props.showNewFolder,threadsManagementStatus:"FILTER"})};d.$5=function(){var a="NONE";this.props.isFilterChangeActive?a="FILTER":this.props.isFolderChangeActive&&(a="FOLDER");return b("React").jsx(b("PagesManagerInboxListHeaderLeftTopNav.react"),{allLabels:this.props.allLabels,contextRef:this.$1,filterType:this.props.filterType,folderSelected:this.props.folderSelected,isSearchActive:this.props.isSearchActive,pageID:this.props.pageID,searchType:this.props.searchType,threadsManagementStatus:a,toggleFilterSelector:this.toggleFilterSelector,toggleFolderSelector:this.toggleFolderSelector})};d.$7=function(){var a=Boolean(this.props.isBulkSelectionMode);return b("React").jsxs("div",{className:"_3qn7 _3qng",children:[!a&&b("React").jsx(b("PagesManagerInboxListHeaderRightTopNav.react"),{filterType:this.props.filterType,folderSelected:this.props.folderSelected,isFilterChangeActive:this.props.isFilterChangeActive,isFolderChangeActive:this.props.isFolderChangeActive,isSearchActive:this.props.isSearchActive,onShowWACreateGroupDialog:this.onShowWACreateGroupDialog,pageID:this.props.pageID,searchType:this.props.searchType,selectedCustomerID:this.props.selectedCustomerID,shouldShowCometNewDesign:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign(),showNewFolderNux:b("PagesManagerInboxStore").shouldShowNUX(h),toggleFilterSelector:this.toggleFilterSelector}),this.$8(a)]})};d.$8=function(a){var c;return Boolean(this.props.allowBulkSelection)?b("React").jsxs(b("React").Fragment,{children:[a&&b("React").jsx(b("PagesManagerInboxBulkActionsNavBarContainer.react"),{folderSelected:this.props.folderSelected,selectedThreads:(c=this.props.selectedThreadsCount)!=null?c:0}),b("React").jsx(b("PagesManagerInboxBulkSelectionButtonContainer.react"),{active:a,selectedThreads:(c=this.props.selectedThreadsCount)!=null?c:0})]}):null};d.render=function(){var a=this,c=null;!Boolean(this.props.isBulkSelectionMode)?c=this.$5():c=b("React").jsx(b("PagesManagerInboxBulkActionsCancelSelectionButton.react"),{});var d=b("React").jsxs(b("CenteredContainer.react"),{className:"_83i",fullHeight:!0,horizontal:!1,vertical:!0,children:[this.$7(),b("React").jsx(b("PagesManagerInboxCreateGroupDialog.react"),{isShown:this.state.shouldShowWECCreateGroupDialog,mailboxID:this.props.mailboxID,onHide:this.$6,pageID:this.props.pageID})]});return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsxs("div",{children:[b("React").jsxs("div",{className:"_83e","data-testid":"inboxListTopNav",children:[b("React").jsxs(b("CenteredContainer.react"),{className:"_83f",fullHeight:!0,horizontal:!1,vertical:!0,children:[c,b("React").jsx(b("PagesManagerInboxAutomationDoneFolderNUX.react"),{contextRef:function(){return a.$1}})]}),d]}),this.$2(),this.$4(),b("React").jsx("div",{ref:function(b){return a.$1=b}})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListLoading.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=4;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=[];for(var c=0;c<this.props.count;c++)a.push(this.$1(c));return b("React").jsx("div",{style:{height:this.props.height},children:a})};d.$1=function(a){var c;return(c=b("React")).jsx("div",{className:"_2dqm",children:c.jsxs("div",{className:"_2iwq _2dqn",children:[c.jsx("div",{className:"_2iwr"}),c.jsx("div",{className:"_2iws"}),c.jsx("div",{className:"_2iwt"}),c.jsx("div",{className:"_2iwu"}),c.jsx("div",{className:"_2iww"}),c.jsx("div",{className:"_2iwx"})]})},"rowPlaceholder"+a)};return c}(b("React").PureComponent);c.defaultProps={count:a};e.exports=c}),null);
__d("MediaManagerInboxListRowIconConfig",["ix","asset"],(function(a,b,c,d,e,f,g){"use strict";b=(a={},a.TOP_FAN={name:"TOP_FAN",iconAsset:g("1148120")},a.VERIFIED_ACCOUNT={name:"VERIFIED_ACCOUNT",iconAsset:g("510733")},a);e.exports=b}),null);
__d("CreatorStudioInboxMessengerRankedUsersActionTypes",["PagesManagerActionType","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:"",SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:"",REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:"",DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER:"",SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR:""});c=babelHelpers["extends"]({},a,b("PagesManagerActionType"));e.exports=c}),null);
__d("CreatorStudioInboxMessengerRankedUsersAction",["CreatorStudioInboxMessengerRankedUsersActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a={fetchCreatorStudioInboxMessengerRankedUsersData:function(){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA})},setCreatorStudioInboxMessengerRankedUsersData:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,pageID:a,data:c})},refreshCreatorStudioInboxMessengerRankedUsersData:function(a){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,pageID:a})},deleteCreatorStudioInboxMessengerRankedUser:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER,pageID:a,userID:c})},setCreatorStudioInboxMessengerRankedUsersError:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR,pageID:a,error:c})}};e.exports=a}),null);
__d("CreatorStudioInboxMessengerRankedUsersDataTypes",["ImmutableRecordWithV4Types","filterNulls","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;var g=a({rankedUsers:[]}),h=function(a){a=a.rankedUsers;return g({rankedUsers:a})};c=function(a){a=a==null?void 0:(a=a.messenger_ranked_users)==null?void 0:a.edges;if(a==null)return h({rankedUsers:b("immutable").List()});a=b("filterNulls")(a.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.id}));return h({rankedUsers:b("immutable").List(a)})};e.exports={createCreatorStudioInboxMessengerRankedUsersData:h,createCreatorStudioInboxMessengerRankedUsersDataFromRawData:c}}),null);
__d("CreatorStudioInboxMessengerRankedUsersStore",["CreatorStudioInboxMessengerRankedUsersAction","CreatorStudioInboxMessengerRankedUsersActionTypes","CreatorStudioInboxMessengerRankedUsersDataTypes","FluxLoadObjectStore","MercuryIDs","MessengerState.re","PageCommItemFolder","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","immutable","promiseDone","setImmediate","CreatorStudioInboxMessengerRankedUsersStoreQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("CreatorStudioInboxMessengerRankedUsersDataTypes").createCreatorStudioInboxMessengerRankedUsersData,i=b("CreatorStudioInboxMessengerRankedUsersDataTypes").createCreatorStudioInboxMessengerRankedUsersDataFromRawData,j=b("RelayModern").fetchQuery;b("RelayModern").graphql;var k=g!==void 0?g:g=b("CreatorStudioInboxMessengerRankedUsersStoreQuery.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.__isLoading=!0;return c}var d=c.prototype;d.getRankedUserMercuryThreadPayloadList=function(a){var c=this.getRankedUserIDs(a),d=[];c.forEach(function(c){c=b("MercuryIDs").getThreadIDFromUserID(c);c=b("MessengerState.re").getThreadMetaNow(a,c);c&&d.push(c)});return d};d.getRankedUserMercuryThreadPayloadListForAdmin=function(a,c){a=this.getRankedUserMercuryThreadPayloadList(a);var d=b("PagesManagerInboxFilterStore").getActiveFolder();d===b("PageCommItemFolder").FOLLOW_UP&&(a=a.filter(function(a){return a.comm_status&&a.comm_status.toUpperCase()===b("PageCommItemFolder").FOLLOW_UP}));c==="NONE"?a=a.filter(function(a){return a.comm_item_owners&&!a.comm_item_owners.nodes[0]}):c!=null&&(a=a.filter(function(a){return((a=a)!=null?(a=a.comm_item_owners)!=null?(a=a.nodes)!=null?(a=a[0])!=null?(a=a.admin)!=null?a.id:a:a:a:a:a)===c}));return a};d.getRankedUserIDs=function(a){a=this.get(a);a=a.getValue();var b=[];a&&(b=a.rankedUsers.toArray());return b};d.isLoading=function(){return this.__isLoading};d.__getActionTypes=function(){var a;return[this.getActionTypeStartLoad(),(a=b("CreatorStudioInboxMessengerRankedUsersActionTypes")).FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,a.SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,a.REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,a.DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER,a.SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR]};d.reduce=function(a,c){__p&&__p();var d=this;switch(c.type){case b("CreatorStudioInboxMessengerRankedUsersActionTypes").FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:this.__isLoading=!0;return a;case b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:this.__isLoading=!1;return this.__handleOne(a,c.pageID,c.data);case b("CreatorStudioInboxMessengerRankedUsersActionTypes").REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:this.__isLoading=!0;b("setImmediate")(function(){d.__load(c.pageID)});return a;case b("CreatorStudioInboxMessengerRankedUsersActionTypes").DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER:var e=this.get(c.pageID);e=e.getValue();var f=[];if(e){e=e.rankedUsers.toArray();f=e.filter(function(a){return a!==c.userID})}e=h({rankedUsers:b("immutable").List(f)});return this.__handleOne(a,c.pageID,e);case b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR:this.__isLoading=!1;return this.__handleOne(a,c.pageID,c.error);case b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE:f=c.activeFolderFilter===b("PageCommItemFolder").PRIORITY&&b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER";e=c.activeTypeFilter==="MESSENGER"&&b("PagesManagerInboxFilterStore").getActiveFolder()===b("PageCommItemFolder").PRIORITY;(f||e)&&b("setImmediate")(function(){d.__load(c.pageID)});return a;default:return a}};d.__load=function(a){__p&&__p();b("CreatorStudioInboxMessengerRankedUsersAction").fetchCreatorStudioInboxMessengerRankedUsersData();if(a==null){b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersError(a,new Error("Null ID"));return}b("promiseDone")(l(a),function(c){try{c=i(c);b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersData(a,c)}catch(c){b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersError(a,c)}},function(c){b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersError(a,c)})};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;function l(a){a={pageID:a};return j(b("RelayFBEnvironment"),k,a)}e.exports=new a()}),null);
__d("PageCommItemReadEditMutation",["RelayFBEnvironment","RelayModern","PageCommItemReadEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageCommItemReadEditMutation.graphql");function a(a,c){var d=a.ids.map(function(a){return{id:a,is_read:!0}});d={page_comm_item_mark_as_read:{page_comm_items:d}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.actor_id,ids:a.ids}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PageCommItemStatusEditMutation",["PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListAction","RelayFBEnvironment","RelayModern","RelayRuntime","PageCommItemStatusEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PageCommItemStatusEditMutation.graphql");function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.actor_id);if(!d)return;a.ids.forEach(function(e){__p&&__p();var f=c.get(e);if(!f)return;f.setValue(a.status,"comm_status");var g=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:a.oldValue,with_comm_platform:f.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});g&&h.deleteNode(g,e);g=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:a.status,with_comm_platform:f.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});if(g){e=h.createEdge(c,g,f,"PageCommItemsEdge");h.insertEdgeAfter(g,e)}})},e=function(){a.isViewing&&b("PagesManagerAction").clearViewListItem(),c&&c.onSuccess()};a.isUndo||b("PagesManagerInboxListAction").itemFolderChange(a.ids,a.status,a.oldValue);return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:a.isUndo?void 0:d,updater:d,variables:{input:{actor_id:a.actor_id,ids:a.ids,reminder_time:a.reminderTime,status:a.status}},onCompleted:e,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("XMessagingSetPreferencesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/preferences/",{send_on_enter:{type:"Bool",defaultValue:!1}})}),null);
__d("PagesManagerInboxActionContainer.react",["CreatorStudioInboxMessengerRankedUsersAction","CreatorStudioInboxMessengerRankedUsersStore","FluxContainer","MediaManagerInboxContext.react","MediaManagerUtils","MercuryIDs","MessagingTag","PageCommItemActionType","PageCommItemFolder","PageCommItemReadEditMutation","PageCommItemStatus","PageCommItemStatusEditMutation","PageCommItemStatusUtil","PageCommItemUnreadEditMutation","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListStore","PagesManagerInboxLogger","PagesManagerInboxMercuryUtil","PagesManagerInboxStore","PagesManagerMessagesInterface","PagesManagerMessagingThreadlistAction","PagesManagerStore","React","RelayModern","emptyFunction","nullthrows","PagesManagerInboxActionContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){b("PagesManagerInboxLogger").itemStatusChanged(b("nullthrows")(d.props.item.id),d.props.item.comm_type,a);b("PagesManagerInboxLogger").itemStatusChangedInHeader(b("nullthrows")(d.props.item.id),d.props.item.comm_type,a,d.state.commItemFolder);var e=d.state.pageID;b("PagesManagerInboxMercuryUtil").shouldUseMercury()?d.$2(d.props.item,a):e!=null&&b("PageCommItemStatusEditMutation").commit({ids:[b("nullthrows")(d.props.item.id)],actor_id:e,isViewing:d.state.viewingItem===d.props.item.id,oldValue:d.props.item.comm_status,reminderTime:c,status:a});d.context&&d.context.logMarkStatusActions!==b("emptyFunction")&&d.context.logMarkStatusActions(b("nullthrows")(d.props.item.id),d.state.commPlatform,d.props.mediaManagerInboxRowIndex,d.state.commItemFolder,a)},d.$3=function(a){var c=d.state.pageID;if(c!=null){var e=b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(d.props.item.target_id));a===b("PageCommItemActionType").MARK_READ?(b("PagesManagerMessagesInterface").changeThreadReadStatus(c,e,!0),b("PageCommItemReadEditMutation").commit({ids:[b("nullthrows")(d.props.item.id)],actor_id:c})):a===b("PageCommItemActionType").MARK_UNREAD&&(b("PagesManagerMessagesInterface").changeThreadReadStatus(c,e,!1),b("PageCommItemUnreadEditMutation").commit({ids:[b("nullthrows")(d.props.item.id)],actor_id:c}));e=d.state.commItemFolder===b("PageCommItemFolder").PRIORITY&&b("MediaManagerUtils").isMediaManagerApp();e&&b("CreatorStudioInboxMessengerRankedUsersAction").refreshCreatorStudioInboxMessengerRankedUsersData(c)}d.context&&d.context.logMarkReadStatusActions!==b("emptyFunction")&&(a===b("PageCommItemActionType").MARK_READ||a===b("PageCommItemActionType").MARK_UNREAD)&&d.context.logMarkReadStatusActions(b("nullthrows")(d.props.item.id),d.state.commPlatform,d.state.commItemFolder,a,d.props.mediaManagerInboxRowIndex)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxListStore"),b("CreatorStudioInboxMessengerRankedUsersStore")]};c.calculateState=function(a,c){__p&&__p();c=b("PagesManagerInboxFilterStore").getActiveType();var d=null,e=[],f=!1,g=!1,h=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(h!=null){var i;d=(i=h.pageConfig)==null?void 0:i.pageID;f=Boolean((i=h.messengerConfig)==null?void 0:i.showDeleteConversationButton);g=Boolean((i=h.messengerConfig)==null?void 0:i.isBackgroundFolderEnabled)}else{h=b("PagesManagerInboxStore").getConfig();d=h.pageID;f=h.platformConfigs.MESSENGER;g=h.platformConfigs.MESSENGER.isBackgroundFolderEnabled}f=f&&c==="MESSENGER";i=c==="MESSENGER"?b("PagesManagerInboxFilterStore").getActiveOwner().id:null;if(d!=null){h=(a==null?void 0:a.commItemFolder)===b("PageCommItemFolder").PRIORITY&&b("MediaManagerUtils").isMediaManagerApp();h?e=b("CreatorStudioInboxMessengerRankedUsersStore").getRankedUserMercuryThreadPayloadListForAdmin(d,i).filter(function(a){return a.thread_fbid===b("PagesManagerStore").getViewingListItem()}):e=b("PagesManagerInboxListStore").getItemsForAdmin(d,i).filter(function(a){return a.thread_fbid===b("PagesManagerStore").getViewingListItem()})}return{pageID:d,viewingItem:b("PagesManagerStore").getViewingListItem(),commItemFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),shouldShowDeleteButton:f,commPlatform:c,viewingThreadItem:e,backgroundFolderEnabled:g}};var d=c.prototype;d.$2=function(a,c){__p&&__p();var d=a.thread_id,e=a.thread_fbid,f=null;this.state.commPlatform==="WEC"&&(f=b("PagesManagerInboxStore").getMailboxID(this.state.commPlatform));a.thread_id===void 0&&(d=b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(this.props.item.target_id)),e=b("nullthrows")(this.props.item.target_id));var g=this.state.commItemFolder===b("PageCommItemFolder").PRIORITY&&b("MediaManagerUtils").isMediaManagerApp();switch(c){case b("PageCommItemStatus").DONE:this.state.backgroundFolderEnabled?b("PagesManagerMessagesInterface").changeThreadFolderToBackground(b("nullthrows")(this.state.pageID),d,a.comm_status):this.state.pageID!=null&&b("PagesManagerMessagesInterface").changeThreadFolderToDone(this.state.pageID,d,a.comm_status,g);this.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;case b("PageCommItemStatus").TODO:this.state.pageID!=null&&b("PagesManagerMessagesInterface").changeThreadFolderToInbox(this.state.pageID,d,e,a.comm_status,this.state.backgroundFolderEnabled);break;case b("PageCommItemStatus").FOLLOW_UP:this.state.pageID!=null&&b("PagesManagerMessagesInterface").markThreadAsFollowUp(this.state.pageID,d,e,!0,a.comm_status,g);break;case b("PageCommItemStatus").SPAM:this.state.pageID!=null&&b("PagesManagerMessagesInterface").markThreadAsSpam(this.state.pageID,[d],b("MessagingTag").OTHER,b("PageCommItemStatus").SPAM,a.comm_status,a.folder,a.is_archived,g);this.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;case b("PageCommItemStatus").DELETED:this.state.pageID!=null&&b("PagesManagerMessagesInterface").markThreadAsDeleted(this.state.pageID,d,f,g);this.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;default:break}this.state.pageID!=null&&b("PagesManagerMessagingThreadlistAction").updateThreadlist(this.state.pageID)};d.render=function(){var a=this.props,c=a.ChildActionClass;a=babelHelpers.objectWithoutPropertiesLoose(a,["ChildActionClass"]);var d=b("PageCommItemStatusUtil").getFolderQECheck();if(d){return b("React").jsx(c,babelHelpers["extends"]({},a,{actionParam:b("PageCommItemStatusUtil").getActionParam(this.state.commPlatform,this.state.commItemFolder,this.state.shouldShowDeleteButton,this.state.viewingThreadItem[0]),onReadStatusChange:this.$3,onStatusChange:this.$1,userID:(d=this)!=null?(d=d.props)!=null?(d=d.item)!=null?(d=d.page_customer)!=null?(d=d.user)!=null?d.id:d:d:d:d:d}))}return b("React").jsx(c,babelHelpers["extends"]({},a,{actionParam:b("PageCommItemStatusUtil").getActionParam(this.state.commPlatform,this.state.commItemFolder,this.state.shouldShowDeleteButton,this.props.item),onReadStatusChange:this.$3,onStatusChange:this.$1,userID:(d=this)!=null?(d=d.props)!=null?(d=d.item)!=null?(d=d.page_customer)!=null?(d=d.user)!=null?d.id:d:d:d:d:d}))};return c}(b("React").PureComponent);d.contextType=a;f=b("FluxContainer").create(d,{withProps:!0});e.exports={PagesManagerInboxActionContainerInner:f,PagesManagerInboxActionContainer:c(f,{item:g!==void 0?g:g=b("PagesManagerInboxActionContainer_item.graphql")})}}),null);
__d("PagesManagerInboxListRowAction.react",["cx","Link.react","PageCommItemFolder","PageCommItemStatus","PageCommItemStatusUtil","PagesManagerInboxMercuryUtil","React","Tooltip"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=2e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){this.props.onStatusChange.call(this.props.onStatusChange,a)};d.render=function(){var a=this;return b("React").jsxs("div",{className:this.props.className,onClick:function(a){return a.stopPropagation()},role:"grid",tabIndex:-1,children:[this.props.actionParam.showDone?b("React").jsx(b("Link.react"),{onClick:function(){return a.$1(b("PageCommItemStatus").DONE)},children:b("React").jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemFolder").DONE),"right"),{className:"_4ocz _2x0y","data-tooltip-delay":h,children:b("React").jsx("div",{className:"_18am"})}))}):null,this.props.actionParam.showInbox?b("React").jsx(b("Link.react"),{onClick:function(){return a.$1(b("PageCommItemStatus").TODO)},children:b("React").jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemFolder").TODO),"right"),{className:"_4ocz","data-tooltip-delay":h,children:b("React").jsx("div",{className:"_2x0z"})}))}):null,this.$2()]})};d.$2=function(){var a=this,c=b("PagesManagerInboxMercuryUtil").shouldUseMercury(),d=c?b("PageCommItemStatusUtil").getStarLabel(b("PageCommItemStatus").FOLLOW_UP):b("PageCommItemStatusUtil").getLabel(b("PageCommItemStatus").FOLLOW_UP);if(!this.props.actionParam.showFollowUp)return null;d=b("React").jsx(b("Link.react"),{onClick:function(){return a.$1(b("PageCommItemStatus").FOLLOW_UP)},children:b("React").jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(d,"right"),{className:"_4ocz"+(c?" _63kh":""),"data-tooltip-delay":h,children:b("React").jsx("div",{className:"_63ki"})}))});return d};return c}(b("React").Component);e.exports=a}),null);
__d("PageCommItemTypeUtil",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={isUserCreated:function(a){switch(a){case"FB_MESSAGE":case"FB_REVIEW":case"FB_USER_POST":case"FB_GROUP_POST":case"FB_RECOMMENDATION":case"IG_MESSAGE":return!0}return!1},toPageCommPlatform:function(a){switch(a){case"FB_MESSAGE":return"MESSENGER";case"INSTAGRAM_POST":return"INSTAGRAM";case"WEC_MESSAGE":return"WEC";default:return"FACEBOOK"}}};e.exports=a}),null);
__d("PagesManagerInboxProfilePic.react",["cx","FBLoadShimmer.react","Image.react","PageCommItemTypeUtil","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="PageCommItemPart";function i(a){return!a.showPlatformBadge?null:b("React").jsx("div",{className:"_5m17",children:b("React").jsx("div",{className:"_5m18"})})}function j(a){if(a.imageURI!==null&&a.imageURI!==void 0&&a.imageURI!=="")return b("React").jsx(b("Image.react"),{className:b("PageCommItemTypeUtil").isUserCreated(a.commType)||a.commType==="FB_PAGE_POST"&&a.topComment?"_1-3q":"",height:a.imageSize,src:a.imageURI,width:a.imageSize});return a.showPlaceholder?b("React").jsx(b("FBLoadShimmer.react"),{height:a.imageSize,style:{borderRadius:a.imageSize+"px"},width:a.imageSize}):null}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return b("React").jsxs("div",{className:"_5m0-"+(this.props.commPlatform==="MESSENGER"||this.props.commPlatform==="MEDIA_MANAGER_PRIORITY"?" _5m10":"")+(this.props.commPlatform==="WEC"?" _7r_8":"")+(this.props.commPlatform==="FACEBOOK"?" _5m15":"")+(this.props.commPlatform==="INSTAGRAM"?" _5m16":"")+(this.props.commPlatform==="INSTAGRAM_DIRECT"?" _6wkq":"")+(this.props.commType==="FB_GROUP_POST"?" _3pik":""),style:{width:this.props.imageSize,height:this.props.imageSize},children:[((a=this.props)!=null?a.profileElement:a)||b("React").jsx(j,{commType:this.props.commType,imageSize:this.props.imageSize,imageURI:this.props.imageURI,showPlaceholder:this.props.showPlaceholder,topComment:this.props.commentType===h}),b("React").jsx(i,{showPlatformBadge:this.props.showPlatformBadge})]})};return c}(b("React").PureComponent);a.defaultProps={showPlaceholder:!1};e.exports=a}),null);
__d("PagesManagerInboxProfilePicContainer.react",["PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","React","RelayModern","nullthrows","PagesManagerInboxProfilePicContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h="/images/pages/wec/wec-group-silhouette.png",i="/images/pages/wec/wec-silhouette.png";c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a,c,d;d=(d=this.props)!=null?(d=d.item)!=null?(d=d.thumbnail)!=null?d.uri:d:d:d;c=b("nullthrows")((c=this.props)!=null?(c=c.item)!=null?c.comm_type:c:c);a=b("nullthrows")((a=this.props)!=null?(a=a.item)!=null?a.comm_platform:a:a);d!=null&&(d.includes("wec-silhouette.png")?d=i:d.includes("wec-group-silhouette.png")&&(d=h));if(this.props.item.page_comm_item){var e;d=(e=this.props.item.page_comm_item.thumbnail)==null?void 0:e.uri}return b("React").jsx(b("PagesManagerInboxProfilePic.react"),{commType:c,commPlatform:a,imageSize:this.props.imageSize,imageURI:d,showPlatformBadge:this.props.showPlatformBadge})};return c}(b("React").PureComponent);c.defaultProps={imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,showPlatformBadge:!0};e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerInboxProfilePicContainer_item.graphql")})}),null);
__d("PagesManagerInboxListRow.react",["ix","cx","fbt","invariant","ErrorBoundary.react","FacebookAppIDs","FacepileRounded.react","FDSCheckboxInput.react","Focus","Image.react","JSResource","Layout.react","LeftRight.react","LineClamp.react","MediaManagerInboxContext.react","MediaManagerInboxListRowIconConfig","MediaManagerInboxQEUtils","MercuryIDs","MercuryThreadTimestampReact.re","MercuryTimestamp","MessengerTextWithEmoticons.react","PageCommItemFolder","PageCommItemStatus","PageCommItemStatusUtil","PagesManagerInboxActionContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxFilterStore","PagesManagerInboxListRowAction.react","PagesManagerInboxLogger","PagesManagerInboxMercuryUtil","PagesManagerInboxMessageActionContainer.react","PagesManagerInboxProfilePicContainer.react","PagesManagerInboxStore","React","TextWithEntities.react","Tooltip","XUIBadge.react","emptyFunction","fbglyph","lazyLoadComponent","nullthrows"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var k=b("MercuryThreadTimestampReact.re").make,l=b("PagesManagerInboxActionContainer.react").PagesManagerInboxActionContainer,m=b("Layout.react").Column,n=b("Layout.react").FillColumn,o=16,p=18,q=20,r=b("lazyLoadComponent")(b("JSResource")("PagesManagerInboxThreadLabelContainer.react").__setRef("PagesManagerInboxListRow.react"));function s(a){__p&&__p();var c=b("PagesManagerInboxStore").getIsMultiAdminEnabled();if(!c)return null;c=(c=a.thread.thread_associated_page_admin)==null?void 0:(c=c.profile_picture)==null?void 0:c.uri;a=(a=a.thread.thread_associated_page_admin)==null?void 0:a.name;var d=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(d!=null){Boolean((d=d.inboxRedesignConfig)==null?void 0:d.shouldShowNewMultiAdminAssignment)}else b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment;return a&&c?b("React").jsxs("span",{className:"_4fyc",children:[b("React").jsx(b("Image.react"),babelHelpers["extends"]({className:"_4fyd",src:c},b("Tooltip").propsFor(a))),b("React").jsx(b("Image.react"),{className:"_4fye",src:g("125812")})]}):null}function t(a){__p&&__p();var c,d=b("PagesManagerInboxStore").getIsMultiAdminEnabled();if(!d||!a.item)return null;d=(d=a.item)==null?void 0:(d=d.comm_item_owners)==null?void 0:(d=d.nodes[0])==null?void 0:(d=d.admin)==null?void 0:(d=d.profile_picture)==null?void 0:d.uri;c=(c=a.item)==null?void 0:(c=c.comm_item_owners)==null?void 0:(c=c.nodes[0])==null?void 0:(c=c.admin)==null?void 0:c.name;var e=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(e!=null){e=Boolean((e=e.inboxRedesignConfig)==null?void 0:e.shouldShowNewMultiAdminAssignment)}else e=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment;if(e&&a.platform==="INSTAGRAM_DIRECT"){d=(e=a.item)==null?void 0:(e=e.assigned_admin)==null?void 0:(e=e.profile_picture)==null?void 0:e.uri;c=(e=a.item)==null?void 0:(a=e.assigned_admin)==null?void 0:a.name}return c&&d?b("React").jsxs("span",{className:"_4fyc",children:[b("React").jsx(b("Image.react"),babelHelpers["extends"]({className:"_4fyd",src:d},b("Tooltip").propsFor(c))),b("React").jsx(b("Image.react"),{className:"_4fye",src:g("125812")})]}):null}function u(a){__p&&__p();var c,d=b("PageCommItemStatusUtil").getFolderQECheck(),e=a.activeFolder===b("PageCommItemFolder").SPAM||a.activeFolder===b("PageCommItemFolder").DONE;if(a.commType==="WEC_MESSAGE"||a.shouldShowIGRevampComments)c=null;else if(a.badgeCount>1&&!a.shouldShowIGRevampComments&&(a.commType==="FB_PAGE_POST"||a.commType==="FB_AD_POST"||a.commType==="INSTAGRAM_POST"||a.commType==="FB_GROUP_POST"))c=b("React").jsx(b("XUIBadge.react"),{className:"_24d_",count:a.badgeCount});else if(a.activeFolder&&a.activeFolder===b("PageCommItemFolder").DONE||a.commStatus===b("PageCommItemStatus").DONE&&!b("PagesManagerInboxMercuryUtil").shouldUseMercury())c=b("React").jsx("div",{className:"_za4"});else if(a.activeFolder&&a.activeFolder===b("PageCommItemFolder").FOLLOW_UP||a.commStatus===b("PageCommItemStatus").FOLLOW_UP||d&&((d=a.item)==null?void 0:d.is_follow_up)&&!e)b("PagesManagerInboxMercuryUtil").shouldUseMercury()?c=b("React").jsx("div",{className:"_i65"}):c=b("React").jsx("div",{className:"_4thl"});else return null;return b("React").jsx("div",{className:"_za5",children:c})}function v(a){return a.profilePicElement?a.profilePicElement:b("React").jsx(b("PagesManagerInboxProfilePicContainer.react"),{item:b("nullthrows")(a.item)})}function w(a,c){if(c.inline_style==="BOLD")return b("React").jsx("span",{className:"_1t5i",children:a});c=c.entity_with_image&&c.entity_with_image.image&&c.entity_with_image.image.uri;return c?b("React").jsx(b("Image.react"),{className:"_1t5n",src:c}):a}function x(a){a.snippetWithEntities&&a.snippetElement&&j(0,1607);if(a.snippetElement)return a.snippetElement;if(!a.snippetWithEntities)return null;return a.commPlatform==="MESSENGER"?b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoji:!0,renderEmoticons:!0,text:a.snippetWithEntities.text}):b("React").jsx(b("TextWithEntities.react"),{imageRanges:a.snippetWithEntities.image_ranges,inlineStyleRanges:a.snippetWithEntities.inline_style_ranges,interpolator:w,renderEmoji:!0,text:a.snippetWithEntities.text})}function y(a){a.title&&!a.titleElement||!a.title&&a.titleElement||j(0,1608);return a.titleElement?a.titleElement:b("React").jsx("span",{children:z(a.title)})}function z(a){return a?a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(b)}):null}function A(a){return!(a.showActions&&a.item)?null:b("PagesManagerInboxMercuryUtil").shouldUseMercury()?b("React").jsx(b("PagesManagerInboxMessageActionContainer.react"),{ChildActionClass:b("PagesManagerInboxListRowAction.react"),className:"_4a51",commPlatform:a.commPlatform,item:b("nullthrows")(a.item),mediaManagerInboxRowIndex:a.mediaManagerInboxRowIndex,pageID:a.pageID}):b("React").jsx(l,{ChildActionClass:b("PagesManagerInboxListRowAction.react"),className:"_4a51",item:b("nullthrows")(a.item),mediaManagerInboxRowIndex:a.mediaManagerInboxRowIndex,pageID:a.pageID})}function B(a){__p&&__p();var c;if(!a.shouldRenderRowIcon||a.icons==null)return null;var d=b("React").jsx("div",{style:{height:20,width:20}});if(((c=a.icons)==null?void 0:c.length)!==0){c=a.icons.map(function(a){a=b("MediaManagerInboxListRowIconConfig")[a];return{name:a.name,image_src:a.iconAsset}});d=b("React").jsx(b("FacepileRounded.react"),{imageSize:16,profiles:c})}return b("React").jsx(m,{className:"_8lx9","data-testid":"creator_studio_top_comments_icons_column",children:d})}c=40;d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$5=function(a){d.$4=a};d.$6=function(){return d.$4};d.$1=d.$3.bind(babelHelpers.assertThisInitialized(d));c=b("PagesManagerInboxFilterStore").getActiveType();d.$2=!1;if(c==="MESSENGER"){var e=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];d.$2=Boolean(e.showReplyInsignia)&&c==="MESSENGER"}return d}var d=c.prototype;d.componentDidMount=function(){if(this.context&&this.context.logRowImpression!==b("emptyFunction")){var a;this.context.logRowImpression(this.props.commPlatform==="MESSENGER"?(a=this.props.item)==null?void 0:a.thread_fbid:(a=this.props.item)==null?void 0:a.id,this.props.commPlatform,this.props.rowIndex,this.props.activeFolder)}};d.$7=function(){var a,c=this.props.badgeCount;if(!this.props.shouldShowIGRevampComments||((a=this.props.item)==null?void 0:a.is_read)||c===0)return null;a=c>q?q.toString()+"+":c.toString();return b("React").jsx("div",{className:"_86fv",children:i._("{unread number} unread",[i._param("unread number",a)])})};d.$8=function(a,b){__p&&__p();var c={},d=[];for(var e=0;e<a.length;e++){var f;f=(f=a[e])==null?void 0:f.name;f!=null&&c[f]!==!0&&(c[f]=!0,d[d.length]=a[e])}for(var f=0;f<b.length;f++){a=(e=b[f])==null?void 0:e.name;a!=null&&c[a]!==!0&&(c[a]=!0,d[d.length]=b[f])}return d};d.$9=function(a){a.stopPropagation()};d.$3=function(a,b){b=(b=this.props.selectionConfig)==null?void 0:b.onSelectionToggle;b&&b(a)};d.$10=function(){var a=this.context&&this.context.appID;return a===b("FacebookAppIDs").MEDIA_MANAGER&&b("MediaManagerInboxQEUtils").shouldShowNewDesign()};d.$11=function(){var a;if(!this.$2)return!1;else if(Boolean(this.props.hasPageReplied))return!0;a=(a=this.props.item)==null?void 0:a.snippet_sender;return a==null||!b("MercuryIDs").isValid(a)?!1:b("MercuryIDs").getUserIDFromParticipantID(a)===this.props.pageID};d.render=function(){__p&&__p();var a,c,d,e=this.props.commType==="FB_GROUP_POST",f=null;f=this.props.labels?this.props.labels:this.$8(((a=this.props.item)==null?void 0:(a=a.page_thread_info)==null?void 0:a.customLabels)||[],((a=this.props.item)==null?void 0:(a=a.page_thread_info)==null?void 0:a.customTags)||[]);a=null;switch(this.props.commPlatform){case"WEC":a="wec_thread_list";break;case"MESSENGER":a="messenger_thread_list_row";break;case"FACEBOOK":a="facebook_post_list_row_item";break}c=Boolean((c=this.props)==null?void 0:(c=c.selectionConfig)==null?void 0:c.enabled);d=Boolean((d=this.props)==null?void 0:(d=d.selectionConfig)==null?void 0:d.selected);var g=this.$11();return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsxs("div",{className:"_4k8w"+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"":" _8gcz")+" _75ux"+(this.props.showActions?" _5_n1":"")+(this.props.isViewing?" _2tms":"")+(this.props.isRead?"":" _284c")+(this.props.shouldAnimate?" _3_40":"")+(this.props.commPlatform==="INSTAGRAM"?" _5m16":"")+(this.props.commPlatform==="FACEBOOK"||this.props.commPlatform==="MEDIA_MANAGER_FB_COMMS"?" _5m15":"")+(this.props.commPlatform==="MESSENGER"?" _5m10":"")+(this.props.commPlatform==="WEC"?" _7r_8":"")+(this.props.commPlatform==="INSTAGRAM_DIRECT"?" _6wkq":""),"data-testid":a,onClick:this.props.onViewingListItem,onMouseDown:function(a){return b("Focus").setWithoutOutline(a.target)},role:"presentation",children:[b("React").jsxs(b("Layout.react"),{className:"_6yv6","data-testid":"search_label_result_list",children:[b("React").jsx(B,{icons:this.props.icons,shouldRenderRowIcon:this.$10()}),b("React").jsx(m,{className:"_11eh",children:b("React").jsx(v,{item:this.props.item,profilePicElement:this.props.profilePicElement})}),b("React").jsxs(n,{children:[b("React").jsxs(n,{className:"_284g",children:[b("React").jsx("div",{className:"_4k8x",children:b("React").jsxs(b("LineClamp.react"),{lineHeight:o,lines:e?2:1,children:[this.props.item!=null&&this.props.commPlatform==="MESSENGER"&&this.props.shouldUseMessengerStateForAdminAssignment?b("React").jsx(s,{pageID:this.props.pageID,thread:this.props.item}):b("React").jsx(t,{item:this.props.item,pageID:this.props.pageID,platform:this.props.commPlatform}),b("React").jsx(y,{title:this.props.title,titleElement:this.props.titleElement})]})}),b("React").jsxs("div",{className:"_4k8y",children:[this.props.subtitle&&!f?b("React").jsx(b("TextWithEntities.react"),{className:"_2dmv",imageRanges:(a=this.props)!=null?(a=a.subtitle)!=null?a.image_ranges:a:a,inlineStyleRanges:(e=this.props)!=null?(e=e.subtitle)!=null?e.inline_style_ranges:e:e,interpolator:w,renderEmoji:!0,text:(a=this.props)!=null?(a=a.subtitle)!=null?a.text:a:a}):null,b("React").jsx(b("LineClamp.react"),{lineHeight:p,lines:1,children:b("React").jsx(x,{commPlatform:this.props.commPlatform,snippetElement:this.props.snippetElement,snippetWithEntities:this.props.shouldShowIGRevampComments?this.props.igRevampSnippetWithEntities:this.props.snippetWithEntities})}),this.$7(),this.props.second_subtitle?b("React").jsx(b("LineClamp.react"),{lineHeight:p,lines:1,children:b("React").jsx(b("TextWithEntities.react"),{imageRanges:(e=this.props)!=null?(e=e.second_subtitle)!=null?e.image_ranges:e:e,inlineStyleRanges:(a=this.props)!=null?(a=a.second_subtitle)!=null?a.inline_style_ranges:a:a,renderEmoji:!0,text:(e=this.props)!=null?(e=e.second_subtitle)!=null?e.text:e:e})}):null]})]}),b("React").jsxs(m,{className:"_11ei",children:[b("React").jsxs("div",{className:c?"_8gnh":"",children:[b("React").jsxs("div",{className:"_4ugl",children:[isNaN(this.props.timestampInMS)?null:b("React").jsx("div",{className:"_5hhj",children:b("React").jsx(k,{text:b("MercuryTimestamp").getRelativeTimestamp(this.props.timestampInMS),time:this.props.timestampInMS,title:(a=b("MercuryTimestamp").getAbsoluteTimestamp(this.props.timestampInMS))!=null?a:void 0})}),b("React").jsx(u,{activeFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),badgeCount:this.props.badgeCount,commStatus:this.props.commStatus,commType:this.props.commType,item:this.props.item,shouldShowIGRevampComments:this.props.shouldShowIGRevampComments})]}),b("React").jsx(A,{commPlatform:this.props.commPlatform,item:this.props.item,mediaManagerInboxRowIndex:this.props.rowIndex,pageID:this.props.pageID,showActions:this.props.showActions}),!this.props.showActions&&this.props.item&&this.props.item.parent_comm_item_photo_preview?b("React").jsx(b("Image.react"),{className:"_7-24",src:(e=this.props.item)==null?void 0:(a=e.parent_comm_item_photo_preview)==null?void 0:a.uri}):null]}),c&&b("React").jsx("div",{className:"_8ic-",onClick:this.$9,role:"presentation",children:b("React").jsx(b("FDSCheckboxInput.react"),{label:"",onChange:this.$1,value:d})})]}),b("React").jsxs(b("LeftRight.react"),{direction:"left",children:[g?b("React").jsx("div",{className:"_8mf0"}):null,f?b("React").jsx(b("React").Suspense,{fallback:null,children:b("React").jsx(r,{hoverContextRef:this.$6,labels:f,setupHoverContextRef:this.$5,shouldShowCometNewDesign:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()})}):null]})]})]}),this.props.isViewing?b("React").jsx("div",{className:"_5z5s"}):null,this.props.shouldAnimate?b("React").jsx("div",{className:"_3_42",style:{backgroundColor:this.props.commStatus?b("PageCommItemStatusUtil").getColor(this.props.commStatus):void 0}}):null]})})};return c}(b("React").PureComponent);d.defaultProps={imageSize:c,shouldAnimate:!1,showActions:!0,badgeCount:0,shouldShowIGRevampComments:!1};d.contextType=a;e.exports=d}),null);
__d("SUIPagesManagerSpinnerUniform",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";a={activeColor:"#4080ff",backgroundColor:"#e2e9f9",darkActiveColor:"#FFFFFF",darkBackgroundColor:"rgba(255, 255, 255, 0.4)",sizes:{large:{border:4,diameter:72},small:{border:2,diameter:36}}};e.exports=a}),null);
__d("SUIPagesManagerTheme",["SUIPagesManagerSpinnerUniform","SUITheme"],(function(a,b,c,d,e,f){"use strict";a=new(b("SUITheme"))({id:"pages_manager",components:{SUISpinner:b("SUIPagesManagerSpinnerUniform")}});e.exports=a}),null);
__d("PagesManagerInboxListSpinner.react",["cx","CenteredContainer.react","React","SUIPagesManagerTheme","SUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("CenteredContainer.react"),{className:"_108x",vertical:!0,children:b("React").jsx(b("SUISpinner.react"),{size:"small",theme:b("SUIPagesManagerTheme")})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxOldListHeaderTopNav.react",["cx","fbt","CenteredContainer.react","Image.react","Link.react","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxAwayToggleRoot.react","PagesManagerInboxBulkActionsCancelSelectionButton.react","PagesManagerInboxBulkActionsNavBarContainer.react","PagesManagerInboxBulkSelectionButtonContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxCreateGroupDialog.react","PagesManagerInboxFilterAction","PagesManagerInboxHeaderSelectorFluxContainer.react","PagesManagerInboxHeaderTopNavNUXFluxContainer.react","PagesManagerInboxListHeaderSearchBar.react","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerInboxTopNavCreateWAButtonContainer.react","PagesMessagingInboxActionLogger","React","Tooltip","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this,c)||this;e.state={shouldShowWECCreateGroupDialog:!1};e.$8=function(){b("PagesManagerInboxFilterAction").toggleFolderSelector(!e.props.isFolderChangeActive)};e.$6=function(a){e.$8(),b("PagesManagerInboxLogger").logFolderChangeClick(e.props.filterType,a),b("PagesManagerInboxLogger").logFolderSwitchClick(e.props.filterType,e.props.folderSelected,a),e.props.folderSelected!==a&&b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").changeFolder(e.props.pageID,a)};e.$15=function(){var a="group_create_dialog_clicked";e.setState(function(){return{shouldShowWECCreateGroupDialog:!0}});b("PagesMessagingInboxActionLogger").logGroupActions("WEC",a)};e.$16=function(){e.setState(function(){return{shouldShowWECCreateGroupDialog:!1}})};e.$18=function(){b("PagesManagerInboxLogger").logSearchClick(!0,e.props.filterType),b("PagesMessagingInboxActionLogger").logSearchButtonClicked(e.props.filterType),b("PagesManagerInboxFilterAction").changeSearchType("LABEL"),b("PagesManagerInboxFilterAction").toggleSearch(!0)};return e}var d=c.prototype;d.$2=function(){return null};d.$3=function(){var a,c=b("immutable").Map(this.props.allLabels);return(a=b("React")).jsxs("div",{className:"_65ok",children:[a.jsx(b("Link.react"),{onClick:this.$4,children:a.jsx("div",{className:"_3xcy","data-testid":"search_bar_return_button"})}),a.jsx(b("PagesManagerInboxListHeaderSearchBar.react"),{context:this.$1,labels:c,pageID:this.props.pageID})]})};d.$5=function(){return!this.props.isFolderChangeActive?null:b("React").jsx(b("PagesManagerInboxHeaderSelectorFluxContainer.react"),{onSelected:this.$6,platform:this.props.filterType,showNewFolder:this.props.showNewFolder,threadsManagementStatus:"FOLDER"})};d.$4=function(){b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerAction").clearViewListItem()};d.$7=function(){var a=this;if(this.props.isFolderChangeActive)return b("React").jsxs(b("Link.react"),{className:"_83j",onClick:this.$8,children:[b("React").jsx("div",{className:"_83m _3xcy","data-testid":"return_button"}),b("React").jsx("span",{className:"_83m _102w",children:h._("Return")})]});if(this.props.filterType==="INSTAGRAM_DIRECT"||this.props.filterType==="WEC")return b("React").jsx("span",{className:"_7xd- _83m _102w",children:h._("Messages")});var c=b("PageCommItemStatusUtil").getLabel(this.props.folderSelected);return b("React").jsxs(b("Link.react"),{className:"_83j","data-testid":"folder_label",onClick:this.$8,children:[b("React").jsx("span",{className:"_83m _102w",ref:"changeFolderMenu",children:c}),b("React").jsx(b("PagesManagerInboxHeaderTopNavNUXFluxContainer.react"),{contextRef:function(){return a.refs.changeFolderMenu}}),b("React").jsx("div",{className:"_83m _6j3s"})]})};d.$9=function(){if(this.props.isFolderChangeActive)return null;var a=Boolean(this.props.isBulkSelectionMode);if(!a)return b("React").jsxs("div",{className:"_das",children:[this.$10(),this.$11(),this.$12(),this.$13(),this.$14(a)]});else return b("React").jsx("div",{className:"_das",children:this.$14(a)})};d.$14=function(a){var c;return Boolean(this.props.allowBulkSelection)?b("React").jsx("div",{className:"_dat",children:b("React").jsxs("div",{className:"_3qn7 _3qng",children:[a&&b("React").jsx(b("PagesManagerInboxBulkActionsNavBarContainer.react"),{folderSelected:this.props.folderSelected,selectedThreads:(c=this.props.selectedThreadsCount)!=null?c:0}),b("React").jsx(b("PagesManagerInboxBulkSelectionButtonContainer.react"),{active:a,selectedThreads:(c=this.props.selectedThreadsCount)!=null?c:0})]})}):null};d.$13=function(){return this.props.filterType!=="WEC"?null:b("React").jsx(b("PagesManagerInboxTopNavCreateWAButtonContainer.react"),{onClick:this.$15})};d.$10=function(){if(!b("PagesManagerInboxStore").getIsMultiAdminEnabled())return null;if(this.props.filterType!=="MESSENGER")return null;if(this.props.searchType==="CONTENT")return null;return this.props.isSearchActive&&this.props.searchType==="LABEL"?null:b("React").jsx(b("Link.react"),{className:"_dat",onClick:this.$17,children:this.props.filterOwner.photoURL!==null&&this.props.filterOwner.photoURL!==void 0&&this.props.filterOwner.photoURL!==""?b("React").jsx(b("Image.react"),babelHelpers["extends"]({className:"_-w_",src:this.props.filterOwner.photoURL},b("Tooltip").propsFor(h._("Filtered by owner: {owner_name}",[h._param("owner_name",this.props.filterOwner.name)])))):this.props.filterOwner.id==="NONE"?b("React").jsx("div",babelHelpers["extends"]({className:"_2tn8"},b("Tooltip").propsFor(h._("Filtered by: Unassigned")))):b("React").jsx("div",babelHelpers["extends"]({className:"_2tn9"},b("Tooltip").propsFor(h._("Filter by owner"))))})};d.$11=function(){if(this.props.isSearchActive)return null;return this.props.filterType==="WEC"?null:b("React").jsx(b("PagesManagerInboxAwayToggleRoot.react"),{className:"_dat",pageID:this.props.pageID})};d.$12=function(){if(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign())return null;if(this.props.selectedCustomerID!==null&&this.props.selectedCustomerID!==void 0)return null;if(this.props.isSearchActive)return null;return this.props.filterType==="WEC"?null:b("React").jsx(b("Link.react"),{className:"_dat",onClick:this.$18,children:b("React").jsx("div",babelHelpers["extends"]({className:"_-8b"},b("Tooltip").propsFor(h._("Search"))))})};d.$17=function(){b("PagesManagerInboxFilterAction").changeSearchType("ADMIN"),b("PagesManagerInboxFilterAction").toggleSearch(!0)};d.render=function(){var a=this,c=null;!Boolean(this.props.isBulkSelectionMode)?c=this.props.isSearchActive?this.$3():this.$7():c=b("React").jsx(b("PagesManagerInboxBulkActionsCancelSelectionButton.react"),{});var d=b("React").jsxs(b("CenteredContainer.react"),{className:"_83i",fullHeight:!0,horizontal:!1,vertical:!0,children:[this.$9(),b("React").jsx(b("PagesManagerInboxCreateGroupDialog.react"),{isShown:this.state.shouldShowWECCreateGroupDialog,mailboxID:this.props.mailboxID,onHide:this.$16,pageID:this.props.pageID})]});return b("React").jsxs("div",{children:[b("React").jsxs("div",{className:"_83e","data-testid":"inboxListTopNav",children:[b("React").jsx(b("CenteredContainer.react"),{className:"_83f",fullHeight:!0,horizontal:!1,vertical:!0,children:c}),d,this.$2()]}),this.$5(),b("React").jsx("div",{ref:function(b){return a.$1=b}})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxWelcomeDialogNUX.react",["cx","fbt","ix","Image.react","Link.react","React","XUIButton.react","XUIDialog.react","XUIDialogBody.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a?c.props.onDialogShow():c.props.onDialogHide()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.onDialogShow()};d.componentWillUnmount=function(){this.props.onDialogHide()};d.$2=function(){var a=b("React").jsx(b("XUIButton.react"),{className:"_2d82",label:h._("OK"),onClick:this.props.onDialogHide,use:"confirm"});return!this.props.onSwitchOldInbox?a:b("React").jsxs("div",{children:[b("React").jsx(b("XUIButton.react"),{className:"_457i",label:h._("Use Previous Version"),onClick:this.props.onSwitchOldInbox}),a]})};d.render=function(){var a;return(a=b("React")).jsx(b("XUIDialog.react"),{onToggle:this.$1,shown:!0,width:480,children:a.jsxs(b("XUIDialogBody.react"),{className:"_2d7q",children:[a.jsxs("div",{className:"_2d7r",children:[a.jsx("div",{className:"_2d7s",children:h._("Welcome to Inbox")}),a.jsx("div",{className:"_2d7-",children:h._("Manage conversations with customers from Messenger, Instagram and your Page in one place.")})]}),a.jsx(b("Link.react"),{className:"_2d7_",onClick:this.props.onDialogHide,children:a.jsx("div",{className:"_21_d"})}),a.jsx(b("Image.react"),{className:"_2d80",src:i("94977")}),a.jsx("div",{className:"_2d81",children:this.$2()})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxAwayInfoRoot.react",["PagesManagerAwayToggleSubscription","PagesManagerInboxAwayInfoContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxAwayInfoRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentWillUnmount=function(){this.$1&&this.$1.dispose()};d.UNSAFE_componentWillMount=function(){this.$1=b("PagesManagerAwayToggleSubscription").subscribe({page_id:this.props.pageID})};d.$2=function(a){return a.props&&!a.error?b("React").jsx(b("PagesManagerInboxAwayInfoContainer.react"),babelHelpers["extends"]({},a.props)):null};d.render=function(){return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxAwayInfoRootQuery.graphql"),render:this.$2,variables:{pageID:this.props.pageID,shouldShowUnifiedThreadlist:this.props.shouldShowUnifiedThreadlist}})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxWECAccountLinkingSendCodeMethod.react",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({SEND_CODE_VIA_VOICE:0,SEND_CODE_VIA_SMS:1})}),null);
__d("PagesManagerInboxWECAccountLinkingStep.react",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({ADD:"ADD",CONFIRM:"CONFIRM",FINISH:"FINISH"})}),null);
__d("XPagesManagerInboxWECAccountLinkingSetUpAccountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/inbox/wec/setup_account/",{request_user_id:{type:"Int"},business_name:{type:"String"},country_code:{type:"String"},phone_number:{type:"String"},send_code_method:{type:"Enum",enumType:0}})}),null);
__d("XPagesManagerInboxWECAccountLinkingUpdateAccountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/inbox/wec/update_account/",{request_user_id:{type:"Int"},page_wec_number_id:{type:"FBID"},is_public:{type:"Bool",defaultValue:!1}})}),null);
__d("XPagesManagerInboxWECAccountLinkingVerifyNumberController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/inbox/wec/verify_number/",{account_status_id:{type:"FBID"},normalized_phone_number:{type:"String"},request_user_id:{type:"Int"},request_code:{type:"Int"}})}),null);
__d("PagesManagerInboxWECAccountLinkingDialog.react",["cx","fbt","AsyncRequest","DevappSwitchButton.react","FDSButton.react","FDSCancelButton.react","FDSLink.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FlexLayout.react","PagesManagerInboxWECAccountLinkingSendCodeMethod.react","PagesManagerInboxWECAccountLinkingStep.react","PhoneCodeSelector.react","PhoneNumberValidator.react","React","SUIBusinessTheme","SUIText.react","XPagesManagerInboxWECAccountLinkingSetUpAccountController","XPagesManagerInboxWECAccountLinkingUpdateAccountController","XPagesManagerInboxWECAccountLinkingVerifyNumberController","XUIButton.react","XUIGrayText.react","XUIText.react","XUITextInput.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="WEC_connect_business",j="WEC_connect_dialog",k={accountStatusID:null,businessName:"",codeSent:!1,countryCode:"US",isPublic:!0,isShown:!1,isValidNumber:!1,phoneCode:"1",phoneError:null,phoneNumber:"",phoneNumberFormatted:"",step:b("PagesManagerInboxWECAccountLinkingStep.react").ADD,verificationCode:"",normalized_phone_number:null,title:h._("Add a WEC Business Number to Inbox"),subTitle:h._("Make your business number a WEC Buisness number."),page_wec_number_id:null,error_message:null};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state=k,d.$7=function(){d.setState(function(){return{codeSent:!1,step:b("PagesManagerInboxWECAccountLinkingStep.react").ADD}})},d.$15=function(){d.setState(function(){return{isShown:!0}})},d.$16=function(){d.setState(function(){return k})},d.$4=function(){var a=b("XPagesManagerInboxWECAccountLinkingSetUpAccountController").getURIBuilder().setInt("request_user_id",d.props.pageID).setString("business_name",d.state.businessName).setString("country_code",d.state.phoneCode).setString("phone_number",d.state.phoneNumber).setEnum("send_code_method",b("PagesManagerInboxWECAccountLinkingSendCodeMethod.react").SEND_CODE_VIA_SMS);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(function(a){a.payload.success&&a.payload.account_status_id?d.setState(function(){return{codeSent:!0,step:b("PagesManagerInboxWECAccountLinkingStep.react").CONFIRM,accountStatusID:a.payload.account_status_id,normalized_phone_number:a.payload.normalized_phone_number}}):d.setState(function(){return{accountStatusID:null,error_message:a.payload.errorMsg,normalized_phone_number:null}})}).send()},d.$5=function(){var a=b("XPagesManagerInboxWECAccountLinkingSetUpAccountController").getURIBuilder().setInt("request_user_id",d.props.pageID).setString("business_name",d.state.businessName).setString("country_code",d.state.phoneCode).setString("phone_number",d.state.phoneNumber).setInt("send_code_method",b("PagesManagerInboxWECAccountLinkingSendCodeMethod.react").SEND_CODE_VIA_VOICE);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(function(a){a.payload.success&&a.payload.account_status_id?d.setState(function(){return{codeSent:!1,step:b("PagesManagerInboxWECAccountLinkingStep.react").CONFIRM,accountStatusID:a.payload.account_status_id,normalized_phone_number:a.payload.normalized_phone_number}}):d.setState(function(){return{accountStatusID:null,error_message:a.payload.errorMsg,normalized_phone_number:null}})}).send()},d.$2=function(){var a=b("XPagesManagerInboxWECAccountLinkingVerifyNumberController").getURIBuilder().setInt("request_user_id",d.props.pageID).setFBID("account_status_id",d.state.accountStatusID).setString("normalized_phone_number",d.state.normalized_phone_number).setInt("request_code",d.state.verificationCode);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setErrorHandler(function(a){}).setHandler(function(a){a.payload.success&&a.payload.page_wec_number_id?d.setState(function(){return{page_wec_number_id:a.payload.page_wec_number_id,step:b("PagesManagerInboxWECAccountLinkingStep.react").FINISH,title:h._("Success! WEC added to Inbox"),subTitle:h._("Your WEC messages will now appear in your inbox")}}):d.setState(function(){return{page_wec_number_id:null,error_message:a.payload.errorMsg}})}).send()},d.$3=function(){var a=b("XPagesManagerInboxWECAccountLinkingUpdateAccountController").getURIBuilder().setInt("request_user_id",d.props.pageID).setFBID("page_wec_number_id",d.state.page_wec_number_id).setBool("is_public",d.state.isPublic);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setErrorHandler(function(a){}).setHandler(function(a){a.payload.success||d.setState(function(){return{error_message:a.payload.errorMsg}}),window.location.reload()}).send()},d.$11=function(a){var b=(a=a)!=null?(a=a.target)!=null?a.value:a:a;d.setState(function(a){return{businessName:b||""}})},d.$12=function(a,b){d.setState({phoneCode:a,countryCode:b})},d.$13=function(a){var b=(a=a)!=null?(a=a.target)!=null?a.value:a:a;d.setState(function(a){return{phoneNumber:b||""}})},d.$14=function(a){if(a!=null&&d.state.isShown){var b=a.status==="valid";b&&a.parsed&&a.parsed.internationalNumberWithPlus!==null&&a.parsed.internationalNumberWithPlus!==void 0&&a.parsed.internationalNumberWithPlus!==""?d.setState(function(){return{isValidNumber:!0,phoneError:null,phoneNumberFormatted:a.parsed.internationalNumberWithPlus||""}}):d.setState(function(a){return{isValidNumber:!1,phoneError:h._("Invalid phone number"),phoneNumberFormatted:""}})}},d.$8=function(a){var b=(a=a)!=null?(a=a.target)!=null?a.value:a:a;d.setState(function(a){return{verificationCode:b||""}})},d.$10=function(){d.setState(function(a){return{isPublic:!d.state.isPublic}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){__p&&__p();var a=null,c=null,d=null;switch(this.state.step){case b("PagesManagerInboxWECAccountLinkingStep.react").CONFIRM:a=b("React").jsx(b("FDSButton.react"),{label:h._("Confirm"),onClick:this.$2,use:"primary"});c=b("React").jsx(b("FDSCancelButton.react"),{});break;case b("PagesManagerInboxWECAccountLinkingStep.react").FINISH:a=b("React").jsx(b("FDSButton.react"),{label:h._("Finish"),onClick:this.$3,use:"primary"});c=b("React").jsx(b("FDSCancelButton.react"),{});break;case b("PagesManagerInboxWECAccountLinkingStep.react").ADD:default:d=b("React").jsx(b("SUIText.react"),{color:"secondary",theme:b("SUIBusinessTheme"),children:h._("If your number cannot receive texts we can call you with the verification code")}),a=b("React").jsx(b("FDSButton.react"),{isDisabled:!this.state.isValidNumber,label:h._("Send Code"),onClick:this.$4,use:"primary"}),c=b("React").jsx(b("FDSButton.react"),{isDisabled:!this.state.isValidNumber,label:h._("Call Me"),onClick:this.$5,use:"default"})}return b("React").jsx(b("FDSModalFooter.react"),{leftContent:d,primaryButton:a,secondaryButton:c})};d.$6=function(){switch(this.state.step){case b("PagesManagerInboxWECAccountLinkingStep.react").CONFIRM:return b("React").jsxs(b("FlexLayout.react"),{direction:"vertical",style:{fontSize:14},children:[b("React").jsx(b("FlexLayout.react"),{className:"_3-97",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body2",weight:"bold",children:h._("Verify Your WEC Number")})}),b("React").jsxs(b("FlexLayout.react"),{align:"center",className:"_21op _3-8n",direction:"vertical",children:[b("React").jsx("div",{children:this.state.codeSent?h._("Enter the code in the message sent to"):h._("You should receive a call in 3 minutes to")}),b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_74oq",children:this.state.phoneNumberFormatted}),b("React").jsx(b("FDSLink.react"),{onClick:this.$7,showUnderline:"never",children:h._("Change")})]})]}),b("React").jsx(b("FlexLayout.react"),{className:"_21op _3-8n",justify:"center",children:b("React").jsx(b("XUITextInput.react"),{height:"tall",onChange:this.$8,placeholder:h._("Enter 6 Digits Code"),value:this.state.verificationCode})}),b("React").jsx(b("FlexLayout.react"),{className:"_21op _3-8n",justify:"center",children:this.state.codeSent?b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("FDSLink.react"),{onClick:this.$4,showUnderline:"never",children:h._("Send Code Again")}),b("React").jsx("span",{className:"_3-8r",children:"|"}),b("React").jsx(b("FDSLink.react"),{onClick:this.$5,showUnderline:"never",children:h._("Call Me")})]}):b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("span",{className:"_3-8_",children:h._("Did not receive call?")}),b("React").jsx(b("FDSLink.react"),{onClick:this.$5,showUnderline:"never",children:h._("Call Again")}),b("React").jsx("span",{className:"_3-8r",children:"|"}),b("React").jsx(b("FDSLink.react"),{onClick:this.$4,showUnderline:"never",children:h._("Send Code")})]})})]});case b("PagesManagerInboxWECAccountLinkingStep.react").FINISH:return b("React").jsxs(b("FlexLayout.react"),{direction:"vertical",children:[b("React").jsxs(b("FlexLayout.react"),{className:"_21op",direction:"vertical",children:[this.$9(h._("Company Name"),this.state.businessName),this.$9(h._("Country Code"),this.state.countryCode+"("+this.state.phoneCode+")"),this.$9(h._("Phone Number"),this.state.phoneNumberFormatted)]}),b("React").jsxs(b("FlexLayout.react"),{className:"_21op",direction:"vertical",children:[b("React").jsx(b("FlexLayout.react"),{className:"_3-8p",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body2",weight:"bold",children:h._("Make WEC Number Public")})}),b("React").jsxs(b("FlexLayout.react"),{align:"center",className:"_21op",justify:"all",children:[b("React").jsx("span",{children:h._("Your WEC number will be visible to visitors in the About section of your Page.")}),b("React").jsx(b("DevappSwitchButton.react"),{labels:"customized",noLabel:h._("No"),onChange:this.$10,yesLabel:h._("Yes")})]})]})]});case b("PagesManagerInboxWECAccountLinkingStep.react").ADD:return b("React").jsxs(b("FlexLayout.react"),{direction:"vertical",children:[b("React").jsx(b("FlexLayout.react"),{className:"_3-97",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body2",weight:"bold",children:h._("Enter your business information")})}),b("React").jsxs(b("FlexLayout.react"),{className:"_6sak _3-8n",justify:"all",children:[b("React").jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:h._("Business Name")}),b("React").jsx(b("XUITextInput.react"),{height:"tall",onChange:this.$11,placeholder:h._("Enter a name"),value:this.state.businessName})]}),b("React").jsxs(b("FlexLayout.react"),{className:"_6sak _3-8n",justify:"all",children:[b("React").jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:h._("Country Code")}),b("React").jsx(b("PhoneCodeSelector.react"),{initialCountryCode:"US",onUpdate:this.$12,scrollToSelectedCountryCode:!1})]}),b("React").jsxs(b("FlexLayout.react"),{className:"_6sak _3-8n",justify:"all",children:[b("React").jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:h._("Phone Number")}),b("React").jsx(b("XUITextInput.react"),{height:"tall",onChange:this.$13,placeholder:h._("Enter a phone number"),value:this.state.phoneNumber,xuiError:this.state.phoneError})]}),b("React").jsx(b("PhoneNumberValidator.react"),{onChange:this.$14,phoneNumber:this.state.phoneNumber,regionCode:this.state.countryCode})]})}};d.$9=function(a,c){return b("React").jsxs(b("FlexLayout.react"),{className:"_21op _3-8n",justify:"all",children:[b("React").jsx(b("XUIGrayText.react"),{shade:"light",size:"body2",children:a}),b("React").jsx(b("XUIText.react"),{children:c})]})};d.render=function(){var a;a=(a=b("React")).jsx(b("FDSModal.react"),{footer:this.$1(),header:a.jsx(b("FDSModalHeader.react"),{subtitle:this.state.subTitle,title:this.state.title}),"data-testid":j,isShown:this.state.isShown,onHide:this.$16,width:750,children:a.jsxs(b("FDSSection.react"),{children:[this.$6(),a.jsx("div",{className:"_74or",children:this.state.error_message!==null&&this.state.error_message!==void 0&&this.state.error_message!==""?this.state.error_message:null})]})});return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("XUIButton.react"),{className:"_70ef","data-testid":i,label:h._("Connect WEC Business"),onClick:this.$15}),a]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MediaManagerInboxLoggerActions",["MediaManagerActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LIST_ROW_IMPRESSION,rowIndex:a})};e.exports={logListRowIndex:a}}),null);
__d("MediaManagerInboxPriorityTabActions",["MediaManagerActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_ON_VIEWING_PRIORITY_ITEM,priorityType:a})};e.exports={onViewingPriorityItem:a}}),null);
__d("PagesManagerMessagingMessagelistDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("XPagesBanUserStatusFetchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/admin/ban_user/status/",{page_id:{type:"FBID",required:!0},user_id:{type:"FBID",required:!0}})}),null);
__d("PagesManagerMessagingMessagelistAction",["AsyncRequest","PagesManagerMessagingActionType","PagesManagerMessagingMessagelistDispatcher","XPagesBanUserStatusFetchController"],(function(a,b,c,d,e,f){__p&&__p();var g=b("PagesManagerMessagingActionType").LIST,h=new Map(),i={updateMessagelist:function(a,c,d){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOADED,pageID:a,threadID:c,data:d})},setHotLikeEnd:function(){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").HOT_LIKE.END})},setHotLikeStart:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").HOT_LIKE.START,preview:a})},contentSearchSelectedIndex:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.CONTENT_SEARCH_SELECTED_INDEX,contentSearchSelectedIndex:a})},setIsLoading:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOADING,isLoading:a})},setIsLoadingMore:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOAD_MORE,isLoadingMore:a})},setScrollAreaHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_SCROLL_HEIGHT,height:a})},setAppointmentBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},setAppointmentScheduleBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},setAppointmentStatusBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},updateThread:function(a,c){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").THREAD_LEVEL.UPDATE_THREAD,pageID:a,threadID:c})},setIsContextCardHidden:function(a,c){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_IS_CONTEXT_CARD_HIDDEN,pageID:a,isHidden:c})},updateIsUserBanned:function(a,c,d){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").BAN.UPDATE,pageID:a,userID:c,isBanned:d})},_getBanningMapKey:function(a,b){return a+"_"+b},fetchIsUserBanned:function(a,c){var d=this._getBanningMapKey(a,c);if(h.has(d)&&h.get(d))return;var e=b("XPagesBanUserStatusFetchController").getURIBuilder().setFBID("page_id",a).setFBID("user_id",c).getURI();new(b("AsyncRequest"))().setURI(e).setHandler(function(b){i.updateIsUserBanned(a,c,b.payload)}).send();h.set(d,!0)},resetIsUserBanned:function(a,b){h.set(this._getBanningMapKey(a,b),!1)}};e.exports=i}),null);
__d("IGDirectMessageThreadPreviewView.react",["ix","cx","fbt","Image.react","React","asset","cxMargin","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j="HIGHLIGHT_STORY",k="REACTION",l="REPLY";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a,c,d,e=this.props.item.sender_id===this.props.igID;switch(this.props.item.ig_item_type){case"TEXT":return b("React").jsx("div",{children:e?b("React").jsxs("span",{children:[i._("You:")," ",(d=this.props.item)!=null?d.text:d]}):b("React").jsx("span",{children:(d=this.props.item)!=null?d.text:d})});case"LINK":d=b("nullthrows")((d=this.props)!=null?(d=d.item)!=null?(d=d.link_source)!=null?d.text:d:d:d);return b("React").jsx("div",{children:e?b("React").jsxs("span",{children:[i._("You:")," ",d]}):b("React").jsx("span",{children:d})});case"ANIMATED_MEDIA":return b("React").jsx("div",{children:e?i._("You shared a GIF."):i._("Shared a GIF.")});case"MEDIA":d=(d=this.props.item)!=null?(d=d.ig_thread_item_media)!=null?d.media_type:d:d;switch(d){case"IMAGE":return e?i._("You sent a photo"):i._("Sent a photo");case"VIDEO":return e?i._("You sent a video"):i._("Sent a video")}break;case"MEDIA_SHARE":return e?i._("You sent a post"):i._("Sent a post");case"STORY_SHARE":d=(d=this.props.item)!=null?(d=d.share)!=null?d.story_type:d:d;c=(c=this.props.item)!=null?(c=c.share)!=null?(c=c.user)!=null?c.username:c:c:c;a=(a=this.props.item)!=null?(a=a.share)!=null?a.title:a:a;if(c===null)return a;if(d==="USER_STORY"||d==="ADS_STORY")if(e)return i._("You sent {username}'s story",[i._param("username",c)]);else return i._("Sent {username}'s story",[i._param("username",c)]);if(e)return i._("You sent {username}'s story highlight",[i._param("username",c)]);else return i._("Sent {username}'s story highlight",[i._param("username",c)]);case"FELIX_SHARE":if(e)return i._("You shared an IGTV video");else return i._("Shared an IGTV video");case"RAVEN_MEDIA":d=(a=this.props.item)!=null?(a=a.raven_media)!=null?a.media_type:a:a;switch(d){case"IMAGE":return e?i._("You sent a photo"):i._("Sent a photo");case"VIDEO":return e?i._("You sent a video"):i._("Sent a video")}break;case"PROFILE":return b("React").jsx("div",{children:e?b("React").jsxs("span",{children:[i._("You:")," ","@",(c=this.props.item)!=null?(c=c.profileshare)!=null?(c=c.user)!=null?c.username:c:c:c]}):b("React").jsxs("span",{children:["@",(a=this.props.item)!=null?(a=a.profileshare)!=null?(a=a.user)!=null?a.username:a:a:a]})});case"LIKE":return e?b("React").jsxs("div",{className:"_76uz",children:[i._("You:"),b("React").jsx(b("Image.react"),{className:"_3-99",src:g("562747")})]}):b("React").jsx(b("Image.react"),{src:g("562747")});case"ACTION_LOG":return(d=this.props.item)!=null?(d=d.action_log)!=null?d.description:d:d;case"REEL_SHARE":a=(c=this.props)!=null?(c=c.item)!=null?(c=c.share)!=null?c.type:c:c:c;c=(d=this.props)!=null?(d=d.item)!=null?(d=d.share)!=null?d.story_type:d:d:d;if(e){if(a===l)return c===j?i._("You replied to their story highlight"):i._("You replied to their story");if(a===k){d=(d=this.props)!=null?(d=d.item)!=null?(d=d.share)!=null?d.text:d:d:d;return c===j?i._("You reacted to their story highlight: {reaction}",[i._param("reaction",d)]):i._("You reacted to their story: {reaction}",[i._param("reaction",d)])}d=(d=this.props)!=null?(d=d.item)!=null?(d=d.share)!=null?(d=d.user)!=null?d.username:d:d:d:d;return i._("Mentioned {username} in your story",[i._param("username",d)])}else{d=(d=this.props)!=null?(d=d.item)!=null?(d=d.share)!=null?(d=d.user)!=null?d.instagram_user_id:d:d:d:d;if(a===l){if(d===this.props.igID)return c===j?i._("Replied to your story highlight"):i._("Replied to your story")}else if(a===k){a=(d=this.props)!=null?(d=d.item)!=null?(d=d.share)!=null?d.text:d:d:d;return c===j?i._("Reacted to your story highlight: {reaction}",[i._param("reaction",a)]):i._("Reacted to your story: {reaction}",[i._param("reaction",a)])}else return i._("Mentioned you in their story")}break;case"VOICE_MEDIA":return e?i._("You sent a voice message"):i._("Sent a voice message")}return e?i._("You sent a message"):i._("Sent a message")};return c}(b("React").PureComponent);e.exports=a}),null);
__d("UnifiedInboxIGMessageThreadRowView.react",["IGDirectMessageGroupProfilePic.react","IGDirectMessageThreadPreviewContainer.react","IGMessageInboxStore","PageCommItemFolder","PageCommItemStatus","PagesManagerInboxListRow.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerInboxStore","React","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a,c,d,e,f="INSTAGRAM_DIRECT",g="IG_MESSAGE";e=(e=(e=this.props.thread)!=null?(e=e.thread_users)!=null?(e=e.nodes)!=null?e.length:e:e:e)!=null?e:0;d=(d=(d=this.props.thread)!=null?d.is_group:d)!=null?d:!1;var h=[],i=null,j=null;if(e>=2){var k;j=(k=this.props.thread)!=null?(k=k.thread_users)!=null?(k=k.nodes)!=null?(k=k[1])!=null?(k=k.profile_picture)!=null?k.uri:k:k:k:k:k;i=this.props.thread.thread_title}else{j=(k=this.props.thread)!=null?(k=k.thread_users)!=null?(k=k.nodes)!=null?(k=k[0])!=null?(k=k.profile_picture)!=null?k.uri:k:k:k:k:k;i=(k=this.props.thread)!=null?(k=k.thread_users)!=null?(k=k.nodes)!=null?(k=k[0])!=null?k.username:k:k:k:k}e=e>2?b("React").jsx(b("IGDirectMessageGroupProfilePic.react"),{imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURIs:[j,(k=this.props.thread)!=null?(k=k.thread_users)!=null?(k=k.nodes)!=null?(k=k[2])!=null?(k=k.profile_picture)!=null?k.uri:k:k:k:k:k]}):null;k=b("nullthrows")(this.props.thread.last_activity_at);k=parseInt(k.slice(0,k.length-3),10);var l="";c=(c=this.props.thread)!=null?(c=c.thread_users)!=null?c.nodes:c:c;a=(a=this.props.thread)!=null?(a=a.thread_items)!=null?(a=a.nodes)!=null?(a=a[0])!=null?a.token:a:a:a:a;if(c!==null&&c!==void 0&&a!==null&&a!==void 0){l=b("React").jsx(b("IGDirectMessageThreadPreviewContainer.react"),{mailboxID:this.props.mailboxID,participants:c,token:a});if(d===!1&&!this.props.labels&&((c=this.props.thread)==null?void 0:(a=c.thread_labels)==null?void 0:a.nodes)!=null&&((d=this.props.thread)==null?void 0:(c=d.thread_labels)==null?void 0:c.nodes.length)!==0){c=((a=this.props.thread)==null?void 0:(d=a.thread_labels)==null?void 0:d.nodes)||[];h=c.map(function(a){var b=a.id,c=a.label_color;a=a.name;return b!=null&&c!=null&&a!=null?{id:b,color:c,name:a}:null}).filter(function(a){return a!=null})}}a=!1;d=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(d==null)a=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewIGDirectFolder;else{a=Boolean((c=d.inboxRedesignConfig)==null?void 0:c.shouldShowNewIGDirectFolder)}return b("React").jsx(b("PagesManagerInboxListRow.react"),{activeFolder:b("PageCommItemFolder").TODO,commPlatform:f,commStatus:b("PageCommItemStatus").TODO,commType:g,isRead:!b("IGMessageInboxStore").isThreadUnread(this.props.mailboxID,this.props.thread),isViewing:this.props.isViewing,item:this.props.thread,labels:this.props.labels?this.props.labels:h,onViewingListItem:this.props.onViewingListItem,pageID:this.props.mailboxID,profilePicElement:b("React").jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:f,commType:g,imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURI:j,profileElement:e,showPlaceholder:!0,showPlatformBadge:!0}),shouldAnimate:!1,showActions:a,snippetElement:l,subtitle:null,timestampInMS:k,titleElement:i},this.props.thread.token)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("UnifiedInboxUnifiedThreadListView.react",["cssVar","ErrorBoundary.react","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAwayInfoRoot.react","PagesManagerInboxConnectionState.react","PagesManagerInboxFilterAction","PagesManagerInboxListEmptyState.react","PagesManagerInboxListHeaderAutomationNUX.react","PagesManagerInboxListHeaderPersonaNUX.react","PagesManagerInboxListHeaderUnifiedThreadlistInstagramNUX.react","PagesManagerInboxListHeaderUnifiedThreadlistMessengerNux.react","PagesManagerInboxListHeaderUnifiedThreadlistNUX.react","PagesManagerInboxListSpinner.react","PagesManagerInboxLogger","PagesManagerInboxMessageListRowContainer.react","PagesManagerInboxMessageThreadListUtil","PagesManagerInboxStore","PagesSelectableSimpleList.react","React","ResponsiveBlock.react","UnifiedInboxIGMessageThreadRowContainer.react","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){return function(c){return b("nullthrows")(a[c].threadID)}}function i(a,c,d){return function(e,f,g){f=a[e];return f.platform==="MESSENGER"?b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:"MESSENGER",item:b("nullthrows")(f.messengerThread),pageID:c,shouldAnimate:!1},f.threadID)}):b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("UnifiedInboxIGMessageThreadRowContainer.react"),{isViewing:d===f.threadID,mailboxID:c,token:f.threadID})})}}function j(a){var c=b("PagesManagerInboxStore").getConfig().fbMessengerState==="DISABLED",d=b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT,e=d.canManageComments;d=d.igAccountID===null;if(c&&d&&a.threadManagementStatus!==b("PageCommItemFolder").INSTAGRAM_THREADS||c&&a.threadManagementStatus===b("PageCommItemFolder").MESSENGER_THREADS)return b("React").jsx("div",{style:{height:a.scrollHeight,backgroundColor:"#FFFFFF"},children:b("React").jsx(b("PagesManagerInboxConnectionState.react"),{filterType:"MESSENGER",pageID:a.mailboxID,pageToken:b("PagesManagerInboxStore").getConfig().uriToken})});return a.threadManagementStatus===b("PageCommItemFolder").INSTAGRAM_THREADS&&d?b("React").jsx("div",{style:{height:a.scrollHeight,backgroundColor:"#FFFFFF"},children:b("React").jsx(b("PagesManagerInboxConnectionState.react"),{commentConnected:e,filterType:"INSTAGRAM_DIRECT",pageID:a.mailboxID,pageToken:""})}):b("React").jsx(b("PagesManagerInboxListEmptyState.react"),{folder:a.threadManagementStatus,pageID:a.mailboxID,platform:"MESSENGER",showNewFolder:!0})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={nodes:[],canLoadMore:!0},b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromProps=function(a,c){return{nodes:b("PagesManagerInboxMessageThreadListUtil").getUnifiedThreadList(a.instagramThreads,a.messengerThreads,a.folder,a.loadCount,a.messengerHasMore,a.instagramHasMore),canLoadMore:b("PagesManagerInboxMessageThreadListUtil").getCanLoadMore(a.folder,a.messengerHasMore,a.instagramHasMore)}};var d=c.prototype;d.componentDidUpdate=function(a,c){if(this.props.viewingItemToken===null){this.state.nodes.length>0&&(b("PagesManagerInboxFilterAction").changePlatform(this.state.nodes[0].platform),b("PagesManagerAction").viewListItem(this.state.nodes[0].threadID));return}};d.$1=function(a,c){b("PagesManagerAction").setListHeaderHeight(c)};d.render=function(){return this.state.nodes.length===0?b("React").jsx(j,{mailboxID:this.props.mailboxID,scrollHeight:this.props.scrollHeight,threadManagementStatus:this.props.threadManagementStatus}):b("React").jsxs("div",{children:[b("React").jsx(b("PagesManagerInboxAwayInfoRoot.react"),{pageID:this.props.pageID,shouldShowUnifiedThreadlist:!0}),b("React").jsxs(b("ResponsiveBlock.react"),{onResize:this.$1,children:[b("React").jsx(b("PagesManagerInboxListHeaderPersonaNUX.react"),{pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderAutomationNUX.react"),{pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderUnifiedThreadlistNUX.react"),{pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderUnifiedThreadlistInstagramNUX.react"),{canShowConnectButton:this.props.canShowConnectButton,instagramCommentConnected:this.props.igCommentConnected,pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderUnifiedThreadlistMessengerNux.react"),{pageID:this.props.pageID})]}),b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesSelectableSimpleList.react"),{canLoadMoreRows:this.state.canLoadMore,height:this.props.scrollHeight,loadingIndicator:b("React").jsx(b("PagesManagerInboxListSpinner.react"),{}),onRequestMoreRows:this.props.onLoadMore,rowCount:this.state.nodes.length,rowHeight:parseInt("80px",10),rowKeyGetter:h(b("nullthrows")(this.state.nodes)),rowRenderer:i(b("nullthrows")(this.state.nodes),this.props.mailboxID,this.props.viewingItemToken),showHeader:!1})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxInstagramPostComposerActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({MESSAGE:{SET:"message/set",LINK_REPLY:"message/link_reply",CLEAR:"message/clear"}});e.exports=a}),null);
__d("PagesManagerInboxInstagramPostComposerActions",["PagesManagerDispatcher","PagesManagerInboxInstagramPostComposerActionTypes"],(function(a,b,c,d,e,f){"use strict";a={setMessage:function(a){b("PagesManagerDispatcher").dispatch({actionType:b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.SET,message:a})},linkReply:function(a){b("PagesManagerDispatcher").dispatch({actionType:b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.LINK_REPLY,replyMetadata:a})},clearMessage:function(){b("PagesManagerDispatcher").dispatch({actionType:b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.CLEAR})}};e.exports=a}),null);
__d("PagesManagerInboxInstagramPostComposerStore.react",["FluxStore","PagesManagerDispatcher","PagesManagerInboxInstagramPostComposerActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerInboxInstagramPostComposerStore1="";c.$PagesManagerInboxInstagramPostComposerStore2=null;return c}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();switch(a.actionType){case b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.SET:this.$PagesManagerInboxInstagramPostComposerStore3(a.message);this.__emitChange();break;case b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.LINK_REPLY:this.$PagesManagerInboxInstagramPostComposerStore4(a.replyMetadata.username);this.$PagesManagerInboxInstagramPostComposerStore5(a.replyMetadata.parent_comment_id);this.__emitChange();break;case b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.CLEAR:this.$PagesManagerInboxInstagramPostComposerStore1="";this.$PagesManagerInboxInstagramPostComposerStore5(null);this.__emitChange();break}};d.getMessage=function(){return this.$PagesManagerInboxInstagramPostComposerStore1};d.$PagesManagerInboxInstagramPostComposerStore3=function(a){this.$PagesManagerInboxInstagramPostComposerStore1=a};d.getParentCommentID=function(){return this.$PagesManagerInboxInstagramPostComposerStore2};d.$PagesManagerInboxInstagramPostComposerStore5=function(a){this.$PagesManagerInboxInstagramPostComposerStore2=a};d.$PagesManagerInboxInstagramPostComposerStore4=function(a){this.$PagesManagerInboxInstagramPostComposerStore1="@".concat(a).concat(" ")};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxInstagramCommentDeleteMutation",["PagesManagerInboxIGCommentAction","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerInboxInstagramCommentDeleteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PagesManagerInboxInstagramCommentDeleteMutation.graphql");function a(a,c){__p&&__p();var d=function(c,d){c=c.get(a.instagram_media_id);if(!c)return;var e=h.getConnection(c,"PagesManagerInboxInstagramPostCommentsContainer_instagram_comments");c=h.getConnection(c,"PagesManagerInboxInstagramCommentsContainer_ig_comments");e&&h.deleteNode(e,a.instagram_comment_id);c&&h.deleteNode(c,a.instagram_comment_id);c=d==null?void 0:(e=d.instagram_comment_delete)==null?void 0:e.parent_instagram_comment_id;c!=null&&b("PagesManagerInboxIGCommentAction").deleteReply(c)};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,updater:d,variables:{input:{actor_id:a.actor_id,instagram_comment_id:a.instagram_comment_id}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxInstagramUserPhotoContainer.react",["cx","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a="_2q1j"+(this.props.shape==="circle"?" _kpb":"");return b("React").jsx(b("Image.react"),{className:a,height:this.props.imageSize,src:this.props.imageURI,width:this.props.imageSize})};return c}(b("React").PureComponent);a.defaultProps={shape:"square"};e.exports=a}),null);
__d("PagesManagerInboxInstagramCommentRow.react",["cx","fbt","ContextualDialogArrow","Layout.react","LayoutColumn.react","LayoutFillColumn.react","Link.react","PagesManagerInboxInstagramCommentDeleteMutation","PagesManagerInboxInstagramPostComposerActions","PagesManagerInboxInstagramUserPhotoContainer.react","PopoverMenu.react","React","ReactXUIMenu","TextWithEntities.react","Timestamp.react","XUICard.react","XUIDotsButton.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReactXUIMenu").Item;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){if(d.props.commentID===null||d.props.commentID===void 0)return;b("PagesManagerInboxInstagramCommentDeleteMutation").commit({actor_id:d.props.pageID,instagram_comment_id:d.props.commentID,instagram_media_id:d.props.igMediaID})},d.$4=function(){if(d.props.igUsername===null||d.props.igUsername===void 0||d.props.commentID===null)return;b("PagesManagerInboxInstagramPostComposerActions").linkReply({username:d.props.igUsername,parent_comment_id:d.props.commentID})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a,c=(a=b("React")).jsx(b("ReactXUIMenu"),{children:a.jsx(i,{onClick:this.$2,children:h._("Delete")})});return a.jsx(b("PopoverMenu.react"),{alignv:"middle",layerBehaviors:[b("ContextualDialogArrow")],menu:c,children:a.jsx(b("XUIDotsButton.react"),{className:"_88me",size:"medium",tooltip:h._("Options")})})};d.$3=function(){return b("React").jsxs("div",{className:"_88mf",children:[b("React").jsx("div",{className:"_88mg",children:b("React").jsx(b("Timestamp.react"),{minimize:!0,time:Number(this.props.creationTime),useLargerTimeUnits:!0})}),this.props.likeCount!==void 0&&this.props.likeCount!==null&&this.props.likeCount>0&&b("React").jsx("div",{className:"_88ml",children:h._({"*":"{like count} likes","_1":"{like count} like"},[h._param("like count",this.props.likeCount),h._plural(this.props.likeCount)])}),b("React").jsx(b("Link.react"),{className:"_88mm",onClick:this.$4,children:h._("Reply")})]})};d.render=function(){var a;return(a=b("React")).jsx(b("XUICard.react"),{className:"_88mn","data-testid":"ig_comment_row",children:a.jsxs(b("Layout.react"),{className:"_88mo",children:[a.jsx(b("LayoutColumn.react"),{children:a.jsx("div",{className:"_8b8t",children:a.jsx(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageSize:this.props.profilePhotoSize,imageURI:this.props.profilePictureURI,shape:"circle"})})}),a.jsxs(b("LayoutColumn.react"),{className:"_8ax9",children:[a.jsxs(b("XUIText.react"),{className:"_8b8s",children:[a.jsx("span",{className:"_88mq",children:this.props.igUsername}),a.jsx(b("TextWithEntities.react"),{renderEmoji:!0,text:this.props.message})]}),this.$3()]}),a.jsx(b("LayoutFillColumn.react"),{children:this.$1()})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxInstagramRepliesContainer.react",["cx","fbt","PagesManagerInboxIGCommentStore","PagesManagerInboxInstagramCommentRow.react","React","RelayModern","XUIButton.react","XUICard.react","PagesManagerInboxInstagramRepliesContainer_item.graphql","PagesManagerInboxInstagramRepliesContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var k=3;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={numRepliesShowing:c.props.numRepliesShowingInitially},c.$1=function(){var a;a=(a=(a=c.props.item)==null?void 0:(a=a.instagram_replies)==null?void 0:(a=a.edges)==null?void 0:a.length)!=null?a:0;c.state.numRepliesShowing<a?c.setState({numRepliesShowing:a}):c.$2()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=b("PagesManagerInboxIGCommentStore").getReplyInfo(this.props.parentCommentID);if(a==null){a=((a=this.props.item)==null?void 0:(a=a.instagram_replies)==null?void 0:a.edges)||[];b("PagesManagerInboxIGCommentStore").setReplyInfo(this.props.parentCommentID,{numRepliesLoaded:a.length,numRepliesShowing:0})}};d.componentDidUpdate=function(){var a;a=(a=(a=this.props.item)==null?void 0:(a=a.instagram_replies)==null?void 0:(a=a.edges)==null?void 0:a.length)!=null?a:0;var c=b("PagesManagerInboxIGCommentStore").getReplyInfo(this.props.parentCommentID);c!=null&&b("PagesManagerInboxIGCommentStore").setReplyInfo(this.props.parentCommentID,{numRepliesLoaded:a,numRepliesShowing:this.state.numRepliesShowing})};d.$2=function(){this.$3()?this.$4():this.$5()};d.$3=function(){return this.props.relay.hasMore()};d.$4=function(){var a=this;this.props.relay.loadMore(k,function(){var b;b=(b=(b=a.props.item)==null?void 0:(b=b.instagram_replies)==null?void 0:(b=b.edges)==null?void 0:b.length)!=null?b:0;a.setState({numRepliesShowing:b})})};d.$5=function(){this.setState({numRepliesShowing:0})};d.render=function(){__p&&__p();var a=this,c,d;c=((c=this.props.item)==null?void 0:c.reply_count)||0;d=((d=this.props.item)==null?void 0:(d=d.instagram_replies)==null?void 0:d.edges)||[];if(c===0)return null;d=this.state.numRepliesShowing>0?d.slice(-this.state.numRepliesShowing).map(function(c){var d;return b("React").jsx(b("PagesManagerInboxInstagramCommentRow.react"),{commentID:(d=c.node)==null?void 0:d.id,creationTime:(d=c.node)==null?void 0:d.creation_time,igMediaID:a.props.igMediaID,igUsername:(d=c.node)==null?void 0:(d=d.instagram_actor)==null?void 0:d.username,likeCount:(d=c.node)==null?void 0:d.like_count,message:(d=c.node)==null?void 0:d.text,pageID:a.props.pageID,profilePhotoSize:a.props.profilePhotoSize,profilePictureURI:(d=c.node)==null?void 0:(d=d.instagram_actor)==null?void 0:(d=d.profile_picture_24)==null?void 0:d.uri},(d=c.node)==null?void 0:d.id)}):null;if(this.state.numRepliesShowing<c){c=c-this.state.numRepliesShowing;c=h._("View replies ({reply count})",[h._param("reply count",c)])}else c=h._("Hide replies");return b("React").jsx(b("XUICard.react"),{className:"_8e5p",children:b("React").jsxs("div",{className:"_8e3n",children:[b("React").jsx(b("XUIButton.react"),{className:"_8e3o",image:b("React").jsx("div",{className:"_8e3p"}),label:c,onClick:this.$1,use:"default"}),d]})})};return c}(b("React").PureComponent);e.exports=a(c,{item:i!==void 0?i:i=b("PagesManagerInboxInstagramRepliesContainer_item.graphql")},{direction:"backward",getConnectionFromProps:function(a){return a==null?void 0:(a=a.item)==null?void 0:a.instagram_replies},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{count:c,cursor:b,instagramCommentID:a.item.id}},query:j!==void 0?j:j=b("PagesManagerInboxInstagramRepliesContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxInstagramRepliesFluxContainer.react",["FluxContainer","PagesManagerInboxIGCommentStore","PagesManagerInboxInstagramRepliesContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxInstagramRepliesFluxContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;var h=3,i=g!==void 0?g:g=b("PagesManagerInboxInstagramRepliesFluxContainerQuery.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxIGCommentStore")]};c.calculateState=function(a,c){var d=b("PagesManagerInboxIGCommentStore").getUpdatedCommentID(),e=b("PagesManagerInboxIGCommentStore").getReplyInfo(c.parentCommentID),f={numRepliesToLoad:Math.min(c.replyCount,h),numRepliesToShow:0};if(e==null||c.parentCommentID!==d){return(c=a)!=null?c:f}return{numRepliesToLoad:e.numRepliesLoaded,numRepliesToShow:e.numRepliesShowing}};var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:i,render:function(c){c.error;c=c.props;return c?b("React").jsx(b("PagesManagerInboxInstagramRepliesContainer.react"),{igMediaID:a.props.igMediaID,item:c.item,numRepliesShowingInitially:a.state.numRepliesToShow,pageID:a.props.pageID,parentCommentID:a.props.parentCommentID,profilePhotoSize:a.props.profilePhotoSize}):null},variables:{count:this.state.numRepliesToLoad,instagramCommentID:this.props.parentCommentID}})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxInstagramCommentRowContainer.react",["PagesManagerInboxInstagramCommentRow.react","PagesManagerInboxInstagramRepliesFluxContainer.react","React","RelayModern","PagesManagerInboxInstagramCommentRowContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=24;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props.item.id||"",d=this.props.item.reply_count||0;return b("React").jsxs("div",{children:[b("React").jsx(b("PagesManagerInboxInstagramCommentRow.react"),{commentID:this.props.item.id,creationTime:this.props.item.creation_time,igMediaID:this.props.igMediaID,igUsername:(a=this.props.item.instagram_actor)==null?void 0:a.username,likeCount:this.props.item.like_count,message:this.props.item.text,pageID:this.props.pageID,profilePhotoSize:h,profilePictureURI:(a=this.props.item.instagram_actor)==null?void 0:(a=a.profile_picture_24)==null?void 0:a.uri}),b("React").jsx(b("PagesManagerInboxInstagramRepliesFluxContainer.react"),{igMediaID:this.props.igMediaID,pageID:this.props.pageID,parentCommentID:c,profilePhotoSize:h,replyCount:d})]})};return c}(b("React").PureComponent);e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerInboxInstagramCommentRowContainer_item.graphql")})}),null);
__d("PagesManagerInboxInstagramCommentsContainer.react",["cx","fbt","List.react","PagesManagerInboxInstagramCommentRowContainer.react","PagesManagerInboxLogger","React","RelayModern","XUIButton.react","PagesManagerInboxInstagramCommentsContainer_igPost.graphql","PagesManagerInboxInstagramCommentsContainer_item.graphql","PagesManagerInboxInstagramCommentsContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=10;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.relay.loadMore(l)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this.props.item.id||"";b("PagesManagerInboxLogger").itemRendered(a);this.props.onInitialLoad&&this.props.onInitialLoad()};d.$2=function(){return this.props.relay.hasMore()};d.$3=function(){return!this.$2()?null:b("React").jsx("div",{className:"_8b4-",children:b("React").jsx(b("XUIButton.react"),{className:"_8ax7",image:b("React").jsx("div",{className:"_8ax8"}),label:h._("View more comments"),onClick:this.$1,use:"default"})})};d.render=function(){var a=this,c;c=((c=this.props.igPost.ig_comments)==null?void 0:c.edges)||[];var d=this.props.igPost.id||"";return b("React").jsxs("div",{"data-testid":"ig_comment_post",children:[this.$3(),b("React").jsx(b("List.react"),{children:c.map(function(c){return c.node!==null&&c.node!==void 0&&c.node.id!==null&&c.node.id!==void 0?b("React").jsx(b("PagesManagerInboxInstagramCommentRowContainer.react"),{igMediaID:d,item:c.node,pageID:a.props.pageID},c.node.id):null})})]})};return c}(b("React").PureComponent);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramCommentsContainer_igPost.graphql"),item:j!==void 0?j:j=b("PagesManagerInboxInstagramCommentsContainer_item.graphql")},{direction:"backward",getConnectionFromProps:function(a){return a==null?void 0:(a=a.igPost)==null?void 0:a.ig_comments},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,instagramMediaID:a.igPost.id}},query:k!==void 0?k:k=b("PagesManagerInboxInstagramCommentsContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxInstagramPostCarouselDots.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=[];for(var c=0;c<this.props.length;c++)a.push(b("React").jsx("td",{children:b("React").jsx("div",{className:"_2nqj"+(c===this.props.index?" _2nqk":"")})},c.toString()));return b("React").jsx("table",{className:this.props.className,children:b("React").jsx("tbody",{children:b("React").jsx("tr",{children:a})})})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerInboxInstagramPostPhotoContainer.react",["ix","cx","CenteredContainer.react","Image.react","PagesManagerInboxInstagramPostCarouselDots.react","React","RelayModern","fbglyph","PagesManagerInboxInstagramPostPhotoContainer_igPost.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b;b=a.call(this)||this;b.$2=function(){b.setState({selectedMediaIndex:b.state.selectedMediaIndex+1})};b.$3=function(){b.setState({selectedMediaIndex:b.state.selectedMediaIndex-1})};b.$4=function(){b.$1&&(b.props.onImageInitialLoad&&b.props.onImageInitialLoad(),b.$1=!1)};b.state={selectedMediaIndex:0};b.$1=!0;return b}var d=c.prototype;d.render=function(){var a,c;c=(c=this.props.igPost)!=null?(c=c.child_medias)!=null?(c=c[this.state.selectedMediaIndex])!=null?(c=c.image)!=null?c.uri:c:c:c:c;a=(a=this.props.igPost)!=null?(a=a.image)!=null?a.uri:a:a;var d=b("React").jsx(b("Image.react"),{className:"_2v6z _2v6-",onClick:this.$2,src:g("114597")}),e=b("React").jsx(b("Image.react"),{className:"_2v6z _2v6_",onClick:this.$3,src:g("114587")});return b("React").jsxs("div",{className:"_2v70",children:[b("React").jsx(b("Image.react"),{height:this.props.imageSize,onLoad:this.$4,src:this.props.igPost.has_multiple_media===!0?c:a,width:this.props.imageSize}),this.props.igPost.has_multiple_media===!0&&this.state.selectedMediaIndex>0?e:null,this.props.igPost.has_multiple_media===!0&&this.state.selectedMediaIndex<this.props.igPost.child_medias.length-1?d:null,this.props.igPost.has_multiple_media===!0&&b("React").jsx(b("CenteredContainer.react"),{className:"_2qws",children:b("React").jsx(b("PagesManagerInboxInstagramPostCarouselDots.react"),{index:this.state.selectedMediaIndex,length:this.props.igPost.child_medias.length})})]})};return c}(b("React").Component);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramPostPhotoContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramContextCard.react",["cx","fbt","PagesManagerInboxCommentContextCardSectionLayout.react","PagesManagerInboxInstagramPostPhotoContainer.react","React","RelayModern","ScrollableArea.react","TextWithEntities.react","XUIText.react","formatDate","PagesManagerInboxInstagramContextCard_igPost.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j="Instagram User",k=236,l=1e3;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.showPublishedDate=function(){if(this.props.igPost.creation_time!=null){var a=b("formatDate")(new Date(this.props.igPost.creation_time*l),{future:"g:ia",today:"g:ia",withinWeek:"D g:ia",thisYear:"M jS, g:ia",older:"m/d/Y g:ia"});return b("React").jsx("div",{className:"_8axa",children:a.replace(/\,[^,]+$/,"")})}else return null};d.render=function(){var a,c,d;a=(a=(a=this.props.igPost)==null?void 0:(a=a.instagram_actor)==null?void 0:a.username)!=null?a:j;c=(c=this.props.igPost)==null?void 0:c.caption_text;d=((d=this.props.igPost)==null?void 0:d.caption_text)?b("React").jsxs(b("XUIText.react"),{children:[b("React").jsx("span",{className:"_8axb",children:a}),b("React").jsx(b("TextWithEntities.react"),{renderEmoji:!0,text:c})]}):null;return b("React").jsx("div",{children:b("React").jsxs(b("ScrollableArea.react"),{height:this.props.height,children:[b("React").jsx("div",{className:"_8axc",children:b("React").jsx("div",{className:"_8axd",children:b("React").jsx(b("PagesManagerInboxInstagramPostPhotoContainer.react"),{igPost:this.props.igPost,imageSize:k})})}),b("React").jsx(b("PagesManagerInboxCommentContextCardSectionLayout.react"),{children:b("React").jsxs("div",{className:"_8axe",children:[b("React").jsxs("div",{className:"_8b8w",children:[b("React").jsx("div",{className:"_8axf",children:h._({"*":"{number} likes","_1":"1 like"},[h._plural((a=this.props.igPost)==null?void 0:a.like_count,"number")])}),this.showPublishedDate()]}),d]})})]})})};return c}(b("React").PureComponent);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramContextCard_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostCommentRow.react",["cx","fbt","Layout.react","Link.react","PagesManagerInboxInstagramUserPhotoContainer.react","React","TextWithEntities.react","Timestamp.react","Tooltip","XUICard.react","XUIText.react","formatDate","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Layout.react").Column,j=b("Layout.react").FillColumn,k=600;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){if(c.props.igUser===null||c.props.igUser===void 0||c.props.commentID===null)return;c.props.onReplyComment({username:c.props.igUser.username,parent_comment_id:c.props.commentID})},c.$2=function(){if(c.props.commentID===null||c.props.commentID===void 0)return;c.props.onDeleteComment(c.props.commentID)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){return!this.props.showActions?null:b("React").jsxs("div",{className:"_3i54",children:[b("React").jsx(b("Link.react"),{onClick:this.$2,children:b("React").jsx("div",babelHelpers["extends"]({className:"_3ybh"},b("Tooltip").propsFor(h._("Delete")),{"data-tooltip-delay":k}))}),b("React").jsx(b("Link.react"),{onClick:this.$3,children:b("React").jsx("div",babelHelpers["extends"]({className:"_3ybi"},b("Tooltip").propsFor(h._("Reply")),{"data-tooltip-delay":k}))})]})};d.render=function(){var a;a=(a=this.props.igUser)!=null?(a=a.profile_picture_24)!=null?a.uri:a:a;return b("React").jsx(b("XUICard.react"),{className:b("joinClasses")(this.props.showActions?"_3i4z":"",this.props.className),"data-testid":"ig_comment_row",children:b("React").jsxs(b("Layout.react"),{className:"_3i4-",children:[b("React").jsx(i,{children:b("React").jsx(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageSize:this.props.profilePhotoSize,imageURI:a,shape:"circle"})}),b("React").jsx(j,{children:b("React").jsx("div",{className:"_3i4_",children:b("React").jsxs(b("XUIText.react"),{children:[b("React").jsx("span",{className:"_3i53",children:this.props.igUser&&this.props.igUser.username}),b("React").jsx(b("TextWithEntities.react"),{renderEmoji:!0,text:this.props.message})]})})}),b("React").jsxs(i,{children:[this.$1(),b("React").jsx("div",{className:"_3i55",children:b("React").jsx(b("Timestamp.react"),{text:b("formatDate")(this.props.creationTime,"M j"),time:Number(this.props.creationTime)})})]})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxInstagramPostCaptionContainer.react",["PagesManagerInboxInstagramPostCommentRow.react","React","RelayModern","emptyFunction","PagesManagerInboxInstagramPostCaptionContainer_igPost.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=24;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return!this.props.igPost.caption_text?null:b("React").jsx(b("PagesManagerInboxInstagramPostCommentRow.react"),{className:this.props.className,creationTime:this.props.igPost.creation_time,igUser:this.props.igPost.instagram_actor,message:this.props.igPost.caption_text,onDeleteComment:b("emptyFunction"),onReplyComment:b("emptyFunction"),profilePhotoSize:h,showActions:!1})};return c}(b("React").Component);e.exports=a(c,{igPost:g!==void 0?g:g=b("PagesManagerInboxInstagramPostCaptionContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostCommentRowContainer.react",["PagesManagerInboxInstagramCommentDeleteMutation","PagesManagerInboxInstagramPostCommentRow.react","PagesManagerInboxInstagramPostComposerActions","React","RelayModern","PagesManagerInboxInstagramPostCommentRowContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=24;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("PagesManagerInboxInstagramCommentDeleteMutation").commit({actor_id:d.props.pageID,instagram_comment_id:a,instagram_media_id:d.props.instagram_media_id})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a){b("PagesManagerInboxInstagramPostComposerActions").linkReply(a)};d.render=function(){var a=this,c;c=((c=this.props.item)!=null?c.replies:c)||[];c=c.map(function(c){return b("React").jsx(b("PagesManagerInboxInstagramPostCommentRow.react"),{commentID:c.id,creationTime:c.creation_time,igUser:c.instagram_actor,message:c.text,onDeleteComment:a.$1,onReplyComment:a.$2,profilePhotoSize:h,showActions:!0})});return b("React").jsxs("div",{children:[b("React").jsx(b("PagesManagerInboxInstagramPostCommentRow.react"),{commentID:this.props.item.id,creationTime:this.props.item.creation_time,igUser:this.props.item.instagram_actor,message:this.props.item.text,onDeleteComment:this.$1,onReplyComment:this.$2,profilePhotoSize:h,showActions:!0}),c]})};return c}(b("React").PureComponent);e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerInboxInstagramPostCommentRowContainer_item.graphql")})}),null);
__d("PagesManagerPageCommItemEditSubscriptionHandler",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=0,i={_generateToken:function(){return"page_comm_item_edit_subscription_"+h++},addCallback:function(a){var b=i._generateToken();g.set(b,a);return b},removeCallback:function(a){g["delete"](a)},trigger:function(a){g.forEach(function(b){return b(a)})}};e.exports=i}),null);
__d("PagesManagerInboxInstagramPostCommentsContainer.react",["cx","fbt","Link.react","List.react","PagesManagerInboxFilterStore","PagesManagerInboxInstagramCommentRowContainer.react","PagesManagerInboxInstagramPostCaptionContainer.react","PagesManagerInboxInstagramPostCommentRowContainer.react","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerPageCommItemEditSubscriptionHandler","React","RelayModern","emptyFunction","PagesManagerInboxInstagramPostCommentsContainer_igPost.graphql","PagesManagerInboxInstagramPostCommentsContainer_item.graphql","PagesManagerInboxInstagramPostCommentsContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=10;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(){d.props.relay.loadMore(l,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("PagesManagerPageCommItemEditSubscriptionHandler").addCallback(function(c){return a.props.relay.refetchConnection(a.props.igPost.instagram_comments.edges.length,b("emptyFunction"))});b("PagesManagerInboxLogger").itemRendered(this.props.item.id)};d.componentWillUnmount=function(){this.$1&&b("PagesManagerPageCommItemEditSubscriptionHandler").removeCallback(this.$1)};d.$2=function(){return this.props.relay.hasMore()};d.$3=function(){return!this.$2()?null:b("React").jsx("div",{className:"_13ze",children:b("React").jsx(b("Link.react"),{className:"_2nye",onClick:this.$4,children:h._("Load more comments")})})};d.render=function(){var a=this,c=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];return b("React").jsxs("div",{children:[b("React").jsx(b("PagesManagerInboxInstagramPostCaptionContainer.react"),{className:(this.$2()?"_3-96":"")+(this.$2()?"":" _3-95"),igPost:this.props.igPost}),this.$3(),b("React").jsx(b("List.react"),{children:c.shouldShowIGRevampComments?this.props.igPost.instagram_comments.edges.map(function(c){return b("React").jsx(b("PagesManagerInboxInstagramCommentRowContainer.react"),{igMediaID:a.props.igPost.id,item:c.node,pageID:a.props.pageID},c.node.id)}):this.props.igPost.instagram_comments.edges.map(function(c){return b("React").jsx(b("PagesManagerInboxInstagramPostCommentRowContainer.react"),{instagram_media_id:a.props.igPost.id,item:c.node,pageID:a.props.pageID},c.node.id)})})]})};return c}(b("React").Component);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramPostCommentsContainer_igPost.graphql"),item:j!==void 0?j:j=b("PagesManagerInboxInstagramPostCommentsContainer_item.graphql")},{direction:"backward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.igPost)!=null?a.instagram_comments:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,instagramMediaID:a.igPost.id}},query:k!==void 0?k:k=b("PagesManagerInboxInstagramPostCommentsContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxInstagramCommentCreateMutation",["ClientIDs","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerInboxInstagramCommentCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PagesManagerInboxInstagramCommentCreateMutation.graphql");function a(a,c){__p&&__p();var d=function(b){__p&&__p();var c=b.get(a.instagram_media.id);if(!c)return;var d=h.getConnection(c,"PagesManagerInboxInstagramPostCommentsContainer_instagram_comments");c=h.getConnection(c,"PagesManagerInboxInstagramCommentsContainer_ig_comments");b=b.getRootField("instagram_comment_create");if(!b)return;b=b.getLinkedRecord("instagram_media_comment_edge");d&&b&&h.insertEdgeAfter(d,b);c&&b&&h.insertEdgeAfter(c,b)},e=function(){var c=a.instagram_media.instagram_actor;return{instagram_comment_create:{instagram_media_comment_edge:{node:{id:b("ClientIDs").getNewClientID(),creation_time:Math.round(Date.now()/1e3),text:a.text,instagram_actor:{id:c.id,username:c.username,profile_picture:{uri:c.profile_picture_24.uri}}}}}}};return i(b("RelayFBEnvironment"),{mutation:j,optimisticResponse:e,optimisticUpdater:d,updater:d,variables:{input:{actor_id:a.actor_id,instagram_media_id:a.instagram_media.id,text:a.text}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxInstagramPostComposer.react",["cx","fbt","CenteredContainer.react","Layout.react","PagesManagerInboxInstagramUserPhotoContainer.react","React","ShimButton.react","XUITextInput.react","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Layout.react").Column,j=b("Layout.react").FillColumn,k=32;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){if(a.comment!==this.props.comment&&a.comment!==""){var c=this.$1;c&&b("setImmediate")(function(){return c.focusInput()})}};d.render=function(){var a=this,c;c=(c=this.props.igUser)!=null?(c=c.profile_picture_32)!=null?c.uri:c:c;return b("React").jsxs(b("Layout.react"),{className:"_1fn3",children:[b("React").jsx(i,{className:"_1fn4",children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageURI:c,imageSize:k})})}),b("React").jsx(j,{children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("XUITextInput.react"),{className:"_1fn5",ref:function(b){return a.$1=b},onChange:this.props.onCommentChange,onEnter:this.props.handleComment,placeholder:h._("Add a comment..."),value:this.props.comment})})}),b("React").jsx(i,{children:b("React").jsx("div",{className:"_45d7",children:b("React").jsx("div",{className:"_45d8"})})}),b("React").jsx(i,{children:this.$2()})]})};d.$2=function(){var a=this.props.comment==="",c=b("React").jsx("div",{className:"_1fn8"+(a?" _45df":"")+(a?"":" _45dg")});a||(c=b("React").jsx(b("ShimButton.react"),{onClick:this.props.handleComment,children:c}));return b("React").jsx(b("CenteredContainer.react"),{className:a?"":"_45d5",fullHeight:!0,horizontal:!1,vertical:!0,children:c})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerInboxInstagramReplyCreateMutation",["PagesManagerInboxIGCommentAction","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerInboxInstagramReplyCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=b("RelayRuntime").ConnectionHandler,j=g!==void 0?g:g=b("PagesManagerInboxInstagramReplyCreateMutation.graphql");function a(a,c){__p&&__p();var d=function(a,c){__p&&__p();var d;d=(d=c.instagram_reply_create)==null?void 0:(d=d.instagram_reply)==null?void 0:d.id;c=(c=c.instagram_reply_create)==null?void 0:(c=c.instagram_reply)==null?void 0:c.parent_comment_id;if(!d||!c)return;d=a.get(d);var e=a.get(c);if(!d||!e)return;e=i.getConnection(e,"PagesManagerInboxInstagramRepliesContainer_instagram_replies");if(!e)return;a=i.createEdge(a,e,d,"InstagramCommentInstagramRepliesEdge");e&&a&&i.insertEdgeAfter(e,a);b("PagesManagerInboxIGCommentAction").reply(c)},e=function(){var b=a.instagram_media.instagram_actor;return{instagram_reply_create:{instagram_reply:{id:a.actor_id,text:a.text,creation_time:Math.round(Date.now()/1e3),like_count:0,instagram_actor:{id:b.id,username:b.username,profile_picture:{uri:b.profile_picture_24.uri}}}}}};return h(b("RelayFBEnvironment"),{mutation:j,optimisticResponse:e,optimisticUpdater:d,updater:d,variables:{input:{actor_id:a.actor_id,instagram_media_id:a.instagram_media.id,text:a.text,parent_comment_id:a.parent_comment_id}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxInstagramPostComposerContainer.react",["FluxContainer","PagesManagerInboxAction","PagesManagerInboxFilterStore","PagesManagerInboxInstagramCommentCreateMutation","PagesManagerInboxInstagramPostComposer.react","PagesManagerInboxInstagramPostComposerActions","PagesManagerInboxInstagramPostComposerStore.react","PagesManagerInboxInstagramReplyCreateMutation","PagesManagerInboxLogger","PagesManagerInboxStore","React","RelayModern","PagesManagerInboxInstagramPostComposerContainer_igPost.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={comment:"",parent_comment_id:null},d.$1=function(){var a=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];!!d.state.parent_comment_id&&!!a.shouldShowIGRevampComments?b("PagesManagerInboxInstagramReplyCreateMutation").commit({actor_id:d.props.pageID,instagram_media:d.props.igPost,text:d.state.comment,parent_comment_id:d.state.parent_comment_id}):b("PagesManagerInboxInstagramCommentCreateMutation").commit({actor_id:d.props.pageID,instagram_media:d.props.igPost,text:d.state.comment});b("PagesManagerInboxInstagramPostComposerActions").clearMessage();b("PagesManagerInboxAction").comment();b("PagesManagerInboxLogger").logSendComment("INSTAGRAM",d.props.pageID);d.props.onCreateComment()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxInstagramPostComposerStore.react")]};c.calculateState=function(a){return{comment:b("PagesManagerInboxInstagramPostComposerStore.react").getMessage(),parent_comment_id:b("PagesManagerInboxInstagramPostComposerStore.react").getParentCommentID()}};var d=c.prototype;d.render=function(){return b("React").jsx(b("PagesManagerInboxInstagramPostComposer.react"),{comment:this.state.comment,handleComment:this.$1,igUser:this.props.igPost.instagram_actor,onCommentChange:c.$2})};return c}(b("React").PureComponent);c.$2=function(a){b("PagesManagerInboxInstagramPostComposerActions").setMessage(a.target.value)};e.exports=a(b("FluxContainer").create(c),{igPost:g!==void 0?g:g=b("PagesManagerInboxInstagramPostComposerContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxDetailViewContainer.react",["PagesManagerInboxDetailView.react","PagesManagerMessagesInterface","React","RelayModern","UserActivity","PagesManagerInboxDetailViewContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(a){this.$2()};d.$2=function(){var a=this;b("UserActivity").isOnTab()&&b("UserActivity").isActive()?this.$3():this.$1||(this.$1=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(a.$4(),a.$3())}))};d.$3=function(){!this.props.isRead&&this.props.threadID&&b("PagesManagerMessagesInterface").changeThreadReadStatus(this.props.pageID,this.props.threadID,!0)};d.$4=function(){this.$1&&this.$1.unsubscribe(),this.$1=null};d.render=function(){return b("React").jsx(b("PagesManagerInboxDetailView.react"),babelHelpers["extends"]({},this.props,{commPlatform:this.props.item.comm_platform,commType:this.props.item.comm_type,token:this.props.item.id}))};return c}(b("React").PureComponent);e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerInboxDetailViewContainer_item.graphql")})}),null);
__d("PagesManagerInboxInstagramPostSummaryContainer.react",["cx","fbt","CenteredContainer.react","React","RelayModern","PagesManagerInboxInstagramPostSummaryContainer_igPost.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs("div",{className:"_2p4t",children:[a.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,className:"_2p4w",children:a.jsx("div",{className:"_u84"})}),a.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,className:"_2p4x",children:this.props.igPost.like_sentence.text}),this.$1()]})};d.$1=function(){var a=this.props.igPost.comment_count;return!a?null:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,className:"_2p4y",children:h._({"*":"{number} comments","_1":"1 comment"},[h._plural(a,"number")])})};return c}(b("React").Component);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramPostSummaryContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostPhotoCardContainer.react",["cx","ImageBlock.react","PagesManagerInboxInstagramPostPhotoContainer.react","PagesManagerInboxInstagramPostSummaryContainer.react","PagesManagerInboxInstagramUserPhotoContainer.react","React","RelayModern","Timestamp.react","XUICard.react","XUICardSection.react","formatDate","PagesManagerInboxInstagramPostPhotoCardContainer_igPost.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=476,j=32;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;a=(a=this.props.igPost)!=null?(a=a.instagram_actor)!=null?(a=a.profile_picture_32)!=null?a.uri:a:a:a;return b("React").jsxs(b("XUICard.react"),{className:"_4cye",children:[b("React").jsxs(b("XUICardSection.react"),{children:[b("React").jsxs(b("ImageBlock.react"),{spacing:"medium",children:[b("React").jsx("div",{className:"_4cyf",children:b("React").jsx(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageURI:a,imageSize:j})}),b("React").jsxs("div",{className:"_4cyg",children:[b("React").jsx("div",{className:"_4cyh",children:this.props.igPost.instagram_actor.username}),b("React").jsx("div",{className:"_4cyi",children:b("React").jsx(b("Timestamp.react"),{text:b("formatDate")(this.props.igPost.creation_time,"M j"),time:this.props.igPost.creation_time})})]})]}),b("React").jsx("div",{className:"_4cyk",children:b("React").jsx(b("PagesManagerInboxInstagramPostPhotoContainer.react"),{igPost:this.props.igPost,imageSize:i,onImageInitialLoad:this.props.onImageInitialLoad})})]}),b("React").jsx(b("XUICardSection.react"),{background:"light-wash",children:b("React").jsx(b("PagesManagerInboxInstagramPostSummaryContainer.react"),{igPost:this.props.igPost})})]})};return c}(b("React").Component);e.exports=a(c,{igPost:h!==void 0?h:h=b("PagesManagerInboxInstagramPostPhotoCardContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostContainer.react",["cx","PagesManagerInboxDetailViewContainer.react","PagesManagerInboxFilterStore","PagesManagerInboxInstagramCommentsContainer.react","PagesManagerInboxInstagramContextCard.react","PagesManagerInboxInstagramPostCommentsContainer.react","PagesManagerInboxInstagramPostComposerContainer.react","PagesManagerInboxInstagramPostPhotoCardContainer.react","PagesManagerInboxStore","React","RelayModern","PagesManagerInboxInstagramPostContainer_igPost.graphql","PagesManagerInboxInstagramPostContainer_item.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$5=function(){var a=c.$1;a&&a.scrollToBottom&&a.scrollToBottom()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxDetailViewContainer.react"),{componentRef:function(b){a.$1=b},composer:this.$2(),content:this.$3(),contextCard:j.shouldShowIGRevampComments?this.$4():null,height:this.props.height,item:this.props.item,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID})};d.$3=function(){if(j.shouldShowIGRevampComments)return b("React").jsx(b("PagesManagerInboxInstagramCommentsContainer.react"),{igPost:this.props.igPost,item:this.props.item,onInitialLoad:this.$5,pageID:this.props.mailboxID});else return b("React").jsxs("div",{className:"_hbt","data-testid":"ig_comment_post",children:[b("React").jsx(b("PagesManagerInboxInstagramPostPhotoCardContainer.react"),{igPost:this.props.igPost,onImageInitialLoad:this.$5}),b("React").jsx(b("PagesManagerInboxInstagramPostCommentsContainer.react"),{igPost:this.props.igPost,item:this.props.item,pageID:this.props.mailboxID})]})};d.$2=function(){return b("React").jsx(b("PagesManagerInboxInstagramPostComposerContainer.react"),{igPost:this.props.igPost,onCreateComment:this.$5,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,ref:"composer"})};d.$4=function(){return b("React").jsx(b("PagesManagerInboxInstagramContextCard.react"),{height:this.props.height,igPost:this.props.igPost})};return c}(b("React").PureComponent);e.exports=a(c,{igPost:h!==void 0?h:h=b("PagesManagerInboxInstagramPostContainer_igPost.graphql"),item:i!==void 0?i:i=b("PagesManagerInboxInstagramPostContainer_item.graphql")})}),null);
__d("IGMessagingLocalIDs",["randomInt"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={generateOfflineThreadingID:function(a){a=a||Date.now();var c=b("randomInt")(0,4294967295);c=("0000000000000000000000"+c.toString(2)).slice(-22);a=a.toString(2)+c;return g(a.slice(-63))}};function g(a){__p&&__p();var b="";a=a;while(a!=="0"){var c=0,d="";for(var e=0;e<a.length;e++)c=2*c+parseInt(a[e],10),c>=10?(d+="1",c-=10):d+="0";b=c.toString()+b;a=d.slice(d.indexOf("1"))}return b}e.exports=a}),null);
__d("MediaManagerFBCommsDetailView.react",["cx","FlexLayout.react","FlexLayoutItem.react","Layout.react","LayoutFillColumn.react","LineClamp.react","React","SUIButton.react","SUICard.react","SUIText.react","URI","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){return function(){(h||(h=b("URI"))).goURIOnNewWindow(a)}};d.render=function(){if(this.props.item==null)return null;var a=this.props.item.node;return b("React").jsx(b("Layout.react"),{style:{height:this.props.height},children:b("React").jsx(b("LayoutFillColumn.react"),{className:"_8ax6",children:b("React").jsx(b("SUICard.react"),{margin:"_3-8u _3-8z",children:b("React").jsxs(b("FlexLayout.react"),{className:"_8v_x",direction:"vertical",children:[b("React").jsxs(b("FlexLayout.react"),{className:"_8v_y",direction:"vertical",children:[b("React").jsx(b("LineClamp.react"),{enableTooltipOnOverflow:!0,lines:2,children:b("React").jsx(b("SUIText.react"),{color:"primary",margin:"_3-95",size:"body1",weight:"bold",children:a.title})}),b("React").jsx(b("LineClamp.react"),{enableTooltipOnOverflow:!0,lines:5,children:b("React").jsx(b("SUIText.react"),{color:"primary",size:"body2",children:a.body})})]}),b("React").jsx(b("FlexLayoutItem.react"),{align:"end",children:b("React").jsx(b("SUIButton.react"),{label:a.cta.label,onClick:this.$1(a.cta.action),use:"confirm"})})]})})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MediaManagerFBCommsDetailViewContainer.react",["FluxContainer","MediaManagerFBCommsDetailView.react","MediaManagerFBCommsStore","PagesManagerInboxStore","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore"),b("MediaManagerFBCommsStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getMailboxID("MEDIA_MANAGER_FB_COMMS");a=b("MediaManagerFBCommsStore").get(a);a=a.hasValue()?a.getValueEnforcing():b("immutable").List();return{messages:a}};var d=c.prototype;d.render=function(){var a=this;if(this.state.messages==null||this.props.viewingItem==null)return null;var c=this.state.messages.find(function(b){return b.node.id===a.props.viewingItem});return b("React").jsx(b("MediaManagerFBCommsDetailView.react"),{height:this.props.height,item:c})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxDetailLoading.react",["CenteredContainer.react","React","SUIPagesManagerTheme","SUISpinner.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{style:{backgroundColor:this.props.backgroundColor,height:this.props.height},children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,vertical:!0,children:b("React").jsx(b("SUISpinner.react"),{theme:b("SUIPagesManagerTheme")})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("XWECMessagingSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/wec/send/",{})}),null);
__d("XPagesContextCardSetIsHiddenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/customer/context_card/set_is_hidden/",{})}),null);
__d("PagesManagerMessagingMessagelistStore",["ActorURI","AsyncRequest","FluxStore","MercuryThreadlistConstants","MessengerState.bs","PagesManagerMessagingActionType","PagesManagerMessagingMessagelistDispatcher","XPagesContextCardSetIsHiddenController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this,b("PagesManagerMessagingMessagelistDispatcher"))||this;c.$PagesManagerMessagingMessagelistStore1="";c.$PagesManagerMessagingMessagelistStore2=!1;c.$PagesManagerMessagingMessagelistStore3=!1;c.$PagesManagerMessagingMessagelistStore4=!1;c.$PagesManagerMessagingMessagelistStore6=[];c.$PagesManagerMessagingMessagelistStore7=0;c.$PagesManagerMessagingMessagelistStore9=new Map();c.$PagesManagerMessagingMessagelistStore10=0;c.$PagesManagerMessagingMessagelistStore11=0;return c}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesManagerMessagingActionType").LIST.LOADED:this.$PagesManagerMessagingMessagelistStore12(a);this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.LOADING:this.$PagesManagerMessagingMessagelistStore2=a.isLoading;this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.LOAD_MORE:this.$PagesManagerMessagingMessagelistStore3=a.isLoadingMore;this.__emitChange();break;case b("PagesManagerMessagingActionType").SET_SCROLL_HEIGHT:var c=a.height;c!==this.$PagesManagerMessagingMessagelistStore7&&(this.$PagesManagerMessagingMessagelistStore7=c,this.__emitChange());break;case b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT:this.$PagesManagerMessagingMessagelistStore10=a.appointmentBannerHeight;this.__emitChange();break;case b("PagesManagerMessagingActionType").THREAD_LEVEL.UPDATE_THREAD:this.__emitChange();break;case b("PagesManagerMessagingActionType").SET_IS_CONTEXT_CARD_HIDDEN:this.$PagesManagerMessagingMessagelistStore13(a.pageID,a.isHidden);this.__emitChange();break;case b("PagesManagerMessagingActionType").HOT_LIKE.END:this.$PagesManagerMessagingMessagelistStore4=!1;this.$PagesManagerMessagingMessagelistStore5=null;break;case b("PagesManagerMessagingActionType").HOT_LIKE.START:this.$PagesManagerMessagingMessagelistStore4=!0;this.$PagesManagerMessagingMessagelistStore5=a.preview;this.__emitChange();break;case b("PagesManagerMessagingActionType").BAN.UPDATE:this.$PagesManagerMessagingMessagelistStore14(a.pageID,a.userID,a.isBanned);this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.CONTENT_SEARCH_SELECTED_INDEX:this.$PagesManagerMessagingMessagelistStore11=a.contentSearchSelectedIndex;this.__emitChange();break;default:return}};d.$PagesManagerMessagingMessagelistStore12=function(a){this.$PagesManagerMessagingMessagelistStore2=!1,this.$PagesManagerMessagingMessagelistStore1=a.threadID,this.$PagesManagerMessagingMessagelistStore6=a.data.messages};d.isLoading=function(){return this.$PagesManagerMessagingMessagelistStore2};d.isLoadingMore=function(){return this.$PagesManagerMessagingMessagelistStore3};d.getMessagelist=function(a,c){if(c!=this.$PagesManagerMessagingMessagelistStore1)return b("MessengerState.bs").getThreadMessagesRangeNow(a,c,0,b("MercuryThreadlistConstants").WEBMESSENGER_MORE_MESSAGES_COUNT).reverse();if(this.$PagesManagerMessagingMessagelistStore4&&this.$PagesManagerMessagingMessagelistStore5){a=this.$PagesManagerMessagingMessagelistStore6.slice();this.$PagesManagerMessagingMessagelistStore5&&a.push(this.$PagesManagerMessagingMessagelistStore5);return a}return this.$PagesManagerMessagingMessagelistStore6};d.getScrollHeight=function(){return this.$PagesManagerMessagingMessagelistStore7};d.isCardHidden=function(){return this.$PagesManagerMessagingMessagelistStore8===void 0||this.$PagesManagerMessagingMessagelistStore8===null?null:this.$PagesManagerMessagingMessagelistStore8};d.getAppointmentBannerHeight=function(){return this.$PagesManagerMessagingMessagelistStore10};d.$PagesManagerMessagingMessagelistStore13=function(a,c){this.$PagesManagerMessagingMessagelistStore8=c;a=b("ActorURI").create(b("XPagesContextCardSetIsHiddenController").getURIBuilder().getURI(),a);new(b("AsyncRequest"))().setURI(a).setData({is_hidden:c}).setMethod("POST").send()};d.$PagesManagerMessagingMessagelistStore15=function(a,b){return a+"_"+b};d.getIsUserBanned=function(a,b){return this.$PagesManagerMessagingMessagelistStore9.get(this.$PagesManagerMessagingMessagelistStore15(a,b))};d.$PagesManagerMessagingMessagelistStore14=function(a,b,c){this.$PagesManagerMessagingMessagelistStore9.set(this.$PagesManagerMessagingMessagelistStore15(a,b),c)};d.getContentSearchSelectedIndex=function(){return this.$PagesManagerMessagingMessagelistStore11};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerMessagingMessagelistDispatcher"))}),null);
__d("PagesManagerInboxMessengerDetailView.react",["MediaManagerInboxContext.react","MercuryIDs","PagesManagerInboxDetailView.react","PagesManagerMessagesInterface","React","UserActivity","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(a){this.context&&this.context.logRowPreviewImpression!==b("emptyFunction")&&this.context.logRowPreviewImpression(b("MercuryIDs").getUserIDFromThreadID(this.props.threadID),"MESSENGER",this.props.mediaManagerInboxRowIndex,this.props.selectedFolder),this.$2()};d.$2=function(){var a=this;b("UserActivity").isOnTab()&&b("UserActivity").isActive()?this.$3():this.$1||(this.$1=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(a.$4(),a.$3())}))};d.$3=function(){!this.props.isRead&&this.props.threadID&&b("PagesManagerMessagesInterface").changeThreadReadStatus(this.props.pageID,this.props.threadID,!0)};d.$4=function(){this.$1&&this.$1.unsubscribe(),this.$1=null};d.render=function(){return b("React").jsx(b("PagesManagerInboxDetailView.react"),babelHelpers["extends"]({},this.props,{commPlatform:"MESSENGER",commType:"FB_MESSAGE",token:this.props.threadID}))};return c}(b("React").PureComponent);c.contextType=a;e.exports=c}),null);
__d("PagesManagerMessagingComposerActions",["PagesManagerMessagingComposerActionTypes","PagesManagerMessagingComposerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={clearMessage:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").MESSAGE.CLEAR})},clearShareLinkUploader:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.CLEAR})},completeAllAttachments:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ALL_COMPLETE})},completeAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_COMPLETE,attachment:a})},detachAllAttachments:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH_ALL})},detachAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH,uploadID:a})},fileUploaderReady:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").UPLOADER.READY,uploader:a})},setAutomatedCheckoutId:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").AUTOMATED_CHECKOUT.SET_AUTOMATED_CHECKOUT_ID,automatedCheckoutID:a})},setIsSavedRepliesLoading:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.LOADING,isLoading:a})},setMessage:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").MESSAGE.SET,message:a})},setParticipant:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").PARTICIPANT.SET,participant:a})},setSavedReplies:function(a,c){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET,replies:a,tokens:c})},setSavedReplyResponses:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_REPLIES,replies:a})},setSavedReplyTokens:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_TOKENS,tokens:a})},setShouldShowSavedReplyUpsellToast:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_TOAST,shouldShowSavedReplyUpsellToast:a})},setShouldShowSavedReplyUpsellNUX:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_NUX,shouldShowSavedReplyUpsellNUX:a})},setShareLinkUploader:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.READY,uploader:a})},startAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_START,files:a})},setComposerStateReason:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").COMPOSER_STATE_REASON,composerStateReason:a})}};e.exports=a}),null);
__d("GraphQLSubscribeModes",[],(function(a,b,c,d,e,f){"use strict";a={SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe"};e.exports=a}),null);
__d("GraphQLMutationDataHandler",["invariant"],(function(a,b,c,d,e,f,g){"use strict";a={getMutationType:function(a){!!a&&Object.keys(a).length===1||g(0,3445);return Object.keys(a)[0]}};e.exports=a}),null);
__d("GraphQLSubscriptionTracker",[],(function(a,b,c,d,e,f){"use strict";var g={};a={trackSubscription:function(a,b){g[b]=a},getSubscription:function(a){return g[a]},removeSubscription:function(a){delete g[a]}};e.exports=a}),null);
__d("RelayGraphQLSubscriptionNetworkLayer",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h;a={injectGraphQLSubscriber:function(a){h=a},sendSubscribeRequest:function(a){h||g(0,1910),h.sendSubscribeRequest(a)}};e.exports=a}),null);
__d("RQLSubscription",["invariant","GraphQLMutationDataHandler","GraphQLSubscribeModes","GraphQLSubscriptionTracker","RelayGraphQLSubscriptionNetworkLayer"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={sendSubscribe:function(a,c,d,e,f){b("RelayGraphQLSubscriptionNetworkLayer").sendSubscribeRequest({mode:b("GraphQLSubscribeModes").SUBSCRIBE,subscription:a,subscriptionQueryID:e,params:c,clientSubscriptionID:d,topic:f})},sendUnsubscribe:function(a,c,d,e,f){b("RelayGraphQLSubscriptionNetworkLayer").sendSubscribeRequest({mode:b("GraphQLSubscribeModes").UNSUBSCRIBE,subscription:a,subscriptionQueryID:e,params:c,clientSubscriptionID:d,topic:f})},handleSubscriptionPayload:function(a){var c=b("GraphQLMutationDataHandler").getMutationType(a);a[c]||g(0,5237);var d="client_subscription_id"in a[c];if(!d)return;d=a[c].client_subscription_id;d||g(0,5238);c=b("GraphQLSubscriptionTracker").getSubscription(d);c&&c.handlePayload(a)}};e.exports=a}),null);
__d("RelayGraphQLSubscriber",["Promise","GraphQLSubscribeModes","GraphQLSubscriptionsTypedLogger","RelayRTIGraphQLSubscriberUtils","RQLSubscription","SkywalkerManager","nullthrows","react-relay-deprecated/classic/query/RelayQuery","react-relay-deprecated/classic/route/RelayMetaRoute","react-relay-deprecated/classic/traversal/flattenRelayQuery","react-relay-deprecated/classic/traversal/printRelayQuery"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayRTIGraphQLSubscriberUtils").getTopicAndTransformContext,h={},i=155160167952447;function a(a){__p&&__p();return{sendSubscribeRequest:function(c){var d=this,e,f=this._prepareData(c);c.mode===b("GraphQLSubscribeModes").SUBSCRIBE?e=g(a,f.queryText,f.queryID,f.queryParams,f.topic).then(function(a){var b=a.topic;a=a.transformContext;f.topic=b;a.appID=i;return d._subscribe(f,a)}):c.mode===b("GraphQLSubscribeModes").UNSUBSCRIBE?e=this._unsubscribe(f):e=b("Promise").reject("invalid mode");e["catch"](function(a){return!1})},_prepareData:function(a){var c={input:JSON.stringify(babelHelpers["extends"]({},a.params,{client_subscription_id:a.clientSubscriptionID}))},d=b("react-relay-deprecated/classic/query/RelayQuery").Subscription.create(a.subscription,b("react-relay-deprecated/classic/route/RelayMetaRoute").get("$GraphQLSubscriber"),c),e=b("react-relay-deprecated/classic/traversal/printRelayQuery")(b("nullthrows")(b("react-relay-deprecated/classic/traversal/flattenRelayQuery")(d))).text;return{queryText:e,queryID:a.subscriptionQueryID!=null?Number(a.subscriptionQueryID):null,queryParams:c,topic:a.topic!=null?String(a.topic):null,tokenKey:JSON.stringify({params:a.params,text:e}),logger:new(b("GraphQLSubscriptionsTypedLogger"))().setSubscriptionCall(d.getCall().name).setQueryParams(c).setMechanism("skywalker")}},_subscribe:function(a,c){var d=a.topic,e=a.tokenKey,f=a.logger;return new(b("Promise"))(function(a){var g={context:{transformContext:JSON.stringify(c)}};h[e]=b("SkywalkerManager").subscribe(b("nullthrows")(d),function(a){a=JSON.parse(a.payload);f.setEvent("receivepayload").log();b("RQLSubscription").handleSubscriptionPayload(a)},g);f.setEvent("client_subscribe").log();a()})},_unsubscribe:function(a){var c=a.tokenKey,d=a.logger;return new(b("Promise"))(function(a){h[c].unsubscribe(),delete h[c],d.setEvent("client_unsubscribe").log(),a()})}}}e.exports=a}),null);
__d("ServicesAppointmentBadgeSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"1596596817104051",queryID:"185534012240172"})}),null);
__d("ServicesAppointmentComposerBadgeQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2239139299490883"};b.getQueryID=function(){return"476383886201370"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1687920431245100"};b.getQueryID=function(){return"184933352139512"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ServicesMessengerAppointmentActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({MESSENGER_APPOINTMENT_TOGGLE_DIALOG:null});e.exports=a}),null);
__d("ServicesMessengerAppointmentActions",["ServicesCTAUnificationDispatcher","ServicesMessengerAppointmentActionTypes"],(function(a,b,c,d,e,f){"use strict";var g=b("ServicesMessengerAppointmentActionTypes").MESSENGER_APPOINTMENT_TOGGLE_DIALOG;a={toggleDialog:function(a,c,d,e,f){b("ServicesCTAUnificationDispatcher").dispatch({type:g,payload:{additionalLoggingData:c,onUpdateCompleted:f,referrerData:d,shouldShowDialog:a,startTime:e}})}};e.exports=a}),null);
__d("ServicesMessengerAppointmentStore",["FluxReduceStore","ServicesCTAUnificationDispatcher","ServicesMessengerAppointmentActionTypes","emptyFunction","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ServicesMessengerAppointmentActionTypes").MESSENGER_APPOINTMENT_TOGGLE_DIALOG,h={referrerUIComponent:"composer",referrerUISurface:"message"},i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({additionalLoggingData:null,onUpdateCompleted:null,referrerData:null,shouldShowDialog:!1,startTime:null}));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new i()};d.reduce=function(a,b){var c=b.type;b=b.payload;switch(c){case g:return a.set("shouldShowDialog",b.shouldShowDialog).set("additionalLoggingData",b.additionalLoggingData).set("referrerData",b.referrerData).set("startTime",b.startTime).set("onUpdateCompleted",b.onUpdateCompleted);default:return a}};d.getShouldShowDialog=function(){var a;return(a=this.getState().shouldShowDialog)!=null?a:!1};d.getAdditionalLoggingData=function(){return this.getState().additionalLoggingData};d.getReferrerData=function(){var a;return(a=this.getState().referrerData)!=null?a:h};d.getStartTime=function(){return this.getState().startTime};d.getOnUpdateCompleted=function(){var a;return(a=this.getState().onUpdateCompleted)!=null?a:b("emptyFunction")};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("ServicesCTAUnificationDispatcher"))}),null);
__d("XDliteGraphQLSkywalkerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/dlite/skywalker_topic/",{})}),null);
__d("PagesManagerInboxComposerCreateAppointmentButton.react",["cx","fbt","ChannelManager","CurrentUser","DateConsts","FluxContainer","Instant","Link.react","PagesInboxThreadActionSystemDispatcher","PagesPlatformBookingMessageViewer","React","ReactDOM","RelayGraphQLSubscriptionNetworkLayer","RelayGraphQLSubscriber","ServicesEventsLogger","ServicesAppointmentBadgeSubscription","ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation","ServicesAppointmentComposerBadgeQueryWebGraphQLQuery","ServicesAppointmentDialogRoot.react","ServicesAppointmentManagementDialogEnum","ServicesMessengerAppointmentActions","ServicesCTAUnificationDispatcher","ServicesDateTimeUtils","ServicesMessengerAppointmentNUXActions","ServicesMessengerAppointmentNUXStore","ServicesMessengerAppointmentStore","WebGraphQL","XDliteGraphQLSkywalkerController","XUIAmbientNUX.react","emptyFunction","promiseDone","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();b("ChannelManager");var i={referrerUIComponent:"composer",referrerUISurface:"message"};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.composerBadgeSubscription=null,d.$1=!1,d.handleClick=function(){d.state.showComposerBadge&&b("WebGraphQL").exec(new(b("ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation"))({input:{actor_id:b("CurrentUser").getAccountID(),client_mutation_id:b("uuid")(),page_id:d.props.pageID,user_id:d.props.recipientID}})),d.handleToggleDialog(!0),d.setState({showComposerBadge:!1})},d.handleToggleDialog=function(a){b("ServicesMessengerAppointmentActions").toggleDialog(a,null,i,d.$2(),d.$3)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ServicesMessengerAppointmentNUXStore"),b("ServicesMessengerAppointmentStore")]};c.calculateState=function(a){if(!a)return{additionalLoggingData:null,dialogShown:!1,onUpdateCompleted:b("emptyFunction"),referrerData:i,showComposerBadge:!1,showComposerNUX:!1,startTime:null,timeMentioned:null,timezoneID:b("ServicesDateTimeUtils").getDefaultTimezoneID()};var c=b("ServicesMessengerAppointmentNUXStore").getState();return babelHelpers["extends"]({},a,{additionalLoggingData:b("ServicesMessengerAppointmentStore").getAdditionalLoggingData(),dialogShown:b("ServicesMessengerAppointmentStore").getShouldShowDialog(),onUpdateCompleted:b("ServicesMessengerAppointmentStore").getOnUpdateCompleted(),referrerData:b("ServicesMessengerAppointmentStore").getReferrerData(),showComposerNUX:c.showComposerNUX,startTime:b("ServicesMessengerAppointmentStore").getStartTime()})};var d=c.prototype;d.componentDidMount=function(){b("ServicesCTAUnificationDispatcher").explicitlyRegisterStores(this.constructor.getStores()),b("ServicesMessengerAppointmentNUXActions").loadNUXEligibility(),this.log("booking_admin_composer_icon_impression"),b("RelayGraphQLSubscriptionNetworkLayer").injectGraphQLSubscriber(b("RelayGraphQLSubscriber")(b("XDliteGraphQLSkywalkerController").getURIBuilder().getURI())),this.initShowComposerBadge(),this.subscribeToShowComposerBadge(),this.$1=!0};d.componentWillUnmount=function(){this.composerBadgeSubscription&&(this.composerBadgeSubscription=null),this.$1=!1};d.componentDidUpdate=function(a,b){!b.showComposerBadge&&this.state.showComposerBadge&&this.log("booking_admin_thread_intent_composer_badging_impression")};d.log=function(a){b("ServicesEventsLogger").log(this.props.pageID,a,this.state.referrerData,{customer_id:this.props.recipientID,custom_session_id:b("uuid")()})};d.initShowComposerBadge=function(){var a=this;b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesAppointmentComposerBadgeQueryWebGraphQLQuery"))({page_id:this.props.pageID,user_id:this.props.recipientID})),function(c){if(!c)return;c=((c=c)!=null?(c=c.page)!=null?c.services_vertical_info:c:c)||{};var d=c.messenger_appointment_intent_data||{},e=c.time_zone_name;if(!a.$1)return;a.setState({showComposerBadge:!!c.should_show_composer_badge,timeMentioned:d.time_mentioned||null,timezoneID:b("ServicesDateTimeUtils").getTimezoneByNameOrLocal(e)})},function(a){})};d.subscribeToShowComposerBadge=function(){var a=this;this.composerBadgeSubscription=b("ServicesAppointmentBadgeSubscription").subscribe({page_id:this.props.pageID,user_id:this.props.recipientID},function(b){b=((b=b)!=null?b.services_appointment_badge_subscribe:b)||{};if(!a.$1)return;a.setState({showComposerBadge:!!b.should_show_badge,timeMentioned:b.timestamp||null})})};d.$3=function(a,c){a&&b("PagesInboxThreadActionSystemDispatcher").dispatch(!0)};d.$2=function(){var a=this.state.timeMentioned;return a&&!(a<b("Instant").now()-b("DateConsts").SEC_PER_WEEK*2)?b("ServicesDateTimeUtils").getClosestDateWithSameTime(a,this.state.timezoneID):null};d.renderCreateAppointmentDialog=function(){var a=this,c=this.state.dialogShown;return!c?null:b("React").jsx(b("ServicesAppointmentDialogRoot.react"),{additionalLoggingData:this.state.additionalLoggingData,causalElementRef:function(){return a},dialogType:b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT,jobSearchSurface:"messenger",onToggle:this.handleToggleDialog,onUpdateCompleted:this.state.onUpdateCompleted,pageID:this.props.pageID,referrerData:this.state.referrerData,showMessengerButton:!1,shown:this.state.dialogShown,startTime:this.state.startTime,userID:this.props.recipientID,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})};d.renderComposerNUX=function(){if(!this.button)return null;var a=this.state.showComposerNUX;a&&b("ServicesMessengerAppointmentNUXActions").showNUX(5292);return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"right",context:b("ReactDOM").findDOMNode(this.button),shown:a,onCloseButtonClick:function(){return b("ServicesMessengerAppointmentNUXActions").closeNUX(5292)},position:"above",width:"normal",children:h._("Create an appointment from any conversation so customers can get automatic reminders")})};d.render=function(){var a=this,c=h._("Create appointment");return b("React").jsxs("div",{children:[b("React").jsxs(b("Link.react"),{"aria-label":this.props.showTooltip?c:null,className:"_2em3","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":this.props.showTooltip?c:null,onClick:this.handleClick,ref:function(b){return a.button=b},children:[b("React").jsx("div",{className:this.state.showComposerBadge?"_4on2":""}),b("React").jsx("i",{className:"_2em5"})]}),this.renderComposerNUX(),this.renderCreateAppointmentDialog()]})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerMessagingComposerAttachmentListItem.react",["cx","ix","Image.react","React","XUICloseButton.react","XUISpinner.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$1=function(){return c.props.onDetach(c.props.uploadID)};return c}var d=c.prototype;d.$2=function(){if(this.props.type.startsWith("image"))return h("94995");else if(this.props.type.startsWith("video"))return h("94998");else if(this.props.type.startsWith("audio"))return h("94984");else if(this.props.type.startsWith("text"))return h("94997");return h("94992")};d.$3=function(){return b("React").jsx(b("XUICloseButton.react"),{className:"_2uia",onClick:this.$1})};d.$4=function(){return b("React").jsx("span",{className:"_2uib",children:this.props.isUploading?b("React").jsx(b("XUISpinner.react"),{size:"large"}):b("React").jsx(b("Image.react"),{src:this.$2(),alt:this.props.type})})};d.$5=function(){return b("React").jsx("span",{className:"_2uic",children:this.props.name})};d.render=function(){var a;return(a=b("React")).jsxs("li",{className:"clearfix _2uid",children:[a.jsx("span",{className:"_kqe _kqf",children:this.$4()}),a.jsx("span",{className:"_kqe _kqh",children:this.$5()}),a.jsx("span",{className:"_kqe _kqi",children:this.$3()})]})};return c}(b("React").Component);a.propTypes={attachmentID:(c=b("prop-types")).string,isUploading:c.bool,key:c.string,name:c.string,onDetach:c.func,type:c.string,uploadID:c.string};e.exports=a}),null);
__d("PagesManagerMessagingComposerAttachmentList.react",["cx","PagesManagerMessagingComposerAttachmentListItem.react","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){return b("React").jsx(b("PagesManagerMessagingComposerAttachmentListItem.react"),{isUploading:a.isUploading,name:a.name,onDetach:this.props.onDetach,type:a.type,uploadID:a.uploadID},a.uploadID)};d.render=function(){return this.props.attachments.length>0?b("React").jsx("ul",{className:"_27ru",children:this.props.attachments.map(this.$1,this)}):null};return c}(b("React").Component);a.propTypes={attachments:b("prop-types").array.isRequired,onDetach:b("prop-types").func.isRequired};a.defaultProps={attachments:[]};e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesEmptyState.react",["cx","fbt","FDSButton.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h._("We offer two shipping options..."),j=h._("Can you provide your order confirmation number so we can..."),k=h._("Here's more info about our upcoming event...");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b)||this}var d=c.prototype;d.$1=function(a){return b("React").jsx("div",{className:"_7t00",children:a})};d.render=function(){var a;return(a=b("React")).jsxs("div",{className:"_22rs",children:[a.jsxs("div",{className:"_7t01",children:[this.$1(i),this.$1(j),this.$1(k)]}),a.jsx("div",{children:h._("Save replies to frequently asked questions so you can respond more quickly to messages later.")}),a.jsx("div",{className:"_7t02",children:a.jsx(b("FDSButton.react"),{label:h._("Create Saved Reply"),onClick:this.props.onCreateNewReply,size:"large",use:"primary"})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingAutomatedSequenceListItem.react",["ix","cx","fbt","FDSText.react","FluxContainer","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","PagesMarketingAutomationStore","React","SavedResponsesConstants","Tooltip.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.props.onMouseEnter(c.state.message)},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(){return{automatedCheckoutMessages:b("PagesMarketingAutomationStore").getAutomatedCheckoutMessages(),message:b("PagesMarketingAutomationStore").getAutomatedCheckoutMessages().introMessage}};var d=c.prototype;d.$1=function(){return this.state.automatedCheckoutMessages&&this.state.automatedCheckoutMessages.introMessage?this.state.automatedCheckoutMessages.introMessage:""};d.$2=function(){return b("React").jsxs("div",{className:"_40g7",children:[b("React").jsxs(b("FDSText.react"),{weight:"bold",children:[i._("Buyer Information")," "]}),b("React").jsx(b("FDSText.react"),{color:"disabled",children:i._("Sequence")})]})};d.$4=function(){var a=i._("Edit");return b("React").jsx(b("LayoutColumn.react"),{className:"_7t98",children:b("React").jsx(b("Tooltip.react"),{tooltip:a,children:b("React").jsx(b("Image.react"),{className:"_7r85",onClick:this.props.onAutomatedSequenceEditClick,src:g("484291")})})})};d.render=function(){if(this.state.automatedCheckoutMessages)return b("React").jsx("li",{className:"_2ph_ _40g6",children:b("React").jsxs(b("Layout.react"),{children:[b("React").jsxs(b("LayoutFillColumn.react"),{onClick:this.props.onAutomatedSequenceSelected,onMouseEnter:this.$3,ref:b("SavedResponsesConstants").automatedSequenceItemRef,children:[this.$2(),this.$1()]}),this.props.isSavedReplyNewUI?this.$4():null]})})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("XPagesSavedResponseImagePreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/image/preview/",{})}),null);
__d("XPagesSavedResponsesImageDuplicationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/image/duplication/",{})}),null);
__d("PagesManagerMessagingSavedRepliesListItem.react",["ix","cx","fbt","ActorURI","AsyncRequest","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","React","SavedResponsesConstants","SavedResponsesImage.react","SavedResponsesTokensUtils","SavedResponsesUtils","Tooltip.react","XPagesSavedResponsesImageDuplicationController","asset","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=53,k=53;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getDerivedStateFromProps=function(a,c){return{message:b("SavedResponsesTokensUtils").prepareforSend(a.reply.message,a.tokens),isProcessing:c.isProcessing}};function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={message:"",isProcessing:!1};d.mounted=!1;d.$3=function(){__p&&__p();if(d.state.isProcessing)return;if(!d.props.reply.image){d.props.onClick(d.props.reply,d.state.message,null,d.props.searchTerm);return}var a=d.props.reply.image.id;d.setState({isProcessing:!0});var c=b("XPagesSavedResponsesImageDuplicationController").getURIBuilder().getURI();c=b("ActorURI").create(c,d.props.pageID);new(b("AsyncRequest"))().setURI(c).setMethod("POST").setData({image_id:a}).setHandler(function(a){a=b("SavedResponsesUtils").generateImageMetadata(""+a.payload.duplicatedImageID);d.props.onClick(d.props.reply,d.state.message,a,d.props.searchTerm);d.mounted&&d.setState({isProcessing:!1})}).send()};d.$4=function(){d.props.onEditClick(d.props.reply)};d.$5=function(){d.props.onDeleteClick(d.props.reply)};d.$6=function(){d.props.onMouseEnter(d.state.message)};return d}var d=c.prototype;d.componentDidMount=function(){this.mounted=!0};d.componentWillUnmount=function(){this.mounted=!1};d.$1=function(){if(this.props.reply.image){var a=this.props.reply.image.id;return b("React").jsx(b("SavedResponsesImage.react"),{className:"_3-9b _1pnc",displayClassName:"_1pnc",height:j,imageID:a,loadingClassName:"_1pnc",pageID:this.props.pageID,shouldShowCloseButton:!1,width:k})}};d.$2=function(){if(this.props.reply&&this.props.reply.title!=="")return b("React").jsx("h4",{className:"_40g7",children:this.props.reply.title})};d.$7=function(){var a,c=i._("Edit"),d=i._("Delete");return(a=b("React")).jsxs(b("LayoutColumn.react"),{className:"_7t98",children:[a.jsx(b("Tooltip.react"),{tooltip:c,children:a.jsx(b("Image.react"),{className:"_7r85",onClick:this.$4,src:g("484291")})}),a.jsx(b("Tooltip.react"),{tooltip:d,children:a.jsx(b("Image.react"),{className:"_7r85",onClick:this.$5,src:g("524061")})})]})};d.render=function(){return b("React").jsx("li",{className:b("joinClasses")("_2ph_ _40g6"+(this.state.isProcessing?" _84qn":""),this.props.className),children:b("React").jsxs(b("Layout.react"),{children:[b("React").jsxs(b("LayoutFillColumn.react"),{onClick:this.$3,onMouseEnter:this.$6,onMouseLeave:this.props.onMouseLeave,ref:b("SavedResponsesConstants").replyItemRef,children:[this.$2(),this.state.message]}),b("React").jsx(b("LayoutColumn.react"),{className:"_8frq",children:this.$1()}),this.props.isSavedReplyNewUI?this.$7():null]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesList.react",["ix","cx","fbt","Image.react","Link.react","PagesManagerMessagingAutomatedSequenceListItem.react","PagesManagerMessagingSavedRepliesListItem.react","React","SavedResponsesUtils","ScrollableArea.react","XUISpinner.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$8=function(a,c){return b("React").jsx(b("PagesManagerMessagingSavedRepliesListItem.react"),{className:d.$1(a)?"":"hidden_elem",isSavedReplyNewUI:d.props.isSavedReplyNewUI,onClick:d.props.onReplySelected,onDeleteClick:d.props.onDeleteClick,onEditClick:d.props.onEditClick,onMouseEnter:d.props.onReplyMouseEnter,onMouseLeave:d.props.onReplyMouseLeave,pageID:d.props.pageID,reply:a,searchTerm:d.props.filter,tokens:d.props.tokens},c)};return d}var d=c.prototype;d.$1=function(a){var b=this.props.filter.toLowerCase();return b===""&&this.props.matchingShortcut!==""?a.title!==null&&a.title!==void 0&&a.title.toLowerCase().indexOf(this.props.matchingShortcut)===0:a.message.toLowerCase().indexOf(b)!==-1||(a.title||"").toLowerCase().indexOf(b)!==-1};d.$2=function(){if(this.props.filter!==""){var a=this.props.filter.toLowerCase();return!this.props.replies.some(function(b){return(b.title||"").toLowerCase().indexOf(a)!==-1||b.message.toLowerCase().indexOf(a)!==-1})}return!1};d.$3=function(){return b("React").jsx(b("Link.react"),{className:"_22rv",onClick:this.props.onCreateNewReply,children:i._("Create Saved Reply")})};d.$4=function(){return b("React").jsx("div",{className:"_2ph_ _22ru",children:b("React").jsx("p",{children:this.$3()})})};d.$5=function(){return b("React").jsx("div",{children:b("React").jsx("div",{className:"_2ph_ _22rp",children:b("React").jsx(b("XUISpinner.react"),{size:"large"})})})};d.$6=function(){var a=b("SavedResponsesUtils").sortSavedResponses(this.props.replies,this.props.sortingKey);return b("React").jsx(b("ScrollableArea.react"),{fade:!0,height:300,shadow:!1,children:b("React").jsxs("ul",{className:"_22rt",children:[this.$7(),a.map(this.$8,this),b("React").jsx("li",{className:"_2ph_ _22rs",children:this.props.isSavedReplyNewUI?null:this.$4()}),b("React").jsx("li",{className:"_22rs",children:this.props.isSavedReplyNewUI&&this.$2()?b("React").jsxs("div",{className:"_81z3",children:[b("React").jsx(b("Image.react"),{className:"_3-90",src:g("952401")}),i._("No results found")]}):null})]})})};d.$7=function(){if(this.props.automatedCheckoutID!==void 0&&this.props.automatedCheckoutID!==null)return b("React").jsx(b("PagesManagerMessagingAutomatedSequenceListItem.react"),{isSavedReplyNewUI:this.props.isSavedReplyNewUI,onAutomatedSequenceEditClick:b("SavedResponsesUtils").editAutomatedCheckout,onAutomatedSequenceSelected:this.props.onAutomatedSequenceSelected,onMouseEnter:this.props.onReplyMouseEnter,pageID:this.props.pageID,searchTerm:this.props.filter,tokens:this.props.tokens})};d.render=function(){return b("React").jsxs("div",{className:"_22rq"+(this.props.isLoading?" _22rr":"")+(!this.props.isLoading&&this.props.replies.length===0?" _22rs":""),children:[this.props.isLoading?this.$5():null,this.$6()]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SavedReplyDeleteReplyConfirmationModal.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c;return(c=b("React")).jsx(b("FDSModal.react"),{footer:c.jsx(b("FDSModalFooter.react"),{primaryButton:c.jsx(b("FDSButton.react"),{isDisabled:a.isDeleting,label:g._("Delete"),onClick:a.onConfirm,use:"primary"}),secondaryButton:c.jsx(b("FDSButton.react"),{label:g._("Cancel"),onClick:a.onHide})}),header:c.jsx(b("FDSModalHeader.react"),{title:g._("Delete Saved Reply?")}),isShown:a.shown,label:"Delete Saved Reply Modal",onHide:a.onHide,width:400,children:c.jsx(b("FDSSection.react"),{children:g._("You won't be able to send this saved reply later.")})})}e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesFlyout.react",["cx","fbt","ix","Layout.react","Image.react","LeftFillRightFitLayout.react","LeftRight.react","Link.react","PagesDeleteSavedResponseMutation","PagesManagerMessagingComposerActions","PagesManagerMessagingSavedRepliesEmptyState.react","PagesManagerMessagingSavedRepliesList.react","PagesMessagingInboxActionLogger","React","SavedReplyDeleteReplyConfirmationModal.react","SavedResponsesConstants","SavedResponsesEditResponseView.react","SavedResponsesOrderingMenu.react","XUICloseButton.react","XUITextInput.react","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("Layout.react").Column,k=b("Layout.react").FillColumn;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={activeSortingOptionKey:b("SavedResponsesConstants").sortingKey.MOST_USED,responseToEdit:null,responseToDelete:null,searchQuery:"",savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST,showDeleteModal:!1,isDeleting:!1},d.$1=function(a){d.setState({activeSortingOptionKey:a}),b("PagesMessagingInboxActionLogger").logSavedReplySortClicked(a)},d.$2=function(a){a=a.target.value;d.setState({searchQuery:a})},d.$3=function(){d.setState({searchQuery:""})},d.$4=function(){d.setState({responseToEdit:null,savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.CREATE})},d.$5=function(){d.setState({savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.PERSONALIZE})},d.$6=function(a){d.setState({responseToEdit:a,savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.EDIT})},d.$7=function(){var a,c=d.state.responseToDelete;if(c==null)return;d.setState({isDeleting:!0});b("PagesDeleteSavedResponseMutation").commit(c.id,function(){d.$8(),d.props.onFetchReplies(),d.setState({isDeleting:!1})},function(){});b("PagesMessagingInboxActionLogger").logUpdateSavedReply(c.message,null,(a=c.title)!=null?a:"",null,(a=c)!=null?(a=a.image)!=null?a.id:a:a,null,null)},d.$9=function(a){a&&d.props.onFetchReplies(),d.props.upsellSpecificData?(b("PagesManagerMessagingComposerActions").setShouldShowSavedReplyUpsellNUX(!0),b("PagesManagerMessagingComposerActions").setShouldShowSavedReplyUpsellToast(!0),d.props.resetFlyoutTrigger()):d.setState({responseToEdit:null,savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST})},d.$8=function(){d.setState({responseToDelete:null,showDeleteModal:!1})},d.$10=function(a){d.setState({responseToDelete:a,showDeleteModal:!0})},d.$11=function(){d.props.onReplyMouseLeave(),d.props.toggleFlyout(),d.props.openAutomatedSequenceDialog()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$12=function(){return b("React").jsx("div",{className:"_2ph_ _2gcu"+(this.props.isSavedReplyNewUI?"":" _7r86"),children:b("React").jsxs(b("LeftRight.react"),{children:[b("React").jsx("h3",{className:"_ht4",children:h._("Saved Replies")}),this.props.isSavedReplyNewUI?this.props.replies.length===0?null:b("React").jsx(b("Link.react"),{className:"PagesManagerMessagingFlyout/manageLink",onClick:this.$4,children:h._("Create")}):b("React").jsx(b("Link.react"),{className:"PagesManagerMessagingFlyout/manageLink",onClick:this.props.onManageReplies,children:h._("Manage Replies")})]})})};d.$13=function(){return!this.props.isLoading&&this.props.replies.length===0&&this.props.isSavedReplyNewUI?b("React").jsx(b("PagesManagerMessagingSavedRepliesEmptyState.react"),{onCreateNewReply:this.$4}):b("React").jsx(b("PagesManagerMessagingSavedRepliesList.react"),{automatedCheckoutID:this.props.automatedCheckoutID,filter:this.state.searchQuery,isLoading:this.props.isLoading,isSavedReplyNewUI:this.props.isSavedReplyNewUI,matchingShortcut:this.props.matchingShortcut,onAutomatedSequenceSelected:this.$11,onCreateNewReply:this.props.onCreateNewReply,onDeleteClick:this.$10,onEditClick:this.$6,onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.props.onReplySelected,pageID:this.props.pageID,replies:this.props.replies,sortingKey:this.state.activeSortingOptionKey,tokens:this.props.tokens})};d.$14=function(){if(this.props.isLoading||this.props.replies.length===0&&this.props.isSavedReplyNewUI)return null;var a="inputField";return b("React").jsxs(b("Layout.react"),{className:"_2ph_ _ht5",children:[b("React").jsx(j,{children:b("React").jsx(b("Image.react"),{className:"_ht8",src:i("27278")})}),b("React").jsx(k,{children:b("React").jsx(b("XUITextInput.react"),{className:"_ht9",onChange:this.$2,placeholder:h._("Search saved replies"),ref:a,value:this.state.searchQuery})}),b("React").jsx(j,{children:b("React").jsx(b("XUICloseButton.react"),{className:(this.state.searchQuery.length===0?"hidden_elem":"")+" _hta",onClick:this.$3,size:"small"})})]})};d.render=function(){this.props.upsellSavedRepliesFlyout&&this.$5();switch(this.state.savedResponsesManageViewType){case b("SavedResponsesConstants").editPanelViewMode.LIST:return b("React").jsxs("div",{className:"_2gcs",children:[this.$12(),b("React").jsxs(b("LeftFillRightFitLayout.react"),{children:[this.$14(),b("React").jsx(b("SavedResponsesOrderingMenu.react"),{activeSortingOptionKey:this.state.activeSortingOptionKey,className:"_2gct",onSortingKeyChanged:this.$1})]}),this.$13(),b("React").jsx(b("SavedReplyDeleteReplyConfirmationModal.react"),{isDeleting:this.state.isDeleting,onConfirm:this.$7,onHide:this.$8,shown:this.state.showDeleteModal})]});case b("SavedResponsesConstants").editPanelViewMode.EDIT:case b("SavedResponsesConstants").editPanelViewMode.CREATE:case b("SavedResponsesConstants").editPanelViewMode.PERSONALIZE:return b("React").jsx(b("SavedResponsesEditResponseView.react"),{initialResponse:this.state.responseToEdit,isSavedReplyNewUI:this.props.isSavedReplyNewUI,onClose:b("emptyFunction"),onEditDone:this.$9,onEnterPersonalizeView:this.$5,pageID:this.props.pageID,shouldShowSavedReplyInIG:this.props.shouldShowSavedReplyInIG,supportedMacros:this.props.tokens,upsellSpecificData:this.props.upsellSpecificData})}};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesButton.react",["cx","fbt","Link.react","PagesEventObserver","PagesManagerInboxSavedRepliesUpsellNUXContainer.react","PagesManagerInboxSavedReplyNewUINuxContainer.react","PagesManagerMessagingSavedRepliesFlyout.react","React","SavedResponsesAutomatedSequenceDialog.react","SavedResponsesConstants","SavedResponsesManagePanel.react","XUIContextualDialog.react","XUIDialog.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST,isAutomatedSequenceDialogVisible:!1,isFlyoutVisible:!1,isManageDialogVisible:!1,upsellSavedRepliesFlyout:!1},d.$2=function(){d.setState({isAutomatedSequenceDialogVisible:!1})},d.$3=function(){b("PagesEventObserver").notify("saved_replies_toggle_browse_view",d.props.pageID,{toggle_on:!d.state.isFlyoutVisible}),d.props.onSavedReplyButtonClick(),d.$4()},d.$5=function(){d.props.onFetchReplies(),d.setState({isManageDialogVisible:!1})},d.$6=function(){window.setTimeout(function(){b("PagesEventObserver").notify("saved_replies_toggle_browse_view",d.props.pageID,{toggle_on:!1}),d.setState({isFlyoutVisible:!1})},0)},d.$7=function(){d.setState({isManageDialogVisible:!0,initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.CREATE})},d.$8=function(){d.setState({isManageDialogVisible:!0,initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST})},d.$9=function(){d.setState({isAutomatedSequenceDialogVisible:!0})},d.$10=function(a,b,c,e){d.props.onReplySelected(a,b,c,e),d.setState({isFlyoutVisible:!1})},d.$4=function(){d.setState(function(a,b){return{isFlyoutVisible:!a.isFlyoutVisible}})},d.$11=function(){d.setState({isFlyoutVisible:!1,upsellSavedRepliesFlyout:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){!this.state.isFlyoutVisible&&a.upsellSpecificData!==this.props.upsellSpecificData&&this.$1()};d.$1=function(){this.setState({isFlyoutVisible:!0,upsellSavedRepliesFlyout:!0})};d.$12=function(){if(this.state.isAutomatedSequenceDialogVisible&&this.props.automatedCheckoutID!==void 0&&this.props.automatedCheckoutID!==null)return b("React").jsx(b("SavedResponsesAutomatedSequenceDialog.react"),{automatedCheckoutID:this.props.automatedCheckoutID,onHide:this.$2,pageID:this.props.pageID,recipientID:this.props.recipientID,ref:b("SavedResponsesConstants").automatedSequenceDialogRef})};d.$13=function(){var a=this;if(this.state.isFlyoutVisible)return b("React").jsx(b("XUIContextualDialog.react"),{alignment:"right",className:"_ht1",contextRef:function(){return a.refs.icon},hasActionableContext:!0,hideOnEscape:!1,onBlur:this.$6,position:"above",ref:b("SavedResponsesConstants").flyoutDialogRef,shown:this.state.isFlyoutVisible,width:this.props.isSavedReplyNewUI?b("SavedResponsesConstants").managementDialogWidth:b("SavedResponsesConstants").flyoutDialogWidth,children:b("React").jsx(b("PagesManagerMessagingSavedRepliesFlyout.react"),{automatedCheckoutID:this.props.automatedCheckoutID,isLoading:this.props.isSavedRepliesLoading,isSavedReplyNewUI:this.props.isSavedReplyNewUI,matchingShortcut:this.props.matchingShortcut,onCreateNewReply:this.$7,onFetchReplies:this.props.onFetchReplies,onManageReplies:this.$8,onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.$10,openAutomatedSequenceDialog:this.$9,pageID:this.props.pageID,replies:this.props.replies,resetFlyoutTrigger:this.$11,shouldShowSavedReplyInIG:this.props.shouldShowSavedReplyInIG,toggleFlyout:this.$4,tokens:this.props.tokens,upsellSavedRepliesFlyout:this.state.upsellSavedRepliesFlyout,upsellSpecificData:this.props.upsellSpecificData})})};d.$14=function(){if(this.state.isManageDialogVisible)return b("React").jsx(b("XUIDialog.react"),{layerHideOnBlur:!1,ref:b("SavedResponsesConstants").managementDialogRef,shown:this.state.isManageDialogVisible,width:b("SavedResponsesConstants").managementDialogWidth,children:b("React").jsx(b("SavedResponsesManagePanel.react"),{initialViewType:this.state.initialSavedResponsesManageViewType,onClose:this.$5,otherUserID:this.props.recipientID,pageID:this.props.pageID})})};d.render=function(){var a=this,c=h._("Insert saved reply"),d="icon",e=this.props.isSavedRepliesLoading===!0||this.props.replies.length>2;return b("React").jsxs("div",{children:[b("React").jsx(b("Link.react"),{"aria-label":this.props.showTooltip?c:null,className:"_hsy","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":this.props.showTooltip?c:null,onClick:this.$3,children:b("React").jsx("div",{className:(this.props.matchingShortcut===""?"_ht0":"")+(this.props.matchingShortcut!==""?" _7tab":""),ref:d})}),this.props.isSavedReplyNewUI?b("React").jsx(b("PagesManagerInboxSavedReplyNewUINuxContainer.react"),{contextRef:function(){return a.refs.icon},haveUsedSavedReplies:e}):null,b("React").jsx(b("PagesManagerInboxSavedRepliesUpsellNUXContainer.react"),{contextRef:function(){return a.refs.icon}}),this.$12(),this.$13(),this.$14()]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("XPagesMessagingSuggestedResponseController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/suggestedresponse/",{})}),null);
__d("XPagesMessagingSuggestedResponseFeedbackController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/suggestedresponse/feedback/",{})}),null);
__d("PagesMessengerHotLikeGlyphIcon.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_43_3"})};return c}(b("React").Component);e.exports=a}),null);
__d("SmartComposeCandidatesQueriedFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("smart_compose_candidates_queried");e.exports=a}),null);
__d("PagesManagerMessagingComposerView.react",["ix","cssVar","cx","fbt","Image.react","JSResource","MercuryDragDropPrompt.react","MercuryShareAttachmentRenderLocations","MessengerHotLikeButton.react","PagesEventObserver","PagesManagerInboxComposerCreateAppointmentButton.react","PagesManagerInboxComposerSendAvailabilityButton.react","PagesManagerInboxProductPickerButton.react","PagesManagerInboxReturnToSendNUX.react","PagesManagerLogger","PagesManagerMessagingComposerAttachmentList.react","PagesManagerMessagingSavedRepliesButton.react","PagesMessageSuggestedResponseHandler","PagesMessagingInboxActionLogger","PagesMessagingPerfTypedLogger","PagesMessengerFileUploader.react","PagesMessengerHotLikeGlyphIcon.react","PagesMessengerSuggestedResponseView.react","PagesMessengerTextInput.react","PagesSmartComposeInput.react","React","SavedResponsesUtils","Tooltip.react","TooltipData","UFIStickerButton.react","XUIButton.react","fbglyph","lazyLoadComponent","prop-types","Grid.react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=function(){};b("Grid.react").GridItem;var k=b("lazyLoadComponent")(b("JSResource")("CommerceInvoiceAdminButton.react").__setRef("PagesManagerMessagingComposerView.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={isAttachmentsButtonVisible:!0,isSavedRepliesButtonVisible:!0,isSavedRepliesShortcutButtonVisible:!1,isStickerButtonVisible:!0,placeholder:""};d.getContextRef=function(){return d.$2};d.$7=function(a){a.preventDefault();a=Date.now();b("PagesManagerLogger").logMessageInboxUIAction("message_inbox_click_send_message",d.props.userID);new(b("PagesMessagingPerfTypedLogger"))().setPageID(d.props.userID).setEventName("messages_send_message_js_start").log();d.props.onSend(a)};d.$15=function(a){d.setState({placeholder:a})};d.$16=function(){d.setState({placeholder:""})};d.$18=function(){b("PagesMessagingInboxActionLogger").logSavedReplyButtonClicked(d.props.commPlatform,d.props.matchingShortcut)};d.$17=function(a,c,e,f){d.setState({placeholder:""});d.props.onReplySelected(c,e);b("PagesEventObserver").notify("saved_replies_apply_reply",d.props.userID);b("SavedResponsesUtils").notifySavedResponseApplied(a);b("PagesMessagingInboxActionLogger").logApplySavedReply(d.props.commPlatform,d.props.matchingShortcut,f,a.message,(c=a.title)!=null?c:"",e!==null)};d.$1=!1;return d}var d=c.prototype;d.componentDidUpdate=function(a,b){this.props.onInitialRender&&this.props.participant&&this.refs.textInput&&!this.$1&&(this.props.onInitialRender(),this.$1=!0),a&&a.message!==this.props.message&&this.refs.textInput.updateHeight()};d.UNSAFE_componentWillMount=function(){this.$3(this.props)};d.UNSAFE_componentWillReceiveProps=function(a){this.$3(a,this.state)};d.$3=function(a){var b=a.attachments.length,c=a.message.length;c=c<1&&b<1;b=this.props.supportMultiAttachments||b<1;this.setState({isAttachmentsButtonVisible:b,isSavedRepliesButtonVisible:c||a.isSavedReplyNewUI,isStickerButtonVisible:c})};d.$4=function(){return this.props.canAttachFiles};d.$5=function(){return this.props.canUseSavedReplies&&this.state.isSavedRepliesButtonVisible};d.$6=function(){return this.props.canUseStickers&&this.state.isStickerButtonVisible};d.$8=function(){if(!this.$4())return null;var a=j._("Attach a file");return b("React").jsx("div",babelHelpers["extends"]({className:"_4dvy"+(this.state.isAttachmentsButtonVisible?"":" hidden_elem")},b("TooltipData").propsFor(a),{children:b("React").jsx(b("PagesMessengerFileUploader.react"),{actionURI:this.props.uploaderActionURI,iconSize:"large",supportMulti:this.props.supportMultiAttachments,onFileUploaderMounted:this.props.onFileUploaderMounted,onSubmit:this.props.onFileUploaderSubmit,onUpdateAttachmentsShelf:this.props.onFileUploadUpdateUI,onUploadFinished:this.props.onFileUploadFinished,ref:"fileUploader"})}))};d.$9=function(){return!this.props.canAttachFiles?null:b("React").jsx(b("PagesManagerMessagingComposerAttachmentList.react"),{attachments:this.props.attachments,attachmentsUploading:this.props.attachmentsUploading,onDetach:this.props.onAttachmentDetach,ref:"attachmentList"})};d.$10=function(){if(this.props.canUseHotLike&&this.props.threadID&&this.props.message.length<1&&this.props.attachments.length<1){var a=this.props.threadID;return b("React").jsx("span",{className:"_1z9h",children:b("React").jsx(b("MessengerHotLikeButton.react"),{CustomRenderer:this.props.isInboxDetailView?b("PagesMessengerHotLikeGlyphIcon.react"):void 0,customColor:this.props.isInboxDetailView?void 0:"#0084ff",disabled:!this.props.threadID,location:b("MercuryShareAttachmentRenderLocations").PAGES_INBOX,sendSticker:this.props.onStickerSelected,renderSize:24,threadID:a})})}return null};d.$11=function(){var a=this.state.placeholder||(this.props.commPlatform==="WEC"?j._("Type a message..."):j._("Write a reply...")),c="textInput";if(this.props.shouldUseSmartComposeTextInput&&this.props.commPlatform==="MESSENGER")return b("React").jsx("div",{className:"_4dv-",children:b("React").jsx(b("PagesSmartComposeInput.react"),{className:"_1p7p _5id1 _4dv_",consumerUserID:this.props.recipientID,maxLength:this.props.maxLength,onChange:this.props.onInputChange,onFocus:this.props.onFocus,onInputReady:this.props.onInputReady,onNoShiftEnter:this.props.isQuickReplyMode?this.$7:null,pageID:this.props.userID,placeholder:a,ref:c,threadID:this.props.threadID,value:this.props.message})});else return b("React").jsx("div",{className:"_4dv-",children:b("React").jsx(b("PagesMessengerTextInput.react"),{className:"_1p7p _5id1 _4dv_",maxLength:this.props.maxLength,onChange:this.props.onInputChange,onFocus:this.props.onFocus,onInputReady:this.props.onInputReady,onNoShiftEnter:this.props.isQuickReplyMode?this.$7:null,placeholder:a,ref:c,value:this.props.message})})};d.$12=function(){return b("React").jsx("div",{className:"_6fk",ref:"linkPreview"})};d.$13=function(){return b("React").jsx("div",{className:"_4dw0",children:b("React").jsx(b("Image.react"),{className:"_1cjc",src:this.props.persona&&this.props.persona.profilePicUrl?this.props.persona.profilePicUrl:this.props.participant.image_src})})};d.$14=function(){return!this.$5()||!this.props.recipientID?null:b("React").jsx("span",{className:"_4dw1",children:b("React").jsx(b("PagesManagerMessagingSavedRepliesButton.react"),{automatedCheckoutID:this.props.automatedCheckoutID,isSavedRepliesLoading:this.props.isSavedRepliesLoading,isSavedReplyNewUI:this.props.isSavedReplyNewUI,matchingShortcut:this.props.matchingShortcut,onFetchReplies:this.props.onFetchReplies,onReplyMouseEnter:this.$15,onReplyMouseLeave:this.$16,onReplySelected:this.$17,onSavedReplyButtonClick:this.$18,pageID:this.props.userID,recipientID:this.props.recipientID,replies:this.props.savedReplyResponses,shouldShowSavedReplyInIG:this.props.shouldShowSavedReplyInIG,showTooltip:!0,tokens:this.props.savedReplyTokens,upsellSpecificData:this.props.upsellSpecificData})})};d.$19=function(a){b("PagesMessagingInboxActionLogger").logSendButtonClicked(this.props.commPlatform,this.props.matchingShortcut,this.props.isQuickReplyMode),this.$7(a)};d.$20=function(){var a=this,c=j._("Send"),d=this.props.message.length<1&&this.props.attachments.length<1;return b("React").jsx("div",{className:"_4dw3"+(d?" hidden_elem":""),"data-testid":"inbox_coomposer_send",children:b("React").jsx(b("XUIButton.react"),{disabled:this.props.isSendBlocked,label:c,onClick:function(b){return a.$19(b)},use:"confirm"})})};d.$21=function(){if(!this.$6())return null;var a=j._("Post a sticker");return b("React").jsx("span",{className:"_4dw4",children:b("React").jsx(b("UFIStickerButton.react"),{onStickerSelected:this.props.onStickerSelected,children:b("React").jsx("div",{alt:a,className:"_3fhi"})})})};d.$22=function(){return!this.props.canCreateAppointment||!this.props.recipientID?null:b("React").jsx("span",{className:"_43nn",children:b("React").jsx(b("PagesManagerInboxComposerCreateAppointmentButton.react"),{creatorInfo:this.props.creatorInfo,pageID:this.props.userID,recipientID:this.props.recipientID,showTooltip:!0,threadID:this.props.threadID})})};d.getSendAvailabilityButton=function(){return!this.props.canSendAvailability||!this.props.recipientID?null:b("React").jsx("span",{className:"_43nn",children:b("React").jsx(b("PagesManagerInboxComposerSendAvailabilityButton.react"),{pageID:this.props.userID,recipientID:this.props.recipientID,showTooltip:!0,threadID:this.props.threadID})})};d.$23=function(){return!this.props.shouldShowCommerceInvoiceButton||this.props.commPlatform!=="MESSENGER"||this.props.recipientID==null?null:b("React").jsx(b("React").Suspense,{fallback:null,children:b("React").jsx("div",{className:"_3w8o",children:b("React").jsx(k,{defaultCurrency:this.props.defaultCurrency,pageID:this.props.userID,recipientID:this.props.recipientID,shouldShowBonusTracker:this.props.shouldShowBonusTracker,shouldShowCommerceInvoiceSimplifiedFlow:this.props.shouldShowCommerceInvoiceSimplifiedFlow,shouldShowConfirmPayment:this.props.shouldShowConfirmPayment,shouldShowPaymentOnboarding:this.props.shouldShowPaymentOnboarding,shouldShowPUX:this.props.shouldShowCommerceInvoiceButtonPUX,shouldShowRequestPayment:this.props.shouldShowRequestPayment,shouldShowShippingNUX:this.props.shouldShowInvoiceShippingNUX,shouldUseKbankOnboarding:this.props.shouldUseKbankOnboarding})})})};d.$24=function(){return b("React").jsx(b("PagesMessengerSuggestedResponseView.react"),{onAccepted:this.props.onSuggestedResponseAccept,onDeclined:this.props.onSuggestedResponseDecline,suggestedResponseHandler:this.props.suggestedResponseHandler})};d.render=function(){__p&&__p();var a=this;if(!this.props.recipientID||!this.props.threadID||!this.props.participant)return b("React").jsx("div",{className:"__1d"});else if(this.props.isBlocked){var c;new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName("composer_blocked_with_warning").log();return(c=b("React")).jsxs("div",{className:"_50wh",children:[j._("Your Page is no longer able to send messages to this person."),c.jsx(b("Tooltip.react"),{tooltip:j._("A Page may be unable to send messages to someone if they are no longer on Facebook, if they pose a security risk, or if they have chosen not to receive messages."),children:c.jsx("a",{href:"https://www.facebook.com/help/307375982614147",children:c.jsx(b("Image.react"),{src:g("126341"),style:{verticalAlign:"-2px"}})})})]})}return b("React").jsxs("div",{className:"__1d","data-testid":"inbox_composer",children:[b("React").jsx(b("MercuryDragDropPrompt.react"),{}),b("React").jsxs("div",{className:"_4dw9",children:[this.$13(),this.$11(),b("React").jsxs("div",{className:"_3-8o _4dwa",children:[b("React").jsx(l,{classProps:this.props}),this.$23(),this.$8(),this.$21(),this.$14(),this.$22(),this.getSendAvailabilityButton(),b("React").jsx("span",{ref:function(b){a.$2=b},children:this.$10()}),this.$20(),b("React").jsx(b("PagesManagerInboxReturnToSendNUX.react"),{contextRef:this.getContextRef})]})]}),b("React").jsxs("div",{className:"_6fl",children:[this.$24(),this.$12()]}),this.$9()]})};return c}(b("React").PureComponent);c.propTypes={attachments:(d=b("prop-types")).array,canAttachFiles:d.bool,canCreateAppointment:d.bool,canUseHotLike:d.bool,canUseSavedReplies:d.bool,canUseStickers:d.bool,isQuickReplyMode:d.bool,isSavedRepliesLoading:d.bool,isSendBlocked:d.bool,message:d.string.isRequired,onAttachmentDetach:d.func,onFetchReplies:d.func.isRequired,onFileUploaderSubmit:d.func,onFileUploaderMounted:d.func,onFileUploadFinished:d.func,onFocus:d.func,onInitialRender:d.func,onInputChange:d.func,onSend:d.func,onStickerSelected:d.func,onSuggestedResponseAccept:d.func,onSuggestedResponseDecline:d.func,participant:d.object,recipientID:d.string,savedReplies:d.object,shouldShowBonusTracker:d.bool,shouldShowInvoiceShippingNUX:d.bool,shouldShowPaymentOnboarding:d.bool,shouldShowConfirmPayment:d.bool,shouldShowRequestPayment:d.bool,suggestedResponseHandler:d.instanceOf(b("PagesMessageSuggestedResponseHandler")),uploaderActionURI:d.string,userID:d.string};c.defaultProps={attachments:[],canAttachFiles:!0,canCreateAppointment:!1,canUseHotLike:!0,canUseSavedReplies:!0,canUseStickers:!0,isSendBlocked:!1,maxLength:null,onAttachmentDetach:a,onFileUploaderMounted:a,onFileUploaderSubmit:a,onFileUploadFinished:a,onInputChange:a,onSend:a,onStickerSelected:a,onSuggestedResponseAccept:a,shouldShowBonusTracker:!1,shouldShowCommerceInvoiceButton:!1,shouldShowCommerceInvoiceButtonNUX:!1,shouldShowCommerceInvoiceButtonPUX:!1,shouldShowInvoiceShippingNUX:!1,shouldShowPaymentOnboarding:!1,shouldShowConfirmPayment:!1,shouldShowRequestPayment:!1,shouldUseKbankOnboarding:!1};function l(a){return!a.classProps.shouldShowProductPickerInComposer||a.classProps.commPlatform!=="MESSENGER"||a.classProps.recipientID==null?null:b("React").jsx("span",{className:"_8ii8",children:b("React").jsx(b("PagesManagerInboxProductPickerButton.react"),{pageID:a.classProps.userID,recipientID:a.classProps.recipientID})})}e.exports=c}),null);
__d("PagesManagerMessagingNUXActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({RESET_STEP:"",SET_IS_VISIBLE:"",SET_ROOT_ELEMENT:"",SET_STEP:"",SET_SHOULD_SHOW_BANNER:"",SET_SHOULD_SHOW_CONTEXT_CARD_STEP:"",SET_DEPENDENCY_READY:{COMPOSER:"",CONTEXT_CARD:"",THREADLIST:""}});e.exports=a}),null);
__d("PagesManagerMessagingNUXDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("PagesManagerMessagingNUXActions",["PagesManagerMessagingNUXActionTypes","PagesManagerMessagingNUXDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={resetStep:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").RESET_STEP})},setComposerReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.COMPOSER})},setContextCardReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.CONTEXT_CARD})},setThreadlistReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.THREADLIST})},setIsVisible:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_IS_VISIBLE,isVisible:a})},setRootElement:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_ROOT_ELEMENT,rootElement:a})},setStep:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_STEP,step:a})},setShouldShowBanner:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_SHOULD_SHOW_BANNER,shouldShow:a})},setShouldShowContextCardStep:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_SHOULD_SHOW_CONTEXT_CARD_STEP,shouldShow:a})}};e.exports=a}),null);
__d("XShareScrapeAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/share_scrape/",{})}),null);
__d("XPagesMessagingBlockController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/message/isblocked/",{recipient_id:{type:"String",required:!0}})}),null);
__d("PagesManagerMessagingComposerContainer.react",["invariant","ActorURI","AsyncRequest","DragDropTarget","FluxContainer","MediaManagerInboxContext.react","MercuryIDs","MercuryLocalIDs","MercuryMessageObject","MercuryThreadIDMap","MercuryTriodeSourceUtil","MessengerConstants","MessengerParticipants.bs","PagesCommsInboxTypedLogger","PagesEventObserver","PagesManagerDisableComposerView.react","PagesManagerInboxComposerStateReasonType","PagesManagerInboxLogger","PagesManagerMessagingComposerActions","PagesManagerMessagingComposerDispatcher","PagesManagerMessagingComposerStore","PagesManagerMessagingComposerView.react","PagesManagerMessagingNUXActions","PagesMarketingAutomationUtils","PagesMessagingConfig","PagesMessagingPerfTypedLogger","PagesMessengerShareLinkUploader","React","ReactDOM","SavedResponsesUtils","SubscriptionsHandler","TypingDetectorController","XPagesMessagingBlockController","emptyFunction","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerMessagingComposerStore")]};c.calculateState=function(a,c){var d=a?a.isShareLinkUploading:!1,e=a?a.isBlocked:!1;return{attachments:b("PagesManagerMessagingComposerStore").getAllAttachmentsMeta(),automatedCheckoutID:b("PagesManagerMessagingComposerStore").getAutomatedCheckoutId(),isAttachmentUploading:b("PagesManagerMessagingComposerStore").getIsAttachmentUploading(),isSavedReplyResponsesLoading:a?a.isSavedReplyResponsesLoading:!1,isSavedReplyTokensLoading:a?a.isSavedReplyTokensLoading:!1,isQuickReplyMode:b("PagesManagerMessagingComposerStore").getQuickReplyMode(),isShareLinkUploading:d,message:b("PagesManagerMessagingComposerStore").getMessage(),participant:b("PagesManagerMessagingComposerStore").getParticipant(),savedReplyTokens:b("PagesManagerMessagingComposerStore").getSavedReplyTokens(),savedReplyResponses:b("PagesManagerMessagingComposerStore").getSavedReplyResponses(),matchingShortcut:b("PagesManagerMessagingComposerStore").getMatchingShortcut(),supportMultiAttachments:c.commPlatform!=="WEC",uploaderActionURI:b("PagesManagerMessagingComposerStore").getUploadActionFromUserID(c.commPlatform,c.userID),isBlocked:e,composerStateReason:b("PagesManagerMessagingComposerStore").getComposerStateReason()}};function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$5=!1;d.$9=function(a){d.$3&&d.$3.destroy(),d.$3=null,d.props.threadID!==b("MessengerConstants").NEW_THREAD_KEY&&a&&(d.$3=new(b("TypingDetectorController"))(d.props.thread,b("MercuryIDs").getUserIDFromThreadID(d.props.threadID),a,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),null,b("MercuryThreadIDMap").getForFBID(d.props.userID).getServerIDFromClientIDNow(d.props.threadID),function(){return d.state.message},d.props.userID))};d.__onSendMessageHandleException=function(a){try{d.__onSendMessage(a)}catch(a){new(b("PagesMessagingPerfTypedLogger"))().setPageID(d.props.userID).setEventName("messages_send_message_js_exception").setExceptionMessage(a.message).setStack(a.stack).log()}};b("PagesManagerMessagingComposerDispatcher").explicitlyRegisterStores([b("PagesManagerMessagingComposerStore")]);return d}var d=c.prototype;d.componentDidMount=function(){b("PagesManagerMessagingComposerActions").clearMessage(),b("PagesManagerMessagingComposerActions").detachAllAttachments(),b("PagesManagerMessagingComposerActions").clearShareLinkUploader(),this.$4(this.props.userID),this.$5=!0,this.__fetchSavedReplyTokens(),this.__fetchSavedReplies()};d.componentDidUpdate=function(a){this.props.recipientID&&this.props.threadID&&(!a.recipientID||!a.threadID)&&(b("PagesManagerMessagingNUXActions").setComposerReady(),this.props.onInitialRender&&this.props.onInitialRender()),this.props.recipientID!==null&&this.props.recipientID!==a.recipientID&&(this.__fetchSavedReplyTokens(),this.isRecipientBlocked(this.props.recipientID))};d.UNSAFE_componentWillReceiveProps=function(a){this.$6(a),a.threadID!==this.props.threadID&&(b("PagesManagerMessagingComposerActions").clearMessage(),b("PagesManagerMessagingComposerActions").detachAllAttachments(),b("PagesManagerMessagingComposerActions").clearShareLinkUploader()),a.userID!==this.props.userID&&this.$4(a.userID)};d.UNSAFE_componentWillUpdate=function(a,b){this.props.onMessageOrAttachmentUpdate&&(b.attachments.length!==this.state.attachments.length||b.message!==this.state.message)&&this.props.onMessageOrAttachmentUpdate()};d.componentWillUnmount=function(){this.__subscriptions&&this.__subscriptions.release(),this.$3&&this.$3.destroy(),this.$5=!1};d.UNSAFE_componentWillMount=function(){this.$6(this.props),this.__subscriptions=new(b("SubscriptionsHandler"))()};d.$7=function(a){this.__subscriptions.addSubscriptions(a.subscribe("one-upload-completed",this.__onFileUploaderOneUploadComplete.bind(this)))};d.$8=function(){__p&&__p();var a=this,c=new(b("PagesMessengerShareLinkUploader"))(b("ReactDOM").findDOMNode(this.refs.composer.refs.linkPreview),this.refs.composer.refs.textInput.refs.input,b("emptyFunction"),b("emptyFunction"),this.props.userID);this.__subscriptions.addSubscriptions(c.subscribe("link-detected",function(){if(!a.$5)return;a.setState({isShareLinkUploading:!0});a.props.onMessageOrAttachmentUpdate&&a.props.onMessageOrAttachmentUpdate()}),c.subscribe("share-loaded",function(){if(!a.$5)return;a.setState({isShareLinkUploading:!1})}),c.subscribe("closed",function(){if(!a.$5)return;a.props.onMessageOrAttachmentUpdate&&a.props.onMessageOrAttachmentUpdate()}));b("PagesMessagingConfig").dragdropEnabled&&(this.$1=this.$1||new(b("DragDropTarget"))(b("ReactDOM").findDOMNode(this)).enable(),this.$1.setOnURLDropCallback(function(a){return c.loadShare(a)}));b("PagesManagerMessagingComposerActions").setShareLinkUploader(c)};d.__fetchSavedReplyTokens=function(){var a=this;if(this.state.isSavedReplyTokensLoading||!this.props.userID||!this.props.recipientID)return;this.setState({isSavedReplyTokensLoading:!0});b("SavedResponsesUtils").fetchSavedResponseTokens(this.props.userID,this.props.recipientID,null,"MESSENGER",function(c){a.$5&&a.setState({isSavedReplyTokensLoading:!1}),b("PagesManagerMessagingComposerActions").setSavedReplyTokens(c)})};d.__fetchSavedReplies=function(){var a=this;if(this.state.isSavedReplyResponsesLoading||!this.props.userID||!this.props.recipientID)return;this.setState({isSavedReplyResponsesLoading:!0});b("SavedResponsesUtils").fetchSavedResponse(this.props.userID,function(c){a.$5&&a.setState({isSavedReplyResponsesLoading:!1}),b("PagesManagerMessagingComposerActions").setSavedReplyResponses(c)});b("SavedResponsesUtils").fetchCheckoutForSavedResponse(this.props.userID,function(a){b("PagesManagerMessagingComposerActions").setAutomatedCheckoutId(a),b("PagesMarketingAutomationUtils").fetchAndStoreAutomatedCheckoutData(a)})};d.$6=function(a){a=a.userID;a||g(0,3793);this.$2=b("MercuryMessageObject").getForFBID(a)};d.$4=function(a){a=b("MercuryIDs").getParticipantIDFromUserID(a);b("MessengerParticipants.bs").get(a,function(a){b("PagesManagerMessagingComposerActions").setParticipant(a)})};d.isSendBlocked=function(){return this.state.isAttachmentUploading||this.state.isShareLinkUploading||this.state.message===""&&this.state.attachments.length<1?!0:!1};d.isRecipientBlocked=function(a){a=b("ActorURI").create(b("XPagesMessagingBlockController").getURIBuilder().setString("recipient_id",a).getURI(),this.props.userID);new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.payload;if(!this.$5)return;this.setState({isBlocked:a});return}.bind(this)).send()};d.__onAttachmentDetach=function(a){b("PagesManagerMessagingComposerActions").detachAttachment(a)};d.__onFileUploaderMounted=function(a){this.$7(a),b("PagesMessagingConfig").dragdropEnabled&&(this.$1=this.$1||new(b("DragDropTarget"))(b("ReactDOM").findDOMNode(this)).enable(),this.$1.setOnFilesDropCallback(this.$10.bind(this))),b("PagesManagerMessagingComposerActions").fileUploaderReady(a)};d.__onFileUploaderOneUploadComplete=function(a,c){b("PagesManagerMessagingComposerActions").completeAttachment(c)};d.__onFileUploaderSubmit=function(a,c){b("PagesManagerMessagingComposerActions").startAttachment(c.files),this.refs.composer&&this.refs.composer.refs.textInput&&this.refs.composer.refs.textInput.refs.input&&b("ReactDOM").findDOMNode(this.refs.composer.refs.textInput.refs.input).focus()};d.__onFileUploadFinished=function(a){a==="all-uploads-completed"&&b("PagesManagerMessagingComposerActions").completeAllAttachments()};d.__onInputValueChange=function(a){b("PagesManagerMessagingComposerActions").setMessage(a.target.value)};d.__onReplySelected=function(a,c){var d=b("PagesManagerMessagingComposerStore").getFileUploader();b("PagesManagerMessagingComposerActions").detachAllAttachments();b("PagesManagerMessagingComposerActions").setMessage(a);c&&d&&d.addCachedAttachments([c]);this.refs.composer&&this.refs.composer.refs.textInput&&b("ReactDOM").findDOMNode(this.refs.composer.refs.textInput.refs.input).focus()};d.__onSendMessage=function(a){__p&&__p();var c=this.state.message;b("PagesManagerInboxLogger").logSendMessage("MESSENGER",this.props.userID,this.state.isQuickReplyMode);this.context&&this.context.logSendMessageToTargetUser!==b("emptyFunction")&&this.context.logSendMessageToTargetUser(this.props.recipientID,this.props.commPlatform,this.props.mediaManagerInboxRowIndex,this.props.selectedFolder);var d=b("PagesManagerMessagingComposerStore").getAttachedAttachmentIds(),e=b("PagesManagerMessagingComposerStore").getAttachedImageIds(),f=b("PagesManagerMessagingComposerStore").getAttachedAnimatedImageIds(),g=b("PagesManagerMessagingComposerStore").getAttachedVideoIds(),h=b("PagesManagerMessagingComposerStore").getAttachedAudioFilesIds(),i=b("PagesManagerMessagingComposerStore").getAttachedFilesIds(),j=b("PagesManagerMessagingComposerStore").getShareLink(),k=this.$2.constructUserGeneratedMessageObject(c,"source:page_unified_inbox",this.props.threadID,null,this.props.creatorInfo);if(this.isSendBlocked()||!c&&!d.length&&!h.length&&!e.length&&!i.length&&!f.length&&!g.length&&!j)return;j&&(k.has_attachment=!0,k.shareable_attachment=j);d.length>0&&(k.has_attachment=!0,k.raw_attachments=d);e.length>0&&(k.image_ids=e,k.has_attachment=!0);f.length>0&&(k.gif_ids=f,k.has_attachment=!0);g.length>0&&(k.video_ids=g,k.has_attachment=!0);h.length>0&&(k.audio_ids=h,k.has_attachment=!0);i.length>0&&(k.file_ids=i,k.has_attachment=!0);b("PagesEventObserver").logData_DEPRECATED({page_id:this.props.userID,event_name:"messages_dialog_send",thread_id:this.props.threadElementID},null);k.offline_threading_id=b("MercuryLocalIDs").generateOfflineThreadingID(k.timestamp);this.props.messageActions.send(k);if(k.thread_id&&k.thread_id.split(":")&&k.thread_id.split(":").length===2){c=k.thread_id.split(":")[1];new(b("PagesCommsInboxTypedLogger"))().setFunnel("page_send_to_user").setCustomerID(c).setMessageID(k.offline_threading_id).setEvent("tapped_send").setClientTime(k.timestamp).setMessagingPlatform("messenger").setPageID(this.props.userID).log()}b("PagesManagerMessagingComposerActions").detachAllAttachments();b("PagesManagerMessagingComposerActions").clearMessage();b("PagesManagerMessagingComposerActions").clearShareLinkUploader();this.$3&&this.$3.resetState();this.props.onSendMessage&&this.props.onSendMessage();new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName("messages_send_message_js_end").setPerfTime(Date.now()-a).log()};d.__onStickerSelected=function(a){this.context&&this.context.logSendStickerToTargetUser!==b("emptyFunction")&&this.context.logSendStickerToTargetUser(this.props.recipientID,this.props.commPlatform,this.props.mediaManagerInboxRowIndex,a,this.props.selectedFolder);var c=this.$2.constructUserGeneratedMessageObject("","source:titan:web",this.props.threadID,null,this.props.creatorInfo);c.has_attachment=!0;c.sticker_id=a;this.props.messageActions.send(c);b("PagesManagerMessagingComposerActions").clearMessage()};d.$10=function(a){this.refs.composer&&this.refs.composer.refs.fileUploader&&this.refs.composer.refs.fileUploader.addFiles(a)};d.render=function(){__p&&__p();var a=this;if(this.props.commPlatform==="WEC")if(this.state.composerStateReason!==null)return this.state.composerStateReason===b("PagesManagerInboxComposerStateReasonType").DISABLE_LEFT_GROUP?b("React").jsx(b("PagesManagerDisableComposerView.react"),{composerStateReason:this.state.composerStateReason}):b("React").jsx(b("PagesManagerMessagingComposerView.react"),babelHelpers["extends"]({},this.props,this.state,{isSendBlocked:this.isSendBlocked(),onAttachmentDetach:this.__onAttachmentDetach.bind(this),onFetchReplies:this.__fetchSavedReplies.bind(this),onFileUploaderMounted:this.__onFileUploaderMounted.bind(this),onFileUploaderSubmit:this.__onFileUploaderSubmit.bind(this),onFileUploadFinished:this.__onFileUploadFinished.bind(this),onInitialRender:function(){return a.$8()},onInputChange:function(b){return a.__onInputValueChange(b)},onInputReady:this.$9,onReplySelected:this.__onReplySelected.bind(this),onSend:function(b){return a.__onSendMessageHandleException(b)},onStickerSelected:this.__onStickerSelected.bind(this),ref:"composer"}));else return null;return this.props.commPlatform==="INSTAGRAM_DIRECT"?null:b("React").jsx(b("PagesManagerMessagingComposerView.react"),babelHelpers["extends"]({},this.props,this.state,{isSavedReplyNewUI:this.props.isSavedReplyNewUI,isSendBlocked:this.isSendBlocked(),matchingShortcut:this.state.matchingShortcut,onAttachmentDetach:this.__onAttachmentDetach.bind(this),onFetchReplies:this.__fetchSavedReplies.bind(this),onFileUploaderMounted:this.__onFileUploaderMounted.bind(this),onFileUploaderSubmit:this.__onFileUploaderSubmit.bind(this),onFileUploadFinished:this.__onFileUploadFinished.bind(this),onInitialRender:function(){return a.$8()},onInputChange:function(b){return a.__onInputValueChange(b)},onInputReady:this.$9,onReplySelected:this.__onReplySelected.bind(this),onSend:function(b){return a.__onSendMessageHandleException(b)},onStickerSelected:this.__onStickerSelected.bind(this),ref:"composer",threadID:this.props.threadID}))};return c}(b("React").Component);c.contextType=a;c.propTypes={accessToken:(d=b("prop-types")).string,canAttachFiles:d.bool,canCreateAppointment:d.bool,canSendAvailability:d.bool,canUseHotLike:d.bool,canUseSavedReplies:d.bool,canUseStickers:d.bool,creatorInfo:d.object,maxLength:d.number,onInitialRender:d.func,onMessageOrAttachmentUpdate:d.func,shouldShowBonusTracker:d.bool,shouldShowCommerceInvoiceButton:d.bool,shouldShowCommerceInvoiceButtonPUX:d.bool,shouldShowInvoiceShippingNUX:d.bool,shouldShowPaymentOnboarding:d.bool,shouldShowProductPickerInComposer:d.bool,shouldShowConfirmPayment:d.bool,shouldShowRequestPayment:d.bool,shouldShowCommerceInvoiceSimplifiedFlow:d.bool,shouldUseSmartComposeTextInput:d.bool,shouldUseKbankOnboarding:d.bool,thread:d.object,threadElementID:d.string,threadID:d.string,userID:d.string};e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("XMNCommercePromotionBlockController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/promotion/block/",{page_id:{type:"String",required:!0},type:{type:"String",required:!0}})}),null);
__d("XMNCommercePromotionStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/promotion/state/",{page_id:{type:"String",required:!0}})}),null);
__d("XMessengerDotComSponsoredMessagesXOutReportMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/sponsored_message/xout/mutation/",{ad_id:{type:"String",required:!0},ad_client_token:{type:"String",required:!0}})}),null);
__d("XMessengerDotComSponsoredMessagesXOutSubmitPageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/sponsored_message/xout/submit/",{ad_token:{type:"String",required:!0},selected_option_type:{type:"String",required:!0},event_type:{type:"String",required:!0}})}),null);
__d("InstantGamesAnalyticsLogger",["Promise","ClientIDs","RelayAPIConfig","RelayFBEnvironment","RelayModern","InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("ClientIDs").getNewClientID,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql");a=function(){__p&&__p();function a(a){this.$1=a}var c=a.prototype;c.logCustomAppEvent=function(a,c,d){var e=this;c===void 0&&(c=null);d===void 0&&(d=null);var f=d?JSON.stringify(d):null;return new(b("Promise"))(function(d,g){i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:b("RelayAPIConfig").actorID,event_name:a,game_id:e.$1,client_mutation_id:h(),value_to_sum:c,params:f}},onCompleted:d,onError:g})})};return a}();e.exports=a}),null);
__d("XMessengerGroupPollingUpdateVoteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/group_polling/update_vote/",{})}),null);
__d("XMessagingGetPollOptionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/mercury/get_poll_options/",{question_id:{type:"FBID",required:!0}})}),null);
__d("MessengerWaveEntrypoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DIVEBAR:"divebar",THREAD_VIEW:"thread_view",NEW_FRIEND_BUMP:"new_friend_bump",GROUP_NULL_STATE:"group_null_state",CANONICAL_NULL_STATE:"canonical_null_state",PROFILE:"profile"})}),null);
__d("XEventReminderRSVPController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/eventreminder/rsvp/",{acontext:{type:"String",required:!0},event_reminder_id:{type:"Int",required:!0},guest_state:{type:"Enum",required:!0,enumType:1}})}),null);
__d("MessengerConversionEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REPLY_ACTION:"reply",FIRST_REPLY_ACTION:"first_reply",OPEN_THREAD_ACTION:"open_thread",ACCEPT_MESSENGER_REQUEST_ACTION:"accept_messenger_request",IGNORE_MESSENGER_REQUEST_ACTION:"ignore_messenger_request",DELETE_THREAD:"delete",BLOCK_THREAD:"block",MARK_SPAM_THREAD:"mark_spam",PROMOTIONAL_OFF_THREAD:"promotional_off",DELETE_MESSAGE:"delete_message",READ_RECEIPT:"read_receipt",DELIVERY_RECEIPT:"delivery_receipt",LABEL_ADDED:"label_added",LABEL_REMOVED:"label_removed",PAGE_MESSAGE_SENT:"page_message_sent",PURCHASE:"purchase",PAGE_CLICK_CHANGE_CURRENCY:"page_click_change_currency",PAGE_CLICK_INVOICE_BUTTON:"page_click_invoice_button",PAGE_SEND_CONFIRM_RECEIPT:"page_send_confirm_receipt",PAGE_SEND_CONFIRM_TRANSACTION:"page_send_confirm_transaction",PAGE_CLICK_CONFIRM_RECEIPT:"page_click_confirm_receipt",PAGE_CLICK_CONFIRM_TRANSACTION:"page_click_confirm_transaction",PAGE_SHOW_CONFIRM_RECEIPT:"page_show_confirm_receipt",PAGE_SHOW_CONFIRM_TRANSACTION:"page_show_confirm_transaction",PAGE_CLICK_MARK_AS_PAID_NUX:"page_click_mark_as_paid_nux",PAGE_START_MARK_AS_PAID:"page_start_mark_as_paid",PAGE_INSIGHTS_VIEW_ORDER_SECTION:"page_insights_view_order_section",PAGE_CONFIRM_PAID:"page_confirm_paid",USER_OPEN_RECEIPT:"user_open_receipt",PAGE_OPEN_RECEIPT:"page_open_receipt",CONVERSATION_START_7_DAY:"conversation_start_7_day",PAGE_START_TAG_PRODUCTS:"page_start_tag_products",PAGE_COMPLETE_TAG_PRODUCTS:"page_complete_tag_products",DEEP_CONVERSATION:"deep_conversation",AUTOMATED_FLOW_COMPLETE:"automated_flow_complete",AUTOMATED_FLOW_CANCELLED:"automated_flow_cancelled",NOTIFICATION_MESSAGE_READ:"notification_message_read",NOTIFICATION_MESSAGE_CLICKED:"notfication_message_clicked",PAGE_MARK_AS_PAID_CHANGE_AMOUNT:"page_mark_as_paid_change_amount",PAGE_MARK_AS_PAID_CHNAGE_NOTE:"page_mark_as_paid_change_note",CONVERSION_QUICK_PROMOTION_IMPRESSION:"ads_conversions_qp_impression",CONVERSION_QUICK_PROMOTION_CLICK:"ads_conversions_quick_promotion_click",CONVERSION_QUICK_PROMOTION_TRIGGERED:"ads_conversions_quick_promotion_triggered",BUYER_INFORMATION_SETUP_IMPRESSION:"buyer_information_setup_impression",BUYER_INFORMATION_SETUP_CREATION:"buyer_information_setup_creation",BUYER_INFORMATION_TRIGGER_IMPRESSION:"buyer_information_trigger_impression",BUYER_INFORMATION_TRIGGER_CLICK:"buyer_information_trigger_click",BUYER_INFORMATION_SEQUENCE_FINISH:"buyer_information_sequence_finish",BUYER_INFORMATION_NUX_IMPRESSION:"buyer_information_nux_impression",BUYER_INFORMATION_NUX_CLICK:"buyer_information_nux_click",INBOX_ACTIVITY_MUTATION_FAILURE:"inbox_activity_mutation_failure",PAGE_AD_INTERACTION_PAYMENT_RECEIVED_WITHOUT_DETAILS:"page_ad_interaction_payment_received_without_details",PAGE_AD_INTERACTION_PAYMENT_RECEIVED_WITH_DETAILS:"page_ad_interaction_payment_received_with_details",PAGE_AD_INTERACTION_APPOINTMENT_BOOKED_WITHOUT_DETAILS:"page_ad_interaction_appointment_booked_without_details",PAGE_AD_INTERACTION_APPOINTMENT_BOOKED_WITH_DETAILS:"page_ad_interaction_appointment_booked_with_details",PAGE_AD_INTERACTION_ORDER_PLACED_WITHOUT_DETAILS:"page_ad_interaction_order_placed_without_details",PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS:"page_ad_interaction_order_placed_with_details",PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS_ERROR:"page_ad_interaction_order_placed_with_details_error",PAGE_AD_INTERACTION_ORDER_SHIPPED_WITHOUT_DETAILS:"page_ad_interaction_order_shipped_without_details",PAGE_AD_INTERACTION_ORDER_SHIPPED_WITH_DETAILS:"page_ad_interaction_order_shipped_with_details",PAGE_CLICK_ADD_ACTIVITY:"page_click_add_activity",PAGE_CLICK_ADD_ACTIVITY_NUX:"page_click_add_activity_nux",PAGE_CLICK_APPOINTMENT_BOOKED_CTA:"page_click_appointment_booked_cta",PAGE_CLICK_PAYMENT_RECEIVED_CTA:"page_click_payment_received_cta",ORDER_DETAILS_CREATE_ORDER:"order_details_create_order",ORDER_DETAILS_CREATE_PRODUCT:"order_details_create_product",ORDER_DETAILS_SELECT_PRODUCT:"order_details_select_product",ORDER_DETAILS_DISCOUNT:"order_details_discount",ORDER_DETAILS_SHIPPING_COST:"order_details_shipping_cost",APPOINTMENT_OPT_OUT_MESSAGE_SENT:"appointment_opt_out_message_sent",PAGE_ADMIN_OPTED_OUT_REQUEST_APPOINTMENT:"page_admin_opted_out_request_appointment"})}),null);
__d("ServicesShipOrderDialog.react",["cx","fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSSpinner.react","FDSText.react","FDSTextInput.react","OrderManagementMutationsUtil","PagesInboxThreadActionSystemDispatcher","React","RelayFBEnvironment","RelayModern","ServicesShipOrderDialogItem.react","SUIBusinessThemeContainer.react","cxMargin","emptyFunction","ServicesShipOrderDialogOrderListQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var k=344,l=i!==void 0?i:i=b("ServicesShipOrderDialogOrderListQuery.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={itemSelected:!1,invoiceID:null,shippingProvider:"",trackingNumber:""},d.$1=function(a){d.setState({trackingNumber:a})},d.$2=function(a){d.setState({shippingProvider:a})},d.$3=function(a){d.setState({itemSelected:!0,invoiceID:a})},d.$5=function(){if(!d.state.itemSelected||d.state.invoiceID==null)return;b("OrderManagementMutationsUtil").triggerMarkAsShippedMutation(d.state.invoiceID,d.props.pageID,d.state.shippingProvider,d.state.trackingNumber,b("emptyFunction"),d.$4,d.props.interactionID);d.props.onHide()},d.$6=function(a){__p&&__p();var c=a.error;a=a.props;if(c)return h._("Sorry! Something went wrong!");if(!a)return b("React").jsx(b("FDSSpinner.react"),{center:!0});var e=a.page.payment_invoices.edges;return e.length===0?h._("There are no orders to ship."):e.map(function(a,c){var f="_8bfa";c===0&&(f="_8bmv");c===e.length-1&&(f="_8bmw");return b("React").jsx("div",{className:f,children:b("React").jsx(b("ServicesShipOrderDialogItem.react"),{invoiceID:a.node.id,onSelectClick:d.$3,paymentAmount:a.node.total_amount.amount,paymentCurrency:a.node.total_amount.currency,unixTimestamp:a.node.updated_time})})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(){b("PagesInboxThreadActionSystemDispatcher").dispatch(!0)};d.render=function(){var a=this.state.itemSelected?b("React").jsxs(b("SUIBusinessThemeContainer.react"),{children:[b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("FDSText.react"),{color:"primary",display:"block",size:"body3",weight:"bold",children:h._("Shipping Provider (optional)")}),b("React").jsx("div",{className:"_3-8n",children:b("React").jsx(b("FDSTextInput.react"),{label:h._("Shipping Provider"),labelIsHidden:!0,onChange:this.$2,value:this.state.shippingProvider})}),b("React").jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-8z",size:"body3",weight:"bold",children:h._("Tracking Number (optional)")}),b("React").jsx("div",{className:"_3-8n",children:b("React").jsx(b("FDSTextInput.react"),{label:h._("Tracking Number"),labelIsHidden:!0,onChange:this.$1,value:this.state.trackingNumber})})]}),b("React").jsx(b("FDSText.react"),{display:"block",margin:"_3-8p",size:"body1",children:h._("A notification will be sent to your customer letting them know that their order has shipped. Their order details will be updated with this tracking number.")})]}):b("React").jsx(j,{environment:b("RelayFBEnvironment"),query:l,render:this.$6,variables:{pageID:this.props.pageID,userID:this.props.userID}});return b("React").jsx(b("FDSModal.react"),{footer:b("React").jsx(b("FDSModalFooter.react"),{primaryButton:b("React").jsx(b("FDSButton.react"),{isDisabled:!this.state.itemSelected,label:h._("Mark As Shipped"),onClick:this.$5,use:"primary"}),secondaryButton:b("React").jsx(b("FDSButton.react"),{label:h._("Cancel"),onClick:this.props.onHide,use:"default"})}),header:b("React").jsx(b("FDSModalHeader.react"),{title:h._("Select Order")}),height:k,isShown:this.props.shown,label:"Modal Title",onHide:this.props.onHide,children:b("React").jsx(b("FDSSection.react"),{children:b("React").jsx("div",{className:"_8bfb",children:a})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesInboxAddDetailsToInteractionText.react",["fbt","CommerceInvoiceAdminActions","ErrorBoundary.react","JSResource","Link.react","MessengerAdsConversionFunnelTypedLogger","MessengerConversionEvent","PagesInboxThreadActionSystemDispatcher","PagesPlatformBookingMessageViewer","React","ServicesAppointmentDialogRoot.react","ServicesAppointmentManagementDialogEnum","ServicesShipOrderDialog.react","emptyFunction","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("lazyLoadComponent")(b("JSResource")("OrderDetailsDialog.react").__setRef("PagesInboxAddDetailsToInteractionText.react")),i={referrerUIComponent:"composer",referrerUISurface:"message"};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isAppointmentDialogShown:!1,isOrderPlacedDialogShown:!1,isOrderShippedDialogShown:!1},d.$1=function(a){d.setState({isAppointmentDialogShown:a})},d.$2=function(a){new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS_ERROR).setPageID(d.props.pageID).setConsumerID(d.props.userID).setEventSubtype("failed_to_create_order due to "+a.toString()).log()},d.$3=function(){d.setState({isOrderPlacedDialogShown:!1})},d.$4=function(){d.setState({isOrderShippedDialogShown:!1})},d.$5=function(){__p&&__p();switch(d.props.interactionType){case"PAYMENT_RECEIVED":b("CommerceInvoiceAdminActions").toggleActionsDialog(!0,d.props.messageID,"confirm_payment","xmat",d.props.interactionID);new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_PAYMENT_RECEIVED_WITH_DETAILS).setPageID(d.props.pageID).setConsumerID(d.props.userID).log();break;case"APPOINTMENT_BOOKED":d.setState({isAppointmentDialogShown:!0});new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_APPOINTMENT_BOOKED_WITH_DETAILS).setPageID(d.props.pageID).setConsumerID(d.props.userID).log();break;case"ORDER_PLACED":d.setState({isOrderPlacedDialogShown:!0});new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS).setPageID(d.props.pageID).setConsumerID(d.props.userID).setEventSubtype("cta_clicked").log();break;case"ORDER_SHIPPED":d.setState({isOrderShippedDialogShown:!0});new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_ORDER_SHIPPED_WITH_DETAILS).setPageID(d.props.pageID).setConsumerID(d.props.userID).log();break;default:break}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$6=function(a,c){a&&b("PagesInboxThreadActionSystemDispatcher").dispatch(!0)};d.render=function(){if(this.props.isPageMessage===null||this.props.isPageMessage===!1)return null;switch(this.props.interactionType){case"PAYMENT_RECEIVED":return b("React").jsxs(b("React").Fragment,{children:[this.props.message," ",b("React").jsx(b("Link.react"),{onClick:this.$5,children:g._("Send Details")})]});case"APPOINTMENT_BOOKED":return b("React").jsxs(b("React").Fragment,{children:[this.props.message," ",b("React").jsx(b("Link.react"),{onClick:this.$5,children:g._("Send Details")}),this.state.isAppointmentDialogShown&&b("React").jsx(b("ServicesAppointmentDialogRoot.react"),{causalElementRef:b("emptyFunction"),dialogType:b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT,interactionID:this.props.interactionID,jobSearchSurface:"messenger",onToggle:this.$1,onUpdateCompleted:this.$6,pageID:this.props.pageID,referrerData:i,showMessengerButton:!1,shown:this.state.isAppointmentDialogShown,startTime:null,userID:this.props.userID,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})]});case"ORDER_PLACED":return b("React").jsxs(b("React").Fragment,{children:[this.props.message," ",this.props.shouldShowCTA!==null&&this.props.shouldShowCTA===!0&&b("React").jsx(b("Link.react"),{onClick:this.$5,children:g._("Send Details")}),this.state.isOrderPlacedDialogShown&&b("React").jsx(b("ErrorBoundary.react"),{children:b("React").jsx(b("React").Suspense,{fallback:null,children:b("React").jsx(h,{currency:this.props.defaultCurrency==null?"USD":this.props.defaultCurrency,onError:this.$2,onHide:this.$3,pageID:this.props.pageID,userID:this.props.userID})})})]});case"ORDER_SHIPPED":return b("React").jsxs(b("React").Fragment,{children:[this.props.message,this.state.isOrderShippedDialogShown&&b("React").jsx(b("ServicesShipOrderDialog.react"),{interactionID:this.props.interactionID,onHide:this.$4,pageID:this.props.pageID,shown:this.state.isOrderShippedDialogShown,userID:this.props.userID})]});default:return b("React").jsx(b("React").Fragment,{children:this.props.message})}};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarkAsPaidMessagingActionText.react",["fbt","CommerceInvoiceAdminActions","Link.react","MessengerAdsConversionFunnelTypedLogger","MessengerConversionEvent","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props.detectionType==="tracking_number"?"xmat_tracking_number":"xmat";b("CommerceInvoiceAdminActions").toggleActionsDialog(!0,d.props.messageID,"confirm_payment",a);new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_CLICK_CONFIRM_RECEIPT).setPageID(d.props.pageID).setConsumerID(d.props.userID).setClassifier(d.props.detectionType).log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.props.isPageMessage&&new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_SHOW_CONFIRM_RECEIPT).setPageID(this.props.pageID).setConsumerID(this.props.userID).setClassifier(this.props.detectionType).log()};d.render=function(){if(!this.props.isPageMessage)return null;var a=this.props.detectionType==="tracking_number"?g._("Mark as Paid"):g._("Confirm receipt");return b("React").jsxs("div",{children:[this.props.message," ",b("React").jsx(b("Link.react"),{onClick:this.$1,children:a})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2016667251691695"};b.getQueryID=function(){return"391244851334288"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ServicesAppointmentOptOutRequestsAdminText.react",["fbt","CurrentUser","Link.react","React","ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation","WebGraphQL","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","promiseDone","uuid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1,showError:!1},d.showDialog=function(){d.setState({showDialog:!0})},d.onHide=function(){d.setState({showDialog:!1}),d.setState({showError:!1})},d.onConfirm=function(){d.setState({showDialog:!1});var a=new(b("ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation"))({input:{page_id:d.props.pageID,client_mutation_id:b("uuid")(),actor_id:b("CurrentUser").getID(),user_id:d.props.userID}});b("promiseDone")(b("WebGraphQL").exec(a),function(a){a=((a=a)!=null?(a=a.messenger_appointment_opt_out)!=null?(a=a.messenger_appointment_opt_out)!=null?a.has_opted_out:a:a:a)||!1;a||(d.setState({showDialog:!0}),d.setState({showError:!0}))},function(a){d.setState({showDialog:!0}),d.setState({showError:!0})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=g._("Opt Out");return b("React").jsxs("div",{children:[this.props.message," ",b("React").jsx(b("Link.react"),{onClick:this.showDialog,children:g._("you can opt out now.")}),this.state.showError?this.renderError():b("React").jsxs(b("XUIDialog.react"),{isStrictlyControlled:!0,onHide:this.onHide,shown:this.state.showDialog,width:400,children:[b("React").jsx(b("XUIDialogTitle.react"),{children:g._("Are you sure?")}),b("React").jsx(b("XUIDialogBody.react"),{children:g._("You will no longer receive appointment request messages.")}),b("React").jsx(b("XUIDialogFooter.react"),{children:b("React").jsx(b("XUIDialogButton.react"),{action:"confirm",label:a,onClick:this.onConfirm})})]})]})};d.renderError=function(){return b("React").jsxs(b("XUIDialog.react"),{isStrictlyControlled:!0,onHide:this.onHide,shown:this.state.showDialog,width:400,children:[b("React").jsx(b("XUIDialogTitle.react"),{children:g._("Error")}),b("React").jsx(b("XUIDialogBody.react"),{children:g._("Something went wrong. Please try again later.")})]})};return c}(b("React").Component);e.exports=a}),null);
__d("ServicesAppointmentReminderAdminText.react",["fbt","DateConsts","React","formatDate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.isPageMessage,d=a.message,e=a.productName,f=a.startTime,h=a.timestamp;a=a.userName;if(!f)return d;d=b("formatDate")(f,"g:i A");if(c)if(f-h/1e3<b("DateConsts").SEC_PER_HOUR)return g._("{user-name} has an appointment {product-name} at {start-time}",[g._param("user-name",a),g._param("product-name",e),g._param("start-time",d)]);else if(f-h/1e3<b("DateConsts").SEC_PER_DAY)return g._("{user-name} has an appointment tomorrow at {start-time}",[g._param("user-name",a),g._param("start-time",d)]);else return g._("{user-name} has an appointment {product-name} on {start-date} at {start-time}",[g._param("user-name",a),g._param("product-name",e),g._param("start-date",b("formatDate")(f,"F d")),g._param("start-time",d)]);if(f-h/1e3<b("DateConsts").SEC_PER_HOUR)return g._("You have an appointment at {start-time}",[g._param("start-time",d)]);else if(f-h/1e3<b("DateConsts").SEC_PER_DAY)return g._("You have an appointment tomorrow at {start-time}",[g._param("start-time",d)]);else return g._("You have an appointment on {start-date} at {start-time}",[g._param("start-date",b("formatDate")(f,"F d")),g._param("start-time",d)])};e.exports=a}),null);
__d("ServicesBookableServicesSurveyActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS:null,BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA:null,BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE:null,BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD:null,BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS:null,BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER:null,BOOKABLE_SERVICES_SURVEY_RESET:null,BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE:null,BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES:null,BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER:null,BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY:null,BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR:null,BOOKABLE_SERVICES_SURVEY_SET_RADIUS:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_AREA:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE:null,BOOKABLE_SERVICES_SURVEY_SET_STEP:null});e.exports=a}),null);
__d("BookableServicesCustomServiceItem",["immutable"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({label:"",key:"",selected:!1}));e.exports=a}),null);
__d("BookableServicesServiceAreaRadiusValues",[],(function(a,b,c,d,e,f){"use strict";a=[1,2,3,5,10,20,30,50,100];e.exports=a}),null);
__d("ServicesBookableServicesSurveySteps",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({CONFIRMATION:null,CUSTOM_SERVICE_ITEM:null,GET_STARTED:null,MAKE_SELECTION:null,SERVICES_AREA:null,SERVICES_SELECTION:null});e.exports=a}),null);
__d("ServicesBookableServicesSurveyStore",["BookableServicesCustomServiceItem","BookableServicesServiceAreaRadiusValues","FluxReduceStore","ServicesBookableServicesSurveyActionTypes","ServicesBookableServicesSurveySteps","ServicesCTAUnificationDispatcher","immutable","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("ServicesBookableServicesSurveyActionTypes")).BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS,h=a.BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA,i=a.BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM,j=a.BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM,k=a.BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM,l=a.BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE,m=a.BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD,n=a.BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS,o=a.BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER,p=a.BOOKABLE_SERVICES_SURVEY_RESET,q=a.BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE,r=a.BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES,s=a.BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER,t=a.BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY,u=a.BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR,v=a.BOOKABLE_SERVICES_SURVEY_SET_RADIUS,w=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_AREA,x=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE,y=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE,z=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE,A=a.BOOKABLE_SERVICES_SURVEY_SET_STEP;c=10;var B=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}((d=b("immutable")).Record({address:"",autoMakeSearchQuery:null,canVisitMyBusiness:!1,customServices:d.List(),customServiceItem:"",hasServiceArea:!1,mutationSuccess:!0,noPermissions:!1,pageID:"",category:null,predefinedBookableTasks:d.List(),predefinedAutoMake:d.List(),radius:c,referrer:"",selectedServices:d.Set(),selectedAutoMake:d.Set(),serviceAreaCenter:null,serviceAreaCenterCoordinates:null,serviceAreaCenterID:"",sessionID:"",shouldShowCustomServicesEntry:!0,shouldShowAutoMakeQuestion:!1,showLoadingIndicator:!1,step:b("ServicesBookableServicesSurveySteps").GET_STARTED,surveyStatus:0}));f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new B()};d.reduce=function(a,c){__p&&__p();switch(c.type){case m:c.payload.radius&&b("BookableServicesServiceAreaRadiusValues").includes(c.payload.radius)&&(a=a.set("radius",c.payload.radius));return a.set("address",c.payload.address).set("canVisitMyBusiness",c.payload.customersCanVisitBusiness).set("customServices",b("immutable").List(c.payload.manualBookableTasks.map(function(a){return new(b("BookableServicesCustomServiceItem"))({label:a,key:b("uuid")(),selected:!0})}))).set("hasServiceArea",!!c.payload.serviceAreaCenter).set("pageID",c.payload.pageID).set("category",c.payload.category).set("predefinedBookableTasks",c.payload.predefinedBookableTasks).set("predefinedAutoMake",c.payload.predefinedAutoMake).set("referrer",c.payload.referrer).set("serviceAreaCenter",c.payload.serviceAreaCenter).set("serviceAreaCenterCoordinates",c.payload.serviceAreaCenterCoordinates).set("serviceAreaCenterID",c.payload.serviceAreaCenterID).set("selectedServices",c.payload.surveyStatus===0?b("immutable").Set():b("immutable").Set(c.payload.selectedBookableTasks.filter(function(a){return a!=null&&a.task!=null}).map(function(a){return a.task}))).set("selectedAutoMake",c.payload.selectedAutoMake).set("sessionID",c.payload.sessionID).set("shouldShowCustomServicesEntry",c.payload.shouldShowCustomServicesEntry).set("shouldShowAutoMakeQuestion",c.payload.shouldShowAutoMakeQuestion).set("surveyStatus",c.payload.surveyStatus);case n:return a.set("noPermissions",!0);case r:return a.set("selectedServices",b("immutable").Set()).set("customServices",a.customServices.map(function(a){return a.set("selected",!1)}));case s:var d=c.payload,e=d.serviceAreaCenter,f=d.serviceAreaCenterCoordinates;d=d.serviceAreaCenterID;return a.set("serviceAreaCenter",e).set("serviceAreaCenterCoordinates",f).set("serviceAreaCenterID",d);case o:return a.set("serviceAreaCenter",null).set("serviceAreaCenterCoordinates",null).set("serviceAreaCenterID","");case v:e=c.payload.radius;return a.set("radius",e);case A:c.payload.mutationSuccess!=null&&(a=a.set("mutationSuccess",c.payload.mutationSuccess));f=c.payload.step;return a.set("step",f);case y:d=c.payload.selectedMake;return a.set("selectedAutoMake",a.selectedAutoMake.has(d)?a.selectedAutoMake["delete"](d):a.selectedAutoMake.add(d));case z:e=c.payload.selectedService;return a.set("selectedServices",a.selectedServices.has(e)?a.selectedServices["delete"](e):a.selectedServices.add(e));case x:var B=c.payload.selectedCustomService;f=a.customServices.findIndex(function(a){return a.key===B});d=f>=0?a.customServices.get(f):null;return d?a.set("customServices",a.customServices.set(f,d.set("selected",!d.selected))):a;case g:return a.set("canVisitMyBusiness",!a.canVisitMyBusiness);case h:return a.set("hasServiceArea",!a.hasServiceArea);case l:return a.set("selectedAutoMake",b("immutable").Set([]));case q:return a.set("selectedAutoMake",b("immutable").Set(a.predefinedAutoMake.map(function(a){return a.id})));case w:e=c.payload.selectedArea;var C=e.getUniqueID();f=a.selectedAreas.find(function(a){return a.getUniqueID()===C});d=a.set("selectedAreas",f?a.selectedAreas["delete"](f):a.selectedAreas.add(e));return d;case k:f=c.payload.text;return a.set("customServiceItem",f);case i:return a.set("customServiceItem","");case j:return a.set("customServices",a.customServices.push(new(b("BookableServicesCustomServiceItem"))({label:a.customServiceItem,key:b("uuid")(),selected:!0})));case u:return a.set("showLoadingIndicator",!a.showLoadingIndicator);case t:return a.set("autoMakeSearchQuery",c.payload.query);case p:return this.getInitialState();default:return a}};d.getPageID=function(){return this.getState().pageID};d.getCategory=function(){return this.getState().category};d.getReferrer=function(){return this.getState().referrer};d.getSessionID=function(){return this.getState().sessionID};d.getStep=function(){return this.getState().step};d.getSelectedAutoMake=function(){return this.getState().selectedAutoMake};d.shouldShowAutoMakeQuestion=function(){return this.getState().shouldShowAutoMakeQuestion};d.hasAnyServicesSelected=function(){var a=this.getState(),b=a.customServices;a=a.selectedServices;if(a.size>0)return!0;a=b.find(function(a){return a.selected});return!!a};d.hasServiceAreaDefined=function(){var a=this.getState(),b=a.canVisitMyBusiness,c=a.serviceAreaCenter;a=a.hasServiceArea;return!a&&!b||a&&!c?!1:!0};d.isCustomServiceValid=function(){return this.getState().customServiceItem.trim().length>0};d.getAutoMakeList=function(){__p&&__p();var a=this.getState(),c=a.autoMakeSearchQuery;a=a.predefinedAutoMake;if(c==null||c.length===0)return a;var d=[];a.forEach(function(a){__p&&__p();if(a.consumer_name==null)return;var b=a.consumer_name.split(/[ -]/);for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;if(g.toLowerCase().startsWith(c.toLowerCase())){d.push(a);return}}});return b("immutable").List(d)};d.getProgressBarPercentage=function(){__p&&__p();var a=0;switch(this.getState().step){case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=33;break;case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:a=67;break;case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:a=0;break;case b("ServicesBookableServicesSurveySteps").CONFIRMATION:a=100;break;case b("ServicesBookableServicesSurveySteps").GET_STARTED:default:a=0}return a};d.hasSelectedAllMakes=function(){var a=this.getState();return a.predefinedAutoMake.every(function(b){return a.selectedAutoMake.has(b.id)})};return c}(b("FluxReduceStore"));f.__moduleID=e.id;e.exports=new f(b("ServicesCTAUnificationDispatcher"))}),null);
__d("ServicesBookableServicesSurveyLogger",["ServicesBookableServicesSurveyStore","ServicesLeadGenBookableTasksSurveyTypedLogger"],(function(a,b,c,d,e,f){"use strict";a={log:function(a){var c;new(b("ServicesLeadGenBookableTasksSurveyTypedLogger"))().setCurrentView((c=b("ServicesBookableServicesSurveyStore")).getStep().toString()).setEvent(a).setPageID(c.getPageID()).setServicesCategory(c.getCategory()).setReferrer(c.getReferrer()).setSessionID(c.getSessionID()).log()}};e.exports=a}),null);
__d("ServicesBookableServicesSurveyStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NOT_SUBMITTED:0,SUBMITTED:1})}),null);
__d("ServicesLeadGenSurveyDialogQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1903587599704424"};b.getQueryID=function(){return"276587612933392"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1706923136039787"};b.getQueryID=function(){return"224836864728650"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ServicesBookableServicesSurveyActions",["CurrentUser","SearchableEntry","ServicesBookableServicesSurveyActionTypes","ServicesBookableServicesSurveyLogger","ServicesBookableServicesSurveyStatus","ServicesBookableServicesSurveySteps","ServicesBookableServicesSurveyStore","ServicesCTAUnificationDispatcher","ServicesLeadGenSurveyDialogQueryWebGraphQLQuery","ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation","WebGraphQL","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("ServicesBookableServicesSurveyActionTypes")).BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS,h=a.BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA,i=a.BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM,j=a.BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM,k=a.BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM,l=a.BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE,m=a.BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD,n=a.BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS,o=a.BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER,p=a.BOOKABLE_SERVICES_SURVEY_RESET,q=a.BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE,r=a.BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES,s=a.BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER,t=a.BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY,u=a.BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR,v=a.BOOKABLE_SERVICES_SURVEY_SET_RADIUS,w=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE,x=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE,y=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE,z=a.BOOKABLE_SERVICES_SURVEY_SET_STEP,A={initialLoad:function(a,c,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t){b("ServicesCTAUnificationDispatcher").dispatch({type:m,payload:{address:a,customersCanVisitBusiness:c,manualBookableTasks:d,pageID:e,category:f,predefinedBookableTasks:g,predefinedAutoMake:h,radius:i,referrer:j,selectedBookableTasks:k,selectedAutoMake:l,serviceAreaCenter:n,serviceAreaCenterCoordinates:o,serviceAreaCenterID:p,sessionID:q,shouldShowCustomServicesEntry:r,shouldShowAutoMakeQuestion:s,surveyStatus:t}})},loadDataAndInitialize:function(a,c,d,e){__p&&__p();b("ServicesCTAUnificationDispatcher").dispatch({type:u}),b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesLeadGenSurveyDialogQueryWebGraphQLQuery"))({page_id:a})),function(f){__p&&__p();var g,h,i,j,k,l,m,o,p,q,r;r=(r=f)!=null?(r=r.page)!=null?(r=r.services_vertical_info)!=null?r.service_category:r:r:r;q=((q=f)!=null?(q=q.page)!=null?q.viewer_profile_permissions:q:q)||[];if(!q.includes("EDIT_PROFILE")){b("ServicesCTAUnificationDispatcher").dispatch({type:n});b("ServicesCTAUnificationDispatcher").dispatch({type:u});return}q=((q=f)!=null?(q=q.page)!=null?(q=q.address)!=null?q.single_line_full_address:q:q:q)||"";p=(p=f)!=null?(p=p.page)!=null?(p=p.business_details)!=null?p.bookable_services_survey_status:p:p:p;p=p?b("ServicesBookableServicesSurveyStatus")[p]:0;o=((o=f)!=null?(o=o.page)!=null?(o=o.business_details)!=null?o.customers_can_visit_business:o:o:o)||!1;m=(m=f)!=null?(m=m.page)!=null?(m=m.services_vertical_info)!=null?m.predefined_bookable_tasks:m:m:m;var s=function(a){var b;return{category:(b=a)!=null?b.category:b,consumer_name:(b=a)!=null?b.consumer_name:b,task:(b=a)!=null?b.task:b}};m=m?m.map(s):[];l=(l=f)!=null?(l=l.page)!=null?(l=l.services_vertical_info)!=null?l.predefined_auto_make:l:l:l;l=l?l.map(function(a){var b;return{id:(b=a)!=null?b.id:b,consumer_name:(b=a)!=null?b.make_display_name:b}}):[];k=((k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?(k=k.bookable_tasks)!=null?k.nodes:k:k:k:k)||[];var t=[],v=[];k.forEach(function(a){var b;b=((b=a)!=null?b.info:b)||{};b.task==="OTHER"&&a.manual_name!=null?t.push(a.manual_name):v.push(s(b))});var w=[];k=(k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?k.auto_make:k:k:k;k&&k.forEach(function(a){a.id&&w.push(a.id)});k=((k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?k.service_area_radius:k:k:k)||0;j=(j=f)!=null?(j=j.page)!=null?(j=j.business_details)!=null?(j=j.service_area_center)!=null?j.name:j:j:j:j;i=(i=f)!=null?(i=i.page)!=null?(i=i.business_details)!=null?(i=i.service_area_center)!=null?i.id:i:i:i:i;j=j&&i?new(b("SearchableEntry"))({uniqueID:i,title:j}):null;h=(h=f)!=null?(h=h.page)!=null?(h=h.business_details)!=null?(h=h.service_area_center)!=null?h.page_map_location:h:h:h:h;g=(g=f)!=null?(g=g.page)!=null?(g=g.services_vertical_info)!=null?g.should_show_survey_custom_services_entry:g:g:g;f=(f=f)!=null?(f=f.page)!=null?(f=f.services_vertical_info)!=null?f.should_ask_supported_automobile_makes:f:f:f;A.initialLoad(q,o,b("immutable").List(t),a,r,b("immutable").List(m),b("immutable").List(l),k,c,b("immutable").List(v),b("immutable").Set(w),j,h,i||"",d,g!=null?g:!1,f!=null?f:!1,p);b("ServicesCTAUnificationDispatcher").dispatch({type:u});e()})},nextStep:function(){__p&&__p();b("ServicesBookableServicesSurveyLogger").log("next_question");var a=null;switch(b("ServicesBookableServicesSurveyStore").getStep()){case b("ServicesBookableServicesSurveySteps").GET_STARTED:a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=b("ServicesBookableServicesSurveySteps").SERVICES_AREA;break;case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:a=b("ServicesBookableServicesSurveyStore").shouldShowAutoMakeQuestion()?b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:b("ServicesBookableServicesSurveySteps").SERVICES_AREA;break;default:a=b("ServicesBookableServicesSurveySteps").GET_STARTED}b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},previousStep:function(){b("ServicesBookableServicesSurveyLogger").log("previous_question");var a=null;switch(b("ServicesBookableServicesSurveyStore").getStep()){case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:a=b("ServicesBookableServicesSurveyStore").shouldShowAutoMakeQuestion()?b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;default:a=b("ServicesBookableServicesSurveySteps").GET_STARTED}b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},startCustomServiceItem:function(){var a=b("ServicesBookableServicesSurveySteps").CUSTOM_SERVICE_ITEM;b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},selectService:function(a){b("ServicesBookableServicesSurveyLogger").log("toggle_service"),b("ServicesCTAUnificationDispatcher").dispatch({type:y,payload:{selectedService:a}})},selectCustomService:function(a){b("ServicesBookableServicesSurveyLogger").log("toggle_service"),b("ServicesCTAUnificationDispatcher").dispatch({type:w,payload:{selectedCustomService:a}})},selectMake:function(a){b("ServicesBookableServicesSurveyStore").getSelectedAutoMake().contains(a)?b("ServicesBookableServicesSurveyLogger").log("deselect_make"):b("ServicesBookableServicesSurveyLogger").log("select_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:x,payload:{selectedMake:a}}),b("ServicesCTAUnificationDispatcher").dispatch({type:t,payload:{query:""}})},checkCanVisitMyBusiness:function(){b("ServicesBookableServicesSurveyLogger").log("toggle_can_visit_business"),b("ServicesCTAUnificationDispatcher").dispatch({type:g})},checkHasServiceArea:function(){b("ServicesBookableServicesSurveyLogger").log("toggle_has_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:h})},removeServiceAreaCenter:function(){b("ServicesBookableServicesSurveyLogger").log("remove_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:o})},selectServiceAreaCenter:function(a,c,d){b("ServicesBookableServicesSurveyLogger").log("select_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:s,payload:{serviceAreaCenter:a,serviceAreaCenterCoordinates:c,serviceAreaCenterID:d||""}})},selectAllMake:function(){b("ServicesBookableServicesSurveyLogger").log("select_all_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:q})},deselectAllMake:function(){b("ServicesBookableServicesSurveyLogger").log("deselect_all_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:l})},customServiceItemChange:function(a){a=a.target.value;b("ServicesCTAUnificationDispatcher").dispatch({type:k,payload:{text:a}})},clearCustomServiceItem:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:i})},createCustomServiceItem:function(){b("ServicesBookableServicesSurveyLogger").log("add_manual_service");var a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;b("ServicesCTAUnificationDispatcher").dispatch({type:j});b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},resetSurvey:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:p})},selectNoneOfTheAboveServices:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:r}),A.submitSurvey(b("CurrentUser").getID())},setRadius:function(a){b("ServicesBookableServicesSurveyLogger").log("select_radius"),b("ServicesCTAUnificationDispatcher").dispatch({type:v,payload:{radius:a}})},setAutoMakeSearchQuery:function(a){b("ServicesBookableServicesSurveyLogger").log("search_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:t,payload:{query:a}})},submitSurvey:function(a){__p&&__p();var c=b("ServicesBookableServicesSurveyStore").getState(),d=c.canVisitMyBusiness,e=c.customServices,f=c.hasServiceArea,g=c.pageID,h=c.radius,i=c.referrer,j=c.selectedServices,k=c.selectedAutoMake,l=c.serviceAreaCenterID;c=c.sessionID;b("ServicesBookableServicesSurveyLogger").log("submit");b("ServicesCTAUnificationDispatcher").dispatch({type:u});var m=[];for(var j=j.toArray(),n=Array.isArray(j),o=0,j=n?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=j.length)break;p=j[o++]}else{o=j.next();if(o.done)break;p=o.value}p=p;p!=="%future added value"&&m.push(p)}b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation"))({input:{client_mutation_id:"0",actor_id:a,session_id:c,page_id:g,referrer:i,selected_bookable_tasks:m,other_bookable_tasks:e.toArray().filter(function(a){return a.selected}).map(function(a){return a.label}),kbb_makes:k.toArray(),customers_can_visit_business:d,service_area_center_id:f&&l?l:null,service_area_radius:f&&l?h:null}})),function(a){a=((a=a)!=null?(a=a.services_page_business_details_edit)!=null?a.success:a:a)||!1;var c=b("ServicesBookableServicesSurveySteps").CONFIRMATION;b("ServicesCTAUnificationDispatcher").dispatch({type:u});b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:c,mutationSuccess:a}})})}};e.exports=A}),null);
__d("BookableServicesSurveyGetStartedView.react",["cx","fbt","ix","FDSText.react","Image.react","React","ServicesBookableServicesSurveyActions","XUIButton.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs("div",{className:"_2piq _2owm _52jv",children:[a.jsx(b("Image.react"),{src:i("649009")}),a.jsx(b("FDSText.react"),{display:"block",margin:"_4aws",size:"header3",textAlign:"center",weight:"bold",children:h._("Connect to the right customers near you.")}),a.jsx(b("FDSText.react"),{display:"block",margin:"_6bu9 _3-8y",size:"body1",textAlign:"center",children:h._("Answer a few simple questions about your business so people who need your services can find you.")}),a.jsx(b("XUIButton.react"),{className:"_4aws",label:h._("Get Started"),onClick:b("ServicesBookableServicesSurveyActions").nextStep,size:"xlarge",use:"confirm"}),a.jsxs("div",{className:"_3-8x _6pu2",children:[a.jsx(b("Image.react"),{className:"_3-8_",src:i("501429")}),a.jsx(b("FDSText.react"),{color:"secondary",size:"body2",textAlign:"center",children:h._("The information you provide won't be shown on your Page.")})]})]})};return c}(b("React").Component);e.exports=a}),null);
__d("BookableServicesSurveyMakeSelectionContainer.react",["ix","cx","fbt","FDSLink.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","ShimButton.react","XUICheckboxInput.react","XUITextInput.react","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){a=b("ServicesBookableServicesSurveyStore").getState();return{predefinedAutoMake:b("ServicesBookableServicesSurveyStore").getAutoMakeList(),autoMakeSearchQuery:a.autoMakeSearchQuery,selectedAutoMake:a.selectedAutoMake}};var d=c.prototype;d.componentWillUnmount=function(){b("ServicesBookableServicesSurveyActions").setAutoMakeSearchQuery(null)};d.setAutoMakeSearchQuery=function(a){b("ServicesBookableServicesSurveyActions").setAutoMakeSearchQuery(a.target.value)};d.toggleSelectAllMake=function(){b("ServicesBookableServicesSurveyStore").hasSelectedAllMakes()?b("ServicesBookableServicesSurveyActions").deselectAllMake():b("ServicesBookableServicesSurveyActions").selectAllMake()};d.render=function(){var a=this,c;return(c=b("React")).jsxs("div",{children:[c.jsx(b("FDSText.react"),{display:"block",margin:"_3-8y",size:"header2",children:i._("What makes do you service?")}),c.jsx(b("XUITextInput.react"),{className:"_2-ox _6nvx",height:"tall",onChange:this.setAutoMakeSearchQuery,placeholder:i._("Search for make"),rightChild:c.jsx(b("Image.react"),{className:"_6nvy",src:g("530630")}),value:this.state.autoMakeSearchQuery}),!this.state.autoMakeSearchQuery&&b("React").jsx("div",{className:"_3-96 _52jw",children:b("React").jsx(b("FDSLink.react"),{onClick:this.toggleSelectAllMake,children:b("ServicesBookableServicesSurveyStore").hasSelectedAllMakes()?i._("Select None"):i._("Select All")})}),b("React").jsx("div",{className:"_20nr _2pll",maxHeight:500,children:this.state.predefinedAutoMake.map(function(c,d){return b("React").jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:function(){b("ServicesBookableServicesSurveyActions").selectMake(c.id)},children:[b("React").jsx(b("XUICheckboxInput.react"),{checked:a.state.selectedAutoMake.has(c.id),className:"_3-91",onClick:function(){b("ServicesBookableServicesSurveyActions").selectMake(c.id)},readOnly:!0}),b("React").jsx(b("FDSText.react"),{size:"body2",children:c.consumer_name})]},d)})})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveySelectionContainer.react",["ix","cx","fbt","FDSCheckboxInput.maintenance.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","ShimButton.react","XUIButton.react","XUITextInput.react","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.editOtherService=function(){d.setState({isEditingOther:!0})},d.saveOtherService=function(){d.setState({isEditingOther:!1}),b("ServicesBookableServicesSurveyActions").createCustomServiceItem(),b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()},d.stopEditingOtherService=function(){d.setState({isEditingOther:!1}),b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState();return!a?{customServiceItem:c.customServiceItem,customServices:c.customServices,isCustomServiceValid:b("ServicesBookableServicesSurveyStore").isCustomServiceValid(),isEditingOther:!1,isHovered:!1,predefinedBookableTasks:c.predefinedBookableTasks,selectedServices:c.selectedServices,shouldShowCustomServicesEntry:c.shouldShowCustomServicesEntry}:babelHelpers["extends"]({},a,{customServiceItem:c.customServiceItem,customServices:c.customServices,isCustomServiceValid:b("ServicesBookableServicesSurveyStore").isCustomServiceValid(),predefinedBookableTasks:c.predefinedBookableTasks,selectedServices:c.selectedServices,shouldShowCustomServicesEntry:c.shouldShowCustomServicesEntry})};var d=c.prototype;d.componentWillUnmount=function(){b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()};d.render=function(){__p&&__p();var a=this,c=this.state.predefinedBookableTasks.map(function(c,d){if(!c.task)return null;var e=a.state.selectedServices.has(c.task);return b("React").jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:function(){b("ServicesBookableServicesSurveyActions").selectService(c.task)},children:[b("React").jsx(b("FDSCheckboxInput.maintenance.react"),{margin:"_3-90",onChange:function(){b("ServicesBookableServicesSurveyActions").selectService(c.task)},value:e}),b("React").jsx(b("FDSText.react"),{size:"body2",children:c.consumer_name})]},d)}),d=this.state.customServices.map(function(a,c){return b("React").jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:function(){b("ServicesBookableServicesSurveyActions").selectCustomService(a.key)},children:[b("React").jsx(b("FDSCheckboxInput.maintenance.react"),{margin:"_3-90",onChange:function(){b("ServicesBookableServicesSurveyActions").selectCustomService(a.key)},value:a.selected}),b("React").jsx(b("FDSText.react"),{size:"body2",children:a.label})]},c)}),e=this.state.isEditingOther?b("React").jsxs("div",{className:"_2pi3 _2o1n _2plg",children:[b("React").jsx(b("XUITextInput.react"),{className:"_2plj",height:"tall",onChange:b("ServicesBookableServicesSurveyActions").customServiceItemChange,placeholder:"Describe your service",value:this.state.customServiceItem}),b("React").jsxs("div",{className:"_3-8y _2plk",children:[b("React").jsx(b("XUIButton.react"),{disabled:!this.state.isCustomServiceValid,label:i._("Add"),size:"large",onClick:this.saveOtherService,use:"confirm"}),b("React").jsx(b("XUIButton.react"),{className:"_3-91",label:i._("Cancel"),onClick:this.stopEditingOtherService})]})]}):b("React").jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:this.editOtherService,children:[b("React").jsx(b("Image.react"),{className:"_6pu1",src:g("489390")}),b("React").jsx(b("FDSText.react"),{color:"highlight",size:"body2",children:i._("Add Service")})]});return b("React").jsxs("div",{children:[b("React").jsx(b("FDSText.react"),{margin:"_20nr _3-8y",size:"header2",children:i._("Which services do you provide?")}),b("React").jsxs("div",{className:"_20nr _2pll",fade:!0,maxHeight:500,children:[c,d,this.state.shouldShowCustomServicesEntry&&e]})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveyCheckboxQuestion.react",["cx","React","ShimButton.react","XUICheckboxInput.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:"_2o1k"+(this.props.hideBorder!==!0?" _2ctu":""),children:[b("React").jsxs(b("ShimButton.react"),{className:"_2ctv",onClick:this.props.onClick,children:[b("React").jsx(b("XUICheckboxInput.react"),{checked:this.props.isChecked,className:"_3-91",onClick:this.props.onClick,readOnly:!0}),b("React").jsx(b("XUIText.react"),{display:"inline",size:"body1",children:this.props.title})]}),this.props.children]})};return c}(b("React").Component);e.exports=a}),null);
__d("BookableServicesSurveyServiceAreaContainer.react",["cx","fbt","AddressTypeaheadGraphQLSearchSource","AddressTypeaheadSearchSourceConfig","BookableServicesServiceAreaRadiusValues","BookableServicesSurveyCheckboxQuestion.react","DistanceConstants","FBTilesMap__DEPRECATED.react","FluxContainer","GeoCoordinates","LeafletCircle.react","LeafletView","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","XUISingleSelector.react","XUIText.react","XUITokenizer.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("DistanceConstants").METERS_PER_MILE,j=b("XUISingleSelector.react").Option,k=new(b("LeafletView"))({center:new(b("GeoCoordinates"))(38.82255,-97.64649),zoom:3});a=3;var l=new(b("AddressTypeaheadGraphQLSearchSource"))(new(b("AddressTypeaheadSearchSourceConfig"))(null,null,"facebook","street_place_typeahead","string_match","interleave",a,"services_lead_gen_survey",["USA"],["postal_code"]));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onSelectEntryAttempt=function(a){var c=a.getAuxiliaryData();c&&c.latitude&&d.setState({view:new(b("LeafletView"))({center:new(b("GeoCoordinates"))(c.latitude,c.longitude),zoom:9})});b("ServicesBookableServicesSurveyActions").selectServiceAreaCenter(a,c,c.locationID)},d.onViewChange=function(a){d.setState({view:a})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState(),d=c.serviceAreaCenterCoordinates&&c.serviceAreaCenterCoordinates.latitude?new(b("GeoCoordinates"))(c.serviceAreaCenterCoordinates.latitude,c.serviceAreaCenterCoordinates.longitude):null;return!a?{address:c.address,canVisitMyBusiness:c.canVisitMyBusiness,hasServiceArea:c.hasServiceArea,radius:c.radius,serviceAreaCenter:c.serviceAreaCenter?[c.serviceAreaCenter]:[],serviceAreaCenterCoordinates:d,view:d?new(b("LeafletView"))({center:d,zoom:9}):k}:babelHelpers["extends"]({},a,{canVisitMyBusiness:c.canVisitMyBusiness,hasServiceArea:c.hasServiceArea,radius:c.radius,serviceAreaCenter:c.serviceAreaCenter?[c.serviceAreaCenter]:[],serviceAreaCenterCoordinates:d})};var d=c.prototype;d.onRemoveEntryAttempt=function(a){b("ServicesBookableServicesSurveyActions").removeServiceAreaCenter()};d.onSelectRadius=function(a){b("ServicesBookableServicesSurveyActions").setRadius(a.value)};d.renderMap=function(){return this.state.view==null?null:b("React").jsx(b("FBTilesMap__DEPRECATED.react"),{className:"_3zv_",onViewChange:this.onViewChange,setZoomPosition:{vertical:"top",horizontal:"left"},showZoomControls:!0,surface:"lead_gen",view:this.state.view,children:this.state.serviceAreaCenterCoordinates?b("React").jsx(b("LeafletCircle.react"),{center:this.state.serviceAreaCenterCoordinates,radius:this.state.radius*i}):null})};d.renderSelectorOptions=function(){return b("BookableServicesServiceAreaRadiusValues").map(function(a){return b("React").jsx(j,{value:a,children:b("React").jsx("span",{children:h._({"*":"Within {number} miles","_1":"Within 1 mile"},[h._plural(a,"number")])})},a)})};d.render=function(){return b("React").jsxs("div",{children:[this.renderMap(),b("React").jsxs("div",{className:"_2pib _2pie",children:[this.state.address?b("React").jsx(b("BookableServicesSurveyCheckboxQuestion.react"),{isChecked:this.state.canVisitMyBusiness,onClick:b("ServicesBookableServicesSurveyActions").checkCanVisitMyBusiness,title:h._("Customers can visit this business"),children:b("React").jsx(b("XUIText.react"),{className:"_3-8y _spx",color:"secondary",display:"block",size:"body3",children:this.state.address})}):null,b("React").jsx(b("BookableServicesSurveyCheckboxQuestion.react"),{hideBorder:!0,isChecked:this.state.hasServiceArea,onClick:b("ServicesBookableServicesSurveyActions").checkHasServiceArea,title:h._("This business provides services in a surrounding area"),children:this.state.hasServiceArea?b("React").jsxs("div",{className:"_3-8y _spy",children:[b("React").jsx(b("XUIText.react"),{size:"body3",weight:"bold",children:h._("ZIP code")}),b("React").jsx(b("XUITokenizer.react"),{className:"_3-9b",entries:this.state.serviceAreaCenter,entriesWidthMatchContext:!0,extraTypeaheadProps:{maxLength:5},limit:1,onAddEntryAttempt:this.onSelectEntryAttempt,onRemoveEntryAttempt:this.onRemoveEntryAttempt,placeholder:h._("e.g. 12345"),searchSource:l,selectOnBlur:!0}),b("React").jsx(b("XUISingleSelector.react"),{className:"_3-9b",onChange:this.onSelectRadius,value:this.state.radius,size:"large",children:this.renderSelectorOptions()})]}):null})]})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(c)}),null);
__d("BookableServicesSurveyDialogContentContainer.react",["ix","cx","fbt","BookableServicesSurveyGetStartedView.react","BookableServicesSurveyMakeSelectionContainer.react","BookableServicesSurveySelectionContainer.react","BookableServicesSurveyServiceAreaContainer.react","BUIProgressBar.react","CurrentUser","FDSButton.react","FDSCancelButton.react","FDSLink.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyLogger","ServicesBookableServicesSurveySteps","ServicesBookableServicesSurveyStore","ServicesCTAUnificationDispatcher","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","XUIText.react","asset","cxMargin","immutable","uuid"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.showOptOutDialog=function(){c.setState({isOptOutDialogShown:!0})},c.hideOptOutDialog=function(){c.setState({isOptOutDialogShown:!1})},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState(),d=b("ServicesBookableServicesSurveyStore").hasAnyServicesSelected(),e=b("ServicesBookableServicesSurveyStore").hasServiceAreaDefined();return{hasAnyServicesSelected:d,hasServiceAreaDefined:e,isOptOutDialogShown:a?a.isOptOutDialogShown:!1,mutationSuccess:c.mutationSuccess,noPermissions:c.noPermissions,progressBarPercentage:b("ServicesBookableServicesSurveyStore").getProgressBarPercentage(),selectedAutoMake:c.selectedAutoMake,showLoadingIndicator:c.showLoadingIndicator,step:c.step}};var d=c.prototype;d.componentDidMount=function(){b("ServicesCTAUnificationDispatcher").explicitlyRegisterStores(this.constructor.getStores()),b("ServicesBookableServicesSurveyActions").loadDataAndInitialize(this.props.pageID,this.props.referrer,b("uuid")(),function(){b("ServicesBookableServicesSurveyLogger").log("www_survey_impression")})};d.componentWillUnmount=function(){b("ServicesBookableServicesSurveyLogger").log("dismiss"),b("ServicesBookableServicesSurveyActions").resetSurvey()};d.renderBody=function(){__p&&__p();if(this.state.showLoadingIndicator)return b("React").jsx(b("XUIDialogBody.react"),{className:"_52jv",children:b("React").jsx(b("XUISpinner.react"),{size:"large"})});else if(this.state.noPermissions)return b("React").jsx(b("XUIDialogBody.react"),{className:"_2pib _52jv",children:b("React").jsx(b("XUIText.react"),{display:"block",size:"body1",children:i._("You don't have permission to edit this page.")})});switch(this.state.step){case b("ServicesBookableServicesSurveySteps").CONFIRMATION:return!this.state.mutationSuccess?b("React").jsx(b("XUIDialogBody.react"),{className:"_2pib _52jv",children:b("React").jsx(b("XUIText.react"),{display:"block",size:"body1",children:i._("We're sorry, there were problems with saving your survey. Please try again later.")})}):b("React").jsxs(b("XUIDialogBody.react"),{className:"_52jv _6qyw",children:[b("React").jsx("div",{className:"_6i-n",children:b("React").jsx("div",{className:"_3-96 _2pi0 _6hoq",children:b("React").jsx(b("Image.react"),{src:g("505220")})})}),b("React").jsx(b("FDSText.react"),{size:"body1",children:i._("Thanks for telling us more about your business.")})]});case b("ServicesBookableServicesSurveySteps").GET_STARTED:return b("React").jsx(b("XUIDialogBody.react"),{className:"_2pib",children:b("React").jsx(b("BookableServicesSurveyGetStartedView.react"),{})});case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:return b("React").jsx(b("XUIDialogBody.react"),{className:"_2pib",children:b("React").jsx(b("BookableServicesSurveyMakeSelectionContainer.react"),{})});case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:return b("React").jsx(b("XUIDialogBody.react"),{className:"_1kto",children:b("React").jsx(b("BookableServicesSurveyServiceAreaContainer.react"),{})});case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:return b("React").jsx(b("XUIDialogBody.react"),{className:"_2pib",children:b("React").jsx(b("BookableServicesSurveySelectionContainer.react"),{})});default:return null}};d.renderTitle=function(){return this.props.hideTitle?null:b("React").jsx(b("XUIDialogTitle.react"),{className:"_2pi5",id:"dialogTitle",children:i._("Quick Survey")})};d.renderFooter=function(){if(this.state.showLoadingIndicator)return null;switch(this.state.step){case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:return b("React").jsxs(b("XUIDialogFooter.react"),{fullBleedBorder:!0,children:[b("React").jsx(b("XUIDialogButton.react"),{className:"_3-8_",label:i._("Back"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").previousStep}),b("React").jsx(b("XUIDialogButton.react"),{disabled:this.state.selectedAutoMake.isEmpty(),label:i._("Next"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").nextStep,use:"confirm"})]});case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:return b("React").jsxs(b("XUIDialogFooter.react"),{fullBleedBorder:!0,children:[b("React").jsx(b("XUIDialogButton.react"),{className:"_3-8_",label:i._("Back"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").previousStep}),b("React").jsx(b("XUIDialogButton.react"),{disabled:!this.state.hasServiceAreaDefined,label:i._("Done"),size:"large",onClick:function(){b("ServicesBookableServicesSurveyActions").submitSurvey(b("CurrentUser").getID())},use:"confirm"})]});case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:return b("React").jsx(b("XUIDialogFooter.react"),{fullBleedBorder:!0,leftContent:b("React").jsx(b("FDSLink.react"),{margin:"_3-8w",onClick:this.showOptOutDialog,children:i._("None of the Above")}),children:b("React").jsx(b("XUIDialogButton.react"),{disabled:!this.state.hasAnyServicesSelected,label:i._("Next"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").nextStep,use:"confirm"})});case b("ServicesBookableServicesSurveySteps").CONFIRMATION:case b("ServicesBookableServicesSurveySteps").GET_STARTED:default:return null}};d.renderOptOutDialog=function(){var a=this,c;return(c=b("React")).jsx(b("FDSModal.react"),{footer:c.jsx(b("FDSModalFooter.react"),{primaryButton:c.jsx(b("FDSButton.react"),{label:"Turn Off",onClick:function(){a.hideOptOutDialog(),b("ServicesBookableServicesSurveyActions").selectNoneOfTheAboveServices()},use:"primary"}),secondaryButton:c.jsx(b("FDSCancelButton.react"),{})}),header:c.jsx(b("FDSModalHeader.react"),{title:i._("Turn Off Quote Requests")}),isShown:this.state.isOptOutDialogShown,onHide:this.hideOptOutDialog,width:400,children:c.jsxs(b("FDSSection.react"),{children:[c.jsx(b("FDSText.react"),{size:"body1",margin:"_3-96",children:i._("Selecting {=None of the Above} will prevent you from receiving quote requests.",[i._param("=None of the Above",c.jsx("b",{children:i._("None of the Above")}))])}),c.jsx(b("FDSText.react"),{size:"body1",children:i._("You can change this in {=Edit Page Info > General > Quote Requests} on your computer.",[i._param("=Edit Page Info > General > Quote Requests",c.jsx("b",{children:i._("Edit Page Info > General > Quote Requests")}))])})]})})};d.renderProgressBar=function(){return b("React").jsx(b("BUIProgressBar.react"),{className:"_2y4-",flexibleWidth:!0,height:"small",padding:!1,percentage:this.state.progressBarPercentage})};d.render=function(){return b("React").jsxs("div",{children:[this.renderOptOutDialog(),this.renderTitle(),this.renderProgressBar(),this.renderBody(),this.renderFooter()]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveyDialogContainer.react",["BookableServicesSurveyDialogContentContainer.react","DialogExpansion","LayerFadeOnHide","LayerFadeOnShow","LayerRemoveOnHide","React","XUIDialog.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerRemoveOnHide:b("LayerRemoveOnHide"),DialogExpansion:b("DialogExpansion")},fixedTopPosition:100,labelledBy:"dialogTitle",hideOnEscape:!0,layerHideOnBlur:!1,onToggle:this.props.onToggle,shown:this.props.shown,width:480,children:b("React").jsx(b("BookableServicesSurveyDialogContentContainer.react"),{onToggle:this.props.onToggle,pageID:this.props.pageID,referrer:this.props.referrer})})};return c}(b("React").Component);e.exports=a}),null);
__d("ServicesLeadGenBookableServicesAdminText.react",["fbt","BookableServicesSurveyDialogContainer.react","React","ShimButton.react","XUIButton.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={referrer:null,showDialog:!1},c.toggleDialog=function(a,b){b!=null&&c.setState({referrer:b}),c.setState({showDialog:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.renderDialog=function(){return!this.state.showDialog?null:b("React").jsx(b("BookableServicesSurveyDialogContainer.react"),{onToggle:this.toggleDialog,pageID:this.props.pageID,referrer:this.state.referrer,shown:this.state.showDialog})};d.render=function(){var a=this;return this.props.edit?b("React").jsxs("div",{children:[b("React").jsxs(b("XUIText.react"),{size:"body1",children:[g._("Get better quote requests by")," ",b("React").jsx(b("ShimButton.react"),{form:"link",onClick:function(){a.toggleDialog(!0,"edit")},children:g._("telling us more about the services you offer")})]}),this.renderDialog()]}):b("React").jsxs("div",{children:[b("React").jsx(b("XUIText.react"),{display:"block",size:"body1",children:this.props.message}),b("React").jsxs("div",{className:"_3-8y",children:[b("React").jsx(b("XUIButton.react"),{label:g._("Yes"),onClick:function(){a.toggleDialog(!0,"yes")},size:"small"}),b("React").jsx(b("XUIButton.react"),{label:g._("No"),onClick:function(){a.toggleDialog(!0,"no")},size:"small"})]}),this.renderDialog()]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("P2PBigAmount.react",["cx","PECurrency","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;var d=b("PECurrency").getCurrencySymbol(c.props.currencyCode);c.state={currencySymbol:d||""};return c}var d=c.prototype;d.render=function(){var a="_8j6"+(this.props.size==="large"?" _1fv":""),c="_8jc"+(this.props.isPending?" _8jd":"")+(this.props.amount.length>=7?" _8je":"");return b("React").jsxs("div",{className:b("joinClasses")(this.props.className,a),children:[b("React").jsx("div",{className:"_2n9x"+(this.props.isPending?" _2n9y":"")+(this.props.size==="large"?" _2n9-":"")+(this.props.size!=="large"&&this.props.amount.length>=7?" _62g-":""),children:this.state.currencySymbol}),b("React").jsx("div",{className:b("joinClasses")(this.props.className,c),children:this.props.amount})]})};return c}(b("React").Component);a.propTypes={amount:(c=b("prop-types")).string.isRequired,className:c.string,currencyCode:c.string.isRequired,isPending:c.bool,size:c.oneOf(["medium","large"])};a.defaultProps={size:"medium"};e.exports=a}),null);
__d("XP2PPaymentRequestReceiptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/p2p/payment_request/",{id:{type:"String",required:!0}})}),null);
__d("XP2PTransactionDetailController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/p2p/transaction/",{id:{type:"String",required:!0}})}),null);
__d("PageManagerInboxMessageLoadIndicator.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){var c,d=(c=b("React")).jsxs("div",{className:"_1vrr",children:[c.jsx("div",{className:"_31m8"}),c.jsx("div",{className:"_31ma"}),c.jsx("div",{className:"_31mb"}),c.jsx("div",{className:"_31mc"}),c.jsx("div",{className:"_31me"}),c.jsx("div",{className:"_31mf"}),c.jsx("div",{className:"_31mg"}),c.jsx("div",{className:"_31mh"}),c.jsx("div",{className:"_31mi"}),c.jsx("div",{className:"_31mj"}),c.jsx("div",{className:"_31mk"}),c.jsx("div",{className:"_31ml"}),c.jsx("div",{className:"_31mm"}),c.jsx("div",{className:"_31mn"}),c.jsx("div",{className:"_31mo"}),c.jsx("div",{className:"_31mp"}),c.jsx("div",{className:"_31mq"})]}),e=[];for(var f=0;f<a;f++)e.push(b("React").cloneElement(d,{key:"loading"+f}));return c.jsx("div",{className:"_1vrs",children:e})};d.render=function(){var a=Math.floor(this.props.height/130);return b("React").jsx("div",{className:"_31m6",style:{height:this.props.height},children:b("React").jsx("div",{className:"_31m7",style:{height:130*a},children:this.$1(a)})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingMessageDateBreak.react",["cx","CenteredContainer.react","MessengerDateBreak.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("CenteredContainer.react"),{vertical:!1,children:b("React").jsx(b("MessengerDateBreak.react"),{className:"_1wpi",date:this.props.date})})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerMessagingMessageGroup.react",["MessengerMessageGroup.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("MessengerMessageGroup.react"),babelHelpers["extends"]({},this.props))};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerWECMessage.react",["cssVar","cx","fbt","EmojiLikeUtils","ImmutableObject","MercuryAttachment","MercuryDisplayTimeFilterMessageRenderer","MercuryMessageDeliveryState","MercuryMessageError.react","MercuryTimestamp","MessengerAttachmentAttribution.react","MessengerAttachmentRenderer","MessengerBubble.react","MessengerDecorator","MessengerMessage.bs","MessengerMessageActionsWrapper.react","MessengerVideoAutoplayStore","React","SubscriptionsHandler","TooltipData","emptyFunction","getViewportDimensions","ifRequired","immutable","joinClasses","messengerRTLClasses","shallowEqual"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a){switch(a){case b("MercuryMessageDeliveryState").SENDING:return i._("Sending");case b("MercuryMessageDeliveryState").SENT:return i._("Sent");case b("MercuryMessageDeliveryState").DELIVERED:return i._("Delivered");case b("MercuryMessageDeliveryState").ERROR:return i._("This message didn't send. Check your internet connection and click to try again.")}return null}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isVisible:!1,plainText:!1,shown:{}},c.$9=function(a){c.messageBody=a},c.$12=function(a,b){c.setState(function(c){return c={shown:c.shown},c[a]=b,c})},c.$7=function(){c.props.onSelect(c.props.message.message_id)},b)||babelHelpers.assertThisInitialized(c)}c.calculateState=function(a){return{isVisible:b("MessengerVideoAutoplayStore").isVisible(a.message.thread_id,a.message.message_id)||b("ifRequired")("MessengerSphericalRendererStore",function(b){return b.isVisible(a.message.thread_id,a.message.message_id)},function(){return!1})}};var d=c.prototype;d.componentDidMount=function(){this.$2()};d.shouldComponentUpdate=function(a,c){return a.isActive!==this.props.isActive||a.isFromViewer!==this.props.isFromViewer||a.message!==this.props.message||a.messageTimestamp!==this.props.messageTimestamp||a.nextTimestamp!==this.props.nextTimestamp||a.showDeliveryState!==this.props.showDeliveryState||a.deliveryTimestamp!==this.props.deliveryTimestamp||!b("immutable").is(a.readReceipts,this.props.readReceipts)||!b("immutable").is(a.participants,this.props.participants)||a.customColor!==this.props.customColor||c.isVisible!==this.state.isVisible||!b("shallowEqual")(c.shown,this.state.shown)||a.onAttachmentLoad!==this.props.onAttachmentLoad};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.$2=function(){var a=this;this.setState(c.calculateState(this.props));var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(b("MessengerVideoAutoplayStore").addListener(function(b){b=c.calculateState(a.props);b.isVisible!==a.state.isVisible&&a.setState({isVisible:b.isVisible})}));this.$1=d};d.$3=function(){var a=this.props,c=a.isFromViewer;a=a.showDeliveryState;if(c&&!a)return b("React").jsx("span",{className:"_7qwh",children:b("React").jsx("svg",{height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:b("React").jsx("path",{d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#4FC3F7"})})})};d.$4=function(a){return a.every(function(a){return!a||!b("MessengerAttachmentRenderer").isRenderedShareAttachment(a)})};d.$5=function(){return this.props.message.attachments.length===1&&b("MercuryAttachment").hasAttribution(this.props.message.attachments[0])};d.$6=function(a,c){__p&&__p();if(l(this.props.message))return null;c=[];var d=b("MessengerAttachmentRenderer").getAttachmentsOutsideBubble(this.props.message,this.props.onAttachmentLoad,{customColor:this.props.customColor,isFromViewer:this.props.isFromViewer,isPageMessage:this.props.isPageMessage,isVisible:this.state.isVisible,onSelect:this.$7,onUnwrap:null,pageID:this.props.pageID});if(!d||!d.length)return null;var e=this.$4(d);if(a){var f=d.some(function(a){return!!a&&b("MessengerAttachmentRenderer").isPhotosGroupAttachment(a)});this.$5()&&(d=[b("React").jsxs("span",{children:[d[0],b("React").jsx(b("MessengerAttachmentAttribution.react"),{attachment:new(b("ImmutableObject"))(this.props.message.attachments[0])})]},"AttachmentWithAttribution")]);d=e?b("React").jsx("div",babelHelpers["extends"]({},a,{className:b("joinClasses").apply(void 0,["_3zvs"+(f?" _2-x3":"")].concat(c)),children:d})):d.map(function(c){return c&&b("React").cloneElement(c,a)})}e=b("MessengerAttachmentRenderer").isSharedVideoAttachmentMessage(this.props.message);f=b("React").jsx("div",{className:"_3058 _15gf"+(e?" _3duc":""),children:d},"renderedAttachments");return f};d.$8=function(a,c){var d=this.props.message,e=b("immutable").List(b("MessengerAttachmentRenderer").getAttachmentsInsideBubble(d,this.props.onAttachmentLoad)),f=d.ranges;if(d.is_filtered_content)return b("React").jsx("div",{className:"_3058 _wiu _52mr uiBoxYellow clearfix",children:b("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(d)});var g=d.body&&!b("EmojiLikeUtils").isEmojiLike(d);return g||!e.isEmpty()?b("React").jsx(b("MessengerBubble.react"),{attachments:e,body:d.body,bodyRef:this.$9,className:"_3058 _ui9"+(d.isSelected?" _3xsz":""),customColor:this.props.isFromViewer?this.props.customColor:"",customLike:d.customLike,excludeAfterDecorators:c,isFromViewer:this.props.isFromViewer,isHovered:this.state.shown[d.message_id],isPageMessage:this.props.isPageMessage,isSavedView:this.props.isSavedView,isShowingOriginal:this.state.plainText,message:d,metaRanges:d.meta_ranges,onReplyToMessage:this.props.onReplyToMessage,participants:this.props.participants,plainText:this.state.plainText,ranges:f,repliedToMessage:this.props.message.replied_to_message,scrollToRepliedMessage:this.props.scrollToRepliedMessage,thread:this.props.thread,threadCustomColor:this.props.threadCustomColor||"#0084ff",threadID:d.thread_id,tooltip:a,wecFirstMessage:this.props.wecFirstMessage}):null};d.$10=function(){if(!this.props.isFromViewer||!this.props.showDeliveryState)return null;var a=b("MessengerMessage.bs").getDeliveryState(this.props.message,this.props.deliveryTimestamp);if(a===b("MercuryMessageDeliveryState").UNKNOWN)return null;var c=j(a);return b("React").jsxs("span",{"aria-label":c,className:"_7qwi",title:c,children:[a===b("MercuryMessageDeliveryState").SENDING?b("React").jsx("svg",{"aria-label":c,height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:b("React").jsx("path",{d:"M9.75 7.713H8.244V5.359a.5.5 0 0 0-.5-.5H7.65a.5.5 0 0 0-.5.5v2.947a.5.5 0 0 0 .5.5h.094l.003-.001.003.002h2a.5.5 0 0 0 .5-.5v-.094a.5.5 0 0 0-.5-.5zm0-5.263h-3.5c-1.82 0-3.3 1.48-3.3 3.3v3.5c0 1.82 1.48 3.3 3.3 3.3h3.5c1.82 0 3.3-1.48 3.3-3.3v-3.5c0-1.82-1.48-3.3-3.3-3.3zm2 6.8a2 2 0 0 1-2 2h-3.5a2 2 0 0 1-2-2v-3.5a2 2 0 0 1 2-2h3.5a2 2 0 0 1 2 2v3.5z",fill:"#859479"})}):null,a===b("MercuryMessageDeliveryState").SENT?b("React").jsx("svg",{"aria-label":c,height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:b("React").jsx("path",{d:"M10.91 3.316l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#92A58C"})}):null,a===b("MercuryMessageDeliveryState").DELIVERED?b("React").jsx("svg",{"aria-label":c,height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:b("React").jsx("path",{d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#92A58C"})}):null]})};d.$11=function(){var a=this.props.message;return!b("MessengerMessage.bs").hasError(a)?null:b("React").jsx(b("MercuryMessageError.react"),{authorFBID:this.props.authorFBID,className:"_3058 _2ygi",message:a})};d.render=function(){__p&&__p();var a=this.props,c=a.isActive,d=a.isFromViewer;a=a.message;var e=i._("{time}",[i._param("time",b("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]);e=b("TooltipData").propsFor(e,k(d));var f=[],g=[],h=this.props.message,j=d||!1,l=this.props.scrollToRepliedMessage;h&&!this.props.hideBeforeDecorator&&(b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(h)&&f.push(a.render(h,j,{scrollToRepliedMessage:l}))}),b("MessengerDecorator").getInnerDecorators().forEach(function(a){a.check(h)&&g.push(a.getAdditionalClassNames())}));var m=this.$8(e,!1),n=this.$6(e,null);n&&(m=this.$8(e,!0));return b("React").jsxs(b("MessengerMessageActionsWrapper.react"),{className:b("joinClasses").apply(void 0,["clearfix _o46 _3erg"+(c?" _-5k":"")+(d?" _3i_m":"")+(d?" _nd_":"")+(d?"":" _29_7"),b("messengerRTLClasses")(a.body)].concat(g)),isFromViewer:d,message:a,onShowMenu:this.$12,children:[f,m,n,this.$11(),this.$10(),this.$3()]})};return c}(b("React").Component);a.defaultProps={onAttachmentLoad:b("emptyFunction"),threadCustomColor:"#0084ff"};function k(a){return b("getViewportDimensions")().width<=parseInt("700px".replace("px",""),10)?"above":a?"right":"left"}function l(a){var b;if((a==null?void 0:(b=a.attachments)==null?void 0:b.length)>0&&((b=a.attachments[0].share)==null?void 0:b.subattachments)!=null){return((b=a.attachments[0].share)==null?void 0:b.style_list[0])==="wec_message"&&a.attachments[0].share.subattachments.length===0}}e.exports=a}),null);
__d("PagesManagerWECMessageGroup.react",["cx","MercuryIDs","MessengerParticipants.bs","PagesManagerWECMessage.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={participants:h(c.props)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.calculateState=function(a){return{participants:h(a)}};d.$1=function(){var a=this,c=this.props.messages.size,d=[],e=this.props.messages.last();e.has_attachment===!0&&(e.video_ids||e.image_ids)&&(e.body=null);this.props.messages.forEach(function(e,f,g){var h=e.message_id===a.props.activeMessageID,i=b("MercuryIDs").getUserIDFromParticipantID(a.props.author),j=a.props.onAttachmentLoad,k=e===a.props.messages.first();d.push(b("React").jsx(b("PagesManagerWECMessage.react"),{authorFBID:i===null?void 0:i,customColor:"",deliveryTimestamp:a.props.deliveryTimestamp,isActive:h,isFromViewer:a.props.isFromViewer,isPageMessage:a.props.isPageMessage,message:e,nextTimestamp:a.$2(g,c,f),onAttachmentLoad:j,onDeselect:a.props.onMessageDeselect,onSelect:a.props.onMessageSelect,pageID:a.props.pageID,participants:a.state.participants,readReceipts:a.props.readReceipts,ref:e.message_id,showDeliveryState:e.timestamp>a.props.lastReadTimestamp,threadCustomColor:"",wecFirstMessage:k},e.message_id))});return d};d.$2=function(a,b,c){return c<b-1?a.get(c+1).timestamp:this.props.nextTimestamp};d.render=function(){return b("React").jsx("div",{children:b("React").jsx("div",{className:"_1t_p clearfix",children:b("React").jsx("div",{className:"_41ud _38-y",children:this.$1()})})})};return c}(b("React").PureComponent);function h(a){var c=b("MercuryIDs").getParticipantIDFromFromThreadID(a.messages.first().thread_id);return b("immutable").Map().withMutations(function(d){a.readReceipts.forEach(function(a,c){d.set(c,b("MessengerParticipants.bs").getNow(c))}),d.set(c,b("MessengerParticipants.bs").getNow(c))})}e.exports=a}),null);
__d("PagesManagerMessagingMessageList.react",["cx","ChatTypingIndicatorsWrapper.bs","DOM","Event","MercuryShareAttachmentRenderLocations","MessageList.react","MessengerCollapsedLogMessageGroup.react","MessengerDeliveryReceipt.bs","MessengerLogMessage.react","MessengerSpinner.react","MessengerTypingIndicatorReact.re","PageManagerInboxMessageLoadIndicator.react","PagesManagerMessagingMessageDateBreak.react","PagesManagerMessagingMessageGroup.react","PagesManagerWECMessageGroup.react","React","ReactDOM","ScrollableArea.react","debounce"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ChatTypingIndicatorsWrapper.bs").jsComponent,i=b("MessengerTypingIndicatorReact.re").component,j="WEC_message_view";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.$1=!0;b.prevScrollTop=0;b.prevScrollHeight=0;return b}var d=c.prototype;d.componentDidMount=function(){this.refs.scrollableArea&&this.refs.scrollableArea.getArea()&&this.refs.scrollableArea.getArea().scrollToBottom()};d.componentDidUpdate=function(a){var b=this.props.messagelist.last()&&this.props.messagelist.last().thread_fbid,c=a.messagelist.last()&&a.messagelist.last().thread_fbid;a.messagelist.size===0&&this.props.messagelist.size!==0||b!==c||a.threadID!==this.props.threadID||a.footerChildren!==this.props.footerChildren?(this.refs.scrollableArea&&this.refs.scrollableArea.getArea()&&this.refs.scrollableArea.getArea().scrollToBottom(),this.$2()):this.props.messagelist.size!==a.messagelist.size&&(this.$3(this.prevScrollHeight,this.prevScrollTop),this.$2())};d.$3=function(a,b){if(!this.refs.scrollableArea)return;var c=this.refs.scrollableArea.getArea();a=c.getScrollHeight()-a+b;c.setScrollTop(a,!1)};d.$4=function(){if(!this.refs.scrollableArea)return;var a=this.refs.scrollableArea.getArea(),b=this.prevScrollTop,c=this.prevScrollHeight;this.$5();a.isScrolledToTop()?(this.$6(),this.props.fetchEarlierMessages()):a.isScrolledToBottom()?this.$7():(a.getScrollTop()===b&&a.getScrollHeight()!==c&&this.$3(c,b),this.$6())};d.$7=function(){this.$1||(this.$1=!0)};d.$6=function(){this.$1&&(this.$1=!1)};d.$5=function(){var a=this.refs.scrollableArea;this.prevScrollHeight=a?a.getArea().getScrollHeight():0;this.prevScrollTop=a?a.getArea().getScrollTop():0};d.$8=function(a){var b=this;return function(){if(b.props.threadID!==a)return;b.$1&&(b.refs.scrollableArea&&b.refs.scrollableArea.getArea()&&b.refs.scrollableArea.getArea().scrollToBottom())}};d.$2=function(){var a=this;b("DOM").scry(b("ReactDOM").findDOMNode(this),"img").forEach(function(c){if(c.complete)return;var d=a.props.threadID,e=b("Event").listen(c,"load",function(){a.props.threadID===d&&a.$1&&(a.refs.scrollableArea&&a.refs.scrollableArea.getArea()&&a.refs.scrollableArea.getArea().scrollToBottom()),e.remove()})})};d.$9=function(){return b("React").jsx(b("PageManagerInboxMessageLoadIndicator.react"),{height:this.props.scrollHeight})};d.$10=function(){return!this.props.isLoadingMore?null:b("React").jsx("div",{className:"_2k8v",children:b("React").jsx(b("MessengerSpinner.react"),{})})};d.$11=function(){var a=this;if(this.props.messagelist.size===0)throw new Error("Empty message list");return b("React").jsxs("div",{className:"clearfix _1ej0 _2mpc",children:[b("React").jsx(b("MessageList.react"),{DateBreak:b("PagesManagerMessagingMessageDateBreak.react"),deliveryTimestamp:this.props.deliveryReceipts?b("MessengerDeliveryReceipt.bs").getDeliveryTimeOfThread(this.props.deliveryReceipts,this.props.threadID):0,isCanonical:!0,isPageMessage:!0,location:b("MercuryShareAttachmentRenderLocations").MESSENGER,CollapsedLogMessageGroup:b("MessengerCollapsedLogMessageGroup.react"),LogMessage:b("MessengerLogMessage.react"),MessageGroup:this.props.commPlatform==="WEC"?b("PagesManagerWECMessageGroup.react"):b("PagesManagerMessagingMessageGroup.react"),onAttachmentLoad:this.$8(this.props.threadID),messages:this.props.messagelist,readReceipts:this.props.readReceipts,viewer:this.props.pageID}),b("React").jsx(h,{indicatorClass:i,indicatorsWillShow:function(){},indicatorsDidShow:function(){a.$1&&a.refs.scrollableArea&&a.refs.scrollableArea.getArea().scrollToBottom()},rootClassName:"clearfix _17pz _4gv2",threadID:this.props.threadID,viewer:this.props.pageID})]})};d.render=function(){var a=this;return this.props.initLoading?this.$9():b("React").jsxs("div",{className:this.props.commPlatform==="WEC"?"_66_6":"","data-testid":j,children:[b("React").jsxs(b("ScrollableArea.react"),{className:"_11y7",fade:!1,height:this.props.scrollHeight,onScroll:b("debounce")(function(){return a.$4()},500),ref:"scrollableArea",shadow:!1,children:[this.$10(),b("React").jsx("div",{className:"_14y3",children:this.props.threadID?this.$11():b("React").jsx("div",{})}),this.props.footerChildrenSpacer]}),this.props.footerChildren]})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerOmniMActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({PAGES_MANAGER_OMNI_M_INIT:null,PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY:null,PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME:null,PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR:null,PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS:null,PAGES_MANAGER_OMNI_M_SET_CONVERSION_DATA:null,PAGES_MANAGER_OMNI_M_SET_PARTNER_APP_LOGO:null,PAGES_MANAGER_OMNI_M_SET_SHOULD_SHOW_BUSINESS_STICKER_EYEBROW_TEXT:null,PAGES_MANAGER_OMNI_M_SET_SUGGESTION_SPACER_HEIGHT:null,PAGES_MANAGER_OMNI_M_TRIGGER_SAVED_REPLIES_UPSELL:null});e.exports=a}),null);
__d("PagesManagerOmniMStore",["FluxReduceStore","PagesManagerMessagingMessagelistDispatcher","PagesManagerOmniMActionTypes","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("PagesManagerOmniMActionTypes")).PAGES_MANAGER_OMNI_M_INIT,h=a.PAGES_MANAGER_OMNI_M_SET_CONVERSION_DATA,i=a.PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY,j=a.PAGES_MANAGER_OMNI_M_SET_PARTNER_APP_LOGO,k=a.PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME,l=a.PAGES_MANAGER_OMNI_M_SET_SHOULD_SHOW_BUSINESS_STICKER_EYEBROW_TEXT,m=a.PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR,n=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTION_SPACER_HEIGHT,o=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS,p=a.PAGES_MANAGER_OMNI_M_TRIGGER_SAVED_REPLIES_UPSELL,q=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({conversionData:null,isEligibleForAdminMSuggestion:!1,pageID:null,showSuggestionBar:!1,startTime:null,suggestions:null,threadFBID:null,partnerAppLogo:null,messageID:null,shouldShowEyebrowTextForBusinessSticker:!1,suggestionSpacerHeight:null,upsellSpecificData:null}));c=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return new q()};c.reduce=function(a,b){__p&&__p();var c=b.payload;switch(b.type){case g:return a.set("threadFBID",c.threadFBID).set("pageID",c.pageID);case i:return a.set("isEligibleForAdminMSuggestion",c.isEligibleForAdminMSuggestion);case m:return a.set("showSuggestionBar",c.showSuggestionBar);case o:return a.set("suggestions",c.suggestions).set("messageID",c.messageID);case k:return a.set("startTime",c.startTime);case h:return a.set("conversionData",c.conversionData);case j:return a.set("partnerAppLogo",c.partnerAppLogo);case l:return a.set("shouldShowEyebrowTextForBusinessSticker",c.shouldShowEyebrowTextForBusinessSticker);case n:return a.set("suggestionSpacerHeight",c.height);case p:return a.set("upsellSpecificData",c.upsellSpecificData);default:return a}};c.getIsDifferentThread=function(a,b){var c=this.getState();return a!==c.threadFBID||b!==c.pageID};c.getShowSuggestionBar=function(){var a=this.getState();return a.isEligibleForAdminMSuggestion&&a.showSuggestionBar};c.getSuggestions=function(){return this.getState().suggestions};c.getMessageID=function(){return this.getState().messageID};c.getQuickScheduleStartTime=function(){return this.getState().startTime};c.getConversionData=function(){return this.getState().conversionData};c.getPartnerAppLogo=function(){return this.getState().partnerAppLogo};c.getShouldShowEyebrowTextForBusinessSticker=function(){return this.getState().shouldShowEyebrowTextForBusinessSticker};c.getSuggestionSpacerHeight=function(){return this.getState().suggestionSpacerHeight};c.getTriggerSavedRepliesUpsell=function(){return this.getState().upsellSpecificData};return b}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("PagesManagerMessagingMessagelistDispatcher"))}),null);
__d("PagesManagerOmniMSuggestionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1633243126804880"};b.getQueryID=function(){return"243928156353631"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("XMessengerAdConfirmConversionSuggestionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/confirm_conversion_suggestion/",{page_id:{type:"FBID",required:!0},consumer_user_id:{type:"FBID",required:!0},conversion_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessengerAdDismissConversionSuggestionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/dismiss_conversion_suggestion/",{page_id:{type:"FBID",required:!0},consumer_user_id:{type:"FBID",required:!0},mid:{type:"String",required:!0},suggestion_type:{type:"String"}})}),null);
__d("PagesManagerOmniMActions",["ActorURI","AsyncRequest","MercuryMessageActions","MercuryMessageObject","MercuryTriodeSourceUtil","PagesEventObserver","PagesManagerMessagingMessagelistDispatcher","PagesManagerOmniMActionTypes","PagesManagerOmniMStore","PagesManagerOmniMSuggestionQueryWebGraphQLQuery","WebGraphQL","XMessengerAdConfirmConversionSuggestionController","XMessengerAdDismissConversionSuggestionController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("PagesManagerOmniMActionTypes")).PAGES_MANAGER_OMNI_M_INIT,h=a.PAGES_MANAGER_OMNI_M_SET_CONVERSION_DATA,i=a.PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY,j=a.PAGES_MANAGER_OMNI_M_SET_PARTNER_APP_LOGO,k=a.PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME,l=a.PAGES_MANAGER_OMNI_M_SET_SHOULD_SHOW_BUSINESS_STICKER_EYEBROW_TEXT,m=a.PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR,n=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTION_SPACER_HEIGHT,o=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS,p=a.PAGES_MANAGER_OMNI_M_TRIGGER_SAVED_REPLIES_UPSELL,q={init:function(a,c){b("PagesManagerOmniMStore").getIsDifferentThread(a,c)&&(q._clearAllData(),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g,payload:{threadFBID:a,pageID:c}}));return b("WebGraphQL").exec(new(b("PagesManagerOmniMSuggestionQueryWebGraphQLQuery"))({page_id:c})).then(function(a){a=((a=a)!=null?(a=a.page)!=null?a.services_vertical_info:a:a)||{};a=a.isEligibleForAdminMSuggestionWWW;b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:i,payload:{isEligibleForAdminMSuggestion:a||!1}})},function(a){var d;d=(d=a)!=null?(d=d.errors)!=null?(d=d[0])!=null?d.description:d:d:d;a=(a=a)!=null?(a=a.errors)!=null?(a=a[0])!=null?a.message:a:a:a;b("PagesEventObserver").notify("booking_admin_intent_suggestion_bar_init_error",c,{description:d,message:a})})},dismissSuggestionBar:function(){q._clearAllData(),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:m,payload:{showSuggestionBar:!1}})},setShouldShowBusinessStickerEyebrowText:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:l,payload:{shouldShowEyebrowTextForBusinessSticker:a}})},showSuggestionBar:function(a,c,d){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:m,payload:{showSuggestionBar:!0}}),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:o,payload:{suggestions:a,messageID:d}}),c&&b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:j,payload:{partnerAppLogo:c}})},setQuickScheduleStartTime:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:k,payload:{startTime:a}})},setMessengerConversionData:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:h,payload:{conversionData:a}})},setSuggestionSpacerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:n,payload:{height:a}})},triggerSavedRepliesUpsell:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:p,payload:{upsellSpecificData:a}})},messengerConversionQPConfirmOrder:function(a,c){c=b("XMessengerAdConfirmConversionSuggestionController").getURIBuilder().setFBID("page_id",a).setFBID("consumer_user_id",c).setEnum("conversion_type","CONFIRM_ORDER").getURI();c=b("ActorURI").create(c,a);new(b("AsyncRequest"))().setURI(c).send()},clearMessengerConversionSuggestion:function(a,c,d,e,f){if(e===null)return;a=b("XMessengerAdDismissConversionSuggestionController").getURIBuilder().setFBID("page_id",a).setFBID("consumer_user_id",c).setString("suggestion_type",d).setString("mid",e).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){f&&f()}).send()},_clearAllData:function(){q.setQuickScheduleStartTime(null),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:o,payload:{suggestions:null}})},sendMessageWithSuggestedReply:function(a,c,d,e,f){var g=new(b("MercuryMessageObject"))(c);a=a==="suggested_reply_business_sticker"?g.constructStickerMessageObject(d,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),e):g.constructCTAConfirmationMessageObject(d,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),e);new(b("MercuryMessageActions"))(c).send(a,f)}};e.exports=q}),null);
__d("ServicesAdminMOptions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_REMINDER:"add_reminder",CREATE_APPOINTMENT_DIRECT:"create_appointment_direct",CREATE_APPOINTMENT_DIFFERENT_TIME:"create_appointment_different_time",SCHEDULE_APPOINTMENT:"schedule_appointment",SEND_AVAILABILITY:"send_availability",TIMESTAMP_OPTIONS:"timestamp_options",MESSENGER_DETECTED_CONVERSION:"messenger_detected_conversion",SUGGESTED_REPLY_LOCATION:"suggested_reply_location",SUGGESTED_REPLY_YES_NO_SHORT_ANSWER:"suggested_reply_yes_no_short_answer",SUGGESTED_REPLY_YES_NO_SHORT_ANSWER_YES:"suggested_reply_yes_no_short_answer_yes",SUGGESTED_REPLY_YES_NO_SHORT_ANSWER_NO:"suggested_reply_yes_no_short_answer_no",SUGGESTED_REPLY_USER_FAQ:"suggested_reply_user_faq",SUGGESTED_REPLY_USER_FAQ_SAVED_REPLY:"suggested_reply_user_faq_saved_reply",SUGGESTED_REPLY_BUSINESS_STICKER:"suggested_reply_business_sticker"})}),null);
__d("PagesManagerOmniMUtils",["fbt","ServicesAdminMOptions","ServicesDateTimeUtils","formatDate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={isValidOmniMSuggestionType:function(a){return!a||!Object.values(b("ServicesAdminMOptions")).includes(a)?!1:a==="create_appointment_direct"||a==="create_appointment_different_time"||a==="send_availability"||a==="schedule_appointment"||a==="suggested_reply_location"||a==="suggested_reply_yes_no_short_answer_yes"||a==="suggested_reply_yes_no_short_answer_no"||a==="suggested_reply_user_faq"||a==="suggested_reply_user_faq_saved_reply"||a==="messenger_detected_conversion"||a==="suggested_reply_business_sticker"},isMessengerQuickBannerType:function(a){return Object.keys(a).length===1&&Object.prototype.hasOwnProperty.call(a,"messenger_detected_conversion")},filterValidOmniMSuggestions:function(a){return Object.keys(a).filter(function(a){return h.isValidOmniMSuggestionType(a)}).reduce(function(b,c){b[c]=a[c];return b},{})},getFallbackSuggestions:function(){var a={};a.schedule_appointment=g._("Schedule Appointment");return a},replaceCreateAppointmentDirectText:function(a,c){if(!Object.prototype.hasOwnProperty.call(a,"create_appointment_direct"))return a;c=b("ServicesDateTimeUtils").getRelativeDayTimeText(c);var d=c.relativeDayText;c=c.startTimeText;d=g._("Schedule: {relative-day} at {start-time}",[g._param("relative-day",d),g._param("start-time",c)]);a.create_appointment_direct=d.toString();return a},replaceCreateAppointmentDirectTextForInlineMessage:function(a,c){if(!Object.prototype.hasOwnProperty.call(a,"create_appointment_direct"))return a;var d={withinWeek:"l",thisYear:"F d",future:"F d, Y"},e=b("ServicesDateTimeUtils").getRelativeDayText(c,b("ServicesDateTimeUtils").getDefaultTimezoneID(),!1);d=b("formatDate")(c,d);c=b("formatDate")(c,"g:i A");d=e==null?g._("on {date} at {start-time}",[g._param("date",d),g._param("start-time",c)]):g._("{relative-day} at {start-time}",[g._param("relative-day",e),g._param("start-time",c)]);a.create_appointment_direct=d.toString();return a}};e.exports=h}),null);
__d("XMessengerAdShouldShowEyebrowTextForBusinessStickerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/should_show_eyebrow_text_for_business_sticker/",{})}),null);
__d("PageManagerInboxMessageContextRelayResults.react",["FluxContainer","PagesManagerInboxDetailLoading.react","PagesManagerInboxMessengerContainer.react","PagesManagerInboxQueryRenderer.react","PagesManagerMessagingMessagelistStore","React","RelayModern","nullthrows","PageManagerInboxMessageContextRelayResultsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerMessagingMessagelistStore")]};c.calculateState=function(a){return{contentSearchSelectedIndex:b("PagesManagerMessagingMessagelistStore").getContentSearchSelectedIndex()}};var d=c.prototype;d.render=function(){var a=this,c;c=b("nullthrows")((c=this.props.inThreadSearchResults)!=null?(c=c.messenger_messages_search)!=null?(c=c.results)!=null?(c=c.edges)!=null?(c=c[this.state.contentSearchSelectedIndex])!=null?(c=c.node)!=null?c.message_id:c:c:c:c:c:c);return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PageManagerInboxMessageContextRelayResultsQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?b("React").jsx(b("PagesManagerInboxMessengerContainer.react"),{activeCommPlatform:a.props.activeCommPlatform,config:a.props.config,height:a.props.height,inThreadSearchResults:a.props.inThreadSearchResults,messageContextResults:c,threadFBID:a.props.threadFBID,paddingBottom:a.props.paddingBottom,pageID:a.props.pageID}):b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{height:a.props.height})},variables:{message_identifier:{message_id:c,thread_fbid:this.props.threadFBID}}})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PageManagerInboxInThreadContentSearchRelayResults.react",["PageManagerInboxMessageContextRelayResults.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PageManagerInboxInThreadContentSearchRelayResultsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PageManagerInboxInThreadContentSearchRelayResultsQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?b("React").jsx(b("PageManagerInboxMessageContextRelayResults.react"),{activeCommPlatform:a.props.activeCommPlatform,threadFBID:a.props.commSourceID,config:a.props.config,height:a.props.height,inThreadSearchResults:c,paddingBottom:a.props.paddingBottom,pageID:a.props.pageID,searchTerm:a.props.searchTerm}):b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{height:a.props.height})},variables:{query_params_int:{query:this.props.searchTerm,thread_fbid:this.props.commSourceID}}})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxSearchResultListRow.react",["BulkActionsContext","BulkSelectionThreadAction","PagesManagerAction","PagesManagerBulkActionLogger","PagesManagerInboxFilterAction","PagesManagerInboxListRow.react","PagesManagerInboxMercuryUtil","PagesManagerInboxProfilePicContainer.react","PagesMessagingInboxActionLogger","React","RelayModern","nullthrows","PagesManagerInboxSearchResultListRow_customerComm.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=d.context.selectedThreads;c=a?[b("BulkSelectionThreadAction").SELECT,c.length]:[b("BulkSelectionThreadAction").UNSELECT,c.length-1];var e=c[0];c=c[1];b("PagesManagerBulkActionLogger").logThreadCheckboxSelect({event_data:{thread_index:c,thread_action:e}});b("PagesManagerAction").handleThreadSelectionChange(d.props.customerComm.target_id||"",a)},d.$3=function(){var a;b("PagesManagerInboxFilterAction").changePlatform(d.props.platform);b("PagesMessagingInboxActionLogger").logSearchResultOpened(d.props.platform,"CUSTOMER",(a=d.$2())!=null?a:"");b("PagesManagerAction").viewListItem(d.$2())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c,d,e,f=this.context,g=f.showBulkSelection;f=f.selectedThreads;e=b("nullthrows")((e=this.props)!=null?(e=e.customerComm)!=null?e.comm_title:e:e);d=Number((d=this.props)!=null?(d=d.customerComm)!=null?d.last_modified_at:d:d);c=b("nullthrows")((c=this.props)!=null?(c=c.customerComm)!=null?c.snippet_with_entities:c:c);return b("React").jsx(b("PagesManagerInboxListRow.react"),{commPlatform:this.props.customerComm.comm_platform,commStatus:this.props.customerComm.comm_status,commType:this.props.customerComm.comm_type,hasPageReplied:this.props.hasPageReplied,isRead:!0,isViewing:this.$2()===this.props.viewingItem,item:this.props.customerComm,labels:this.props.labels,onViewingListItem:this.$3,pageID:this.props.pageID,profilePicElement:b("React").jsx(b("PagesManagerInboxProfilePicContainer.react"),{item:this.props.customerComm}),selectionConfig:{enabled:g,onSelectionToggle:this.$1,selected:!!f.find(function(b){return b===a.props.customerComm.target_id||""})},showActions:!1,snippetWithEntities:c,subtitle:null,timestampInMS:d*1e3,title:e})};d.$2=function(){if(this.props.customerComm.comm_type==="FB_MESSAGE"&&b("PagesManagerInboxMercuryUtil").shouldUseMercury()){var a;return(a=this.props)!=null?(a=a.customerComm)!=null?a.target_id:a:a}else{a=(a=this.props)!=null?(a=a.customerComm)!=null?(a=a.parent_item)!=null?a.id:a:a:a;return a!==null&&a!==void 0&&a!==""?a:(a=this.props)!=null?(a=a.customerComm)!=null?a.id:a:a}};return c}(b("React").PureComponent);c.contextType=b("BulkActionsContext");e.exports=a(c,{customerComm:g!==void 0?g:g=b("PagesManagerInboxSearchResultListRow_customerComm.graphql")})}),null);
__d("PagesManagerInboxSearchResultsFacebookList.react",["cx","fbt","OnVisible.react","PagesManagerInboxListSpinner.react","PagesManagerInboxSearchResultListRow.react","React","RelayModern","emptyFunction","nullthrows","PagesManagerInboxSearchResultsFacebookList_pageCustomer.graphql","PagesManagerInboxSearchResultsFacebookListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var k=20;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.relay.loadMore(k,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c,d;d=(d=this.props.pageCustomer)!=null?(d=d.facebook_comms)!=null?d.edges:d:d;if(!d||!d.length)return null;var e=b("nullthrows")((c=this.props.pageCustomer)!=null?(c=c.page)!=null?c.id:c:c);return b("React").jsxs("div",{children:[this.$1(),d.map(function(c){c=b("nullthrows")(c.node);return b("React").jsx(b("PagesManagerInboxSearchResultListRow.react"),{customerComm:c,pageID:e,platform:"FACEBOOK",viewingItem:a.props.viewingItem},c.id)}),this.$2()]})};d.$1=function(){return this.props.isLabelSearch?b("React").jsx("div",{className:"_7zk3",children:h._("FACEBOOK COMMENTS")}):b("React").jsx("div",{className:this.props.titleClassName,children:h._("Facebook Posts & Comments")})};d.$2=function(){return!this.props.relay.hasMore()?null:b("React").jsx(b("OnVisible.react"),{onVisible:this.$3,children:b("React").jsx(b("PagesManagerInboxListSpinner.react"),{})})};return c}(b("React").PureComponent);c.defaultProps={isLabelSearch:!1};e.exports=a(c,{pageCustomer:i!==void 0?i:i=b("PagesManagerInboxSearchResultsFacebookList_pageCustomer.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.pageCustomer)!=null?a.facebook_comms:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,pageCustomerID:a.pageCustomer.id}},query:j!==void 0?j:j=b("PagesManagerInboxSearchResultsFacebookListPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxSearchResultsInstagramDirectList.react",["cx","fbt","OnVisible.react","PagesManagerInboxListSpinner.react","PagesMessagingInboxActionLogger","React","RelayModern","UnifiedInboxIGMessageThreadRowContainer.react","emptyFunction","nullthrows","PagesManagerInboxSearchResultsInstagramDirectList_pageCustomer.graphql","PagesManagerInboxSearchResultsInstagramDirectListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var k=20;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.relay.loadMore(k,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return this.props.useNewLabelSearch===!0?null:b("React").jsx("div",{className:"_7zk3",children:h._("INSTAGRAM DIRECT MESSAGES")})};d.$2=function(){return!this.props.relay.hasMore()?null:b("React").jsx(b("OnVisible.react"),{onVisible:this.$3,children:b("React").jsx(b("PagesManagerInboxListSpinner.react"),{})})};d.$4=function(a){b("PagesMessagingInboxActionLogger").logSearchResultOpened("INSTAGRAM_DIRECT","CUSTOMER",a)};d.render=function(){__p&&__p();var a=this,c,d;d=((d=(d=this.props.pageCustomer)!=null?(d=d.instagram_direct_comms)!=null?d.edges:d:d)!=null?d:[]).filter(function(a){return a.node!==null});if(!d||!d.length)return null;var e=b("nullthrows")((c=this.props.pageCustomer)!=null?(c=c.page)!=null?c.id:c:c);return b("React").jsxs("div",{children:[this.$1(),d.map(function(c){var d;c=c.node;d=(d=c)!=null?d.token:d;return c===null||d===null?null:b("React").jsx(b("UnifiedInboxIGMessageThreadRowContainer.react"),{isViewing:!1,labels:a.props.labels,mailboxID:e,onClick:a.$4,token:(c=d)!=null?c:""},d)}),this.$2()]})};return c}(b("React").PureComponent);c.defaultProps={isLabelSearch:!1};e.exports=a(c,{pageCustomer:i!==void 0?i:i=b("PagesManagerInboxSearchResultsInstagramDirectList_pageCustomer.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.pageCustomer)!=null?a.instagram_direct_comms:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,pageCustomerID:a.pageCustomer.id}},query:j!==void 0?j:j=b("PagesManagerInboxSearchResultsInstagramDirectListPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxSearchResultsInstagramList.react",["cx","fbt","OnVisible.react","PagesManagerInboxListSpinner.react","PagesManagerInboxSearchResultListRow.react","React","RelayModern","emptyFunction","nullthrows","PagesManagerInboxSearchResultsInstagramList_pageCustomer.graphql","PagesManagerInboxSearchResultsInstagramListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var k=20;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.relay.loadMore(k,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c,d;d=(d=this.props.pageCustomer)!=null?(d=d.instagram_comms)!=null?d.edges:d:d;if(!d||!d.length)return null;var e=b("nullthrows")((c=this.props.pageCustomer)!=null?(c=c.page)!=null?c.id:c:c);return b("React").jsxs("div",{children:[this.$1(),d.map(function(c){c=b("nullthrows")(c.node);return b("React").jsx(b("PagesManagerInboxSearchResultListRow.react"),{customerComm:c,pageID:e,platform:"INSTAGRAM",viewingItem:a.props.viewingItem},c.id)}),this.$2()]})};d.$1=function(){return this.props.isLabelSearch?b("React").jsx("div",{className:"_7zk3",children:h._("INSTAGRAM COMMENTS")}):b("React").jsx("div",{className:this.props.titleClassName,children:h._("INSTAGRAM COMMENTS")})};d.$2=function(){return!this.props.relay.hasMore()?null:b("React").jsx(b("OnVisible.react"),{onVisible:this.$3,children:b("React").jsx(b("PagesManagerInboxListSpinner.react"),{})})};return c}(b("React").PureComponent);c.defaultProps={isLabelSearch:!1};e.exports=a(c,{pageCustomer:i!==void 0?i:i=b("PagesManagerInboxSearchResultsInstagramList_pageCustomer.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.pageCustomer)!=null?a.instagram_comms:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,pageCustomerID:a.pageCustomer.id}},query:j!==void 0?j:j=b("PagesManagerInboxSearchResultsInstagramListPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxListSearchResultsList.react",["cx","fbt","PagesManagerInboxMercuryUtil","PagesManagerInboxSearchResultListRow.react","PagesManagerInboxSearchResultsFacebookList.react","PagesManagerInboxSearchResultsInstagramDirectList.react","PagesManagerInboxSearchResultsInstagramList.react","React","RelayModern","nullthrows","PagesManagerInboxListSearchResultsList_pageCustomer.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this,c,d;d=(d=this.props)!=null?(d=d.pageCustomer)!=null?(d=d.messenger_comms)!=null?d.edges:d:d:d;var e=(c=this.props)!=null?(c=c.pageCustomer)!=null?(c=c.page)!=null?c.id:c:c:c;return!d||!d.length||e===null||e===void 0||e===""?null:b("React").jsxs("div",{children:[this.$2(),d.map(function(c){c=b("nullthrows")(c.node);var d=b("PagesManagerInboxMercuryUtil").shouldUseMercury()?c.target_id:c.id;return b("React").jsx(b("PagesManagerInboxSearchResultListRow.react"),{customerComm:c,hasPageReplied:a.$3(),labels:a.$4(),pageID:e,platform:"MESSENGER",viewingItem:a.props.viewingItem},d)})]})};d.$3=function(){var a;return!Boolean((a=this.props.pageCustomer.message_thread)==null?void 0:a.is_page_unresponded_thread)};d.$4=function(){var a;a=((a=this.props)!=null?(a=a.pageCustomer)!=null?(a=a.labels)!=null?a.edges:a:a:a)||[];return!a||a.length===0?[]:a.map(function(a){var b,c;b=(b=a.node)==null?void 0:b.id;c=(c=a.node)==null?void 0:c.label_color;a=(a=a.node)==null?void 0:a.name;return b!=null&&c!=null&&a!=null?{id:b,color:c,name:a}:null}).filter(function(a){return a!=null})};d.$2=function(){if(this.props.useNewLabelSearch===!0)return null;return this.props.isLabelSearch?b("React").jsx("div",{className:"_7zk3",children:h._("MESSAGES")}):b("React").jsx("div",{className:this.$5(),children:h._("MESSENGER CONVERSATIONS")})};d.$5=function(){return"_3-69"};d.$6=function(){return b("React").jsx(b("PagesManagerInboxSearchResultsInstagramDirectList.react"),{isLabelSearch:this.props.isLabelSearch,labels:this.$4(),pageCustomer:this.props.pageCustomer,titleClassName:this.$5(),useNewLabelSearch:this.props.useNewLabelSearch,viewingItem:this.props.viewingItem})};d.render=function(){return this.props.useNewLabelSearch===!0?b("React").jsxs("div",{children:[this.$1(),this.$6()]}):b("React").jsxs("div",{children:[this.$1(),b("React").jsx(b("PagesManagerInboxSearchResultsFacebookList.react"),{isLabelSearch:this.props.isLabelSearch,pageCustomer:this.props.pageCustomer,titleClassName:this.$5(),viewingItem:this.props.viewingItem}),b("React").jsx(b("PagesManagerInboxSearchResultsInstagramList.react"),{isLabelSearch:this.props.isLabelSearch,pageCustomer:this.props.pageCustomer,titleClassName:this.$5(),viewingItem:this.props.viewingItem}),b("React").jsx(b("PagesManagerInboxSearchResultsInstagramDirectList.react"),{isLabelSearch:this.props.isLabelSearch,pageCustomer:this.props.pageCustomer,titleClassName:this.$5(),useNewLabelSearch:this.props.useNewLabelSearch,viewingItem:this.props.viewingItem})]})};return c}(b("React").Component);c.defaultProps={isLabelSearch:!1};e.exports=a(c,{pageCustomer:i!==void 0?i:i=b("PagesManagerInboxListSearchResultsList_pageCustomer.graphql")})}),null);
__d("PagesManagerInboxListSearchResults.react",["PagesManagerInboxListLoading.react","PagesManagerInboxListSearchResultsList.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxListSearchResultsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxListSearchResultsQuery.graphql"),variables:{pageCustomerID:this.props.pageCustomerID},render:function(c){var d=c.error;c=c.props;return c&&!d?b("React").jsx(b("PagesManagerInboxListSearchResultsList.react"),{isLabelSearch:a.props.isLabelSearch,pageCustomer:c.CrmUnifiedContact,useNewLabelSearch:a.props.useNewLabelSearch,viewingItem:a.props.viewingItem}):b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:a.props.height})}})};return c}(b("React").PureComponent);a.defaultProps={isLabelSearch:!1};e.exports=a}),null);
__d("PageManagerInboxLabelThreadSearchResults.react",["ix","cx","fbt","Image.react","OnVisible.react","PagesManagerInboxListSearchResults.react","PagesManagerInboxListSpinner.react","React","RelayModern","asset","emptyFunction","PageManagerInboxLabelThreadSearchResults_searchResults.graphql","PageManagerInboxLabelThreadSearchResultsPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=20;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.relay.loadMore(l,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return b("React").jsxs("div",{className:"_7zl7","data-testid":"contentSearchSection_header",children:[b("React").jsx("div",{className:"_7zl8",children:b("React").jsx(b("Image.react"),{src:g("515638")})}),i._("No results found")]})};d.$2=function(){return!this.props.relay.hasMore()?null:b("React").jsx(b("OnVisible.react"),{onVisible:this.$3,children:b("React").jsx(b("PagesManagerInboxListSpinner.react"),{})})};d.render=function(){var a=this,c;c=((c=this.props)!=null?(c=c.searchResults)!=null?(c=c.results)!=null?c.edges:c:c:c)||[];c=c.map(function(a){return(a=a.node)==null?void 0:a.id});return c.length===0?this.$1():b("React").jsxs("div",{children:[c.map(function(c){return c==null?null:b("React").jsx(b("PagesManagerInboxListSearchResults.react"),{height:a.props.height,pageCustomerID:c,useNewLabelSearch:a.props.useNewLabelSearch,viewingItem:null},c)}),this.$2()]})};return c}(b("React").PureComponent);e.exports=a(c,{searchResults:j!==void 0?j:j=b("PageManagerInboxLabelThreadSearchResults_searchResults.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.searchResults)!=null?a.results:a:a},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,labels:{labels:a.labels.map(function(a){return a.getUniqueID()})}}},query:k!==void 0?k:k=b("PageManagerInboxLabelThreadSearchResultsPaginationQuery.graphql")})}),null);
__d("PageManagerInboxLabelThreadSearch.react",["PageManagerInboxLabelThreadSearchResults.react","PagesManagerInboxListLoading.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PageManagerInboxLabelThreadSearchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;var h=20;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=a.error;a=a.props;return a&&!c?b("React").jsx(b("PageManagerInboxLabelThreadSearchResults.react"),{height:d.props.height,labels:d.props.labels,searchResults:a,useNewLabelSearch:!0}):b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.labels.map(function(a){return a.getUniqueID()});return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PageManagerInboxLabelThreadSearchQuery.graphql"),render:this.$1,variables:{labels:{labels:a},count:h,cursor:null}})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PageManagerInboxPageToPageHeaderView.react",["cx","CenteredContainer.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","LineClamp.react","PageCommItemStatus","PagesManagerAction","PagesManagerInboxActionContainer.react","PagesManagerInboxBlockMessagesMenu.react","PagesManagerInboxCometDetailHeaderAction.react","PagesManagerInboxCometUtil","PagesManagerInboxDetailHeaderAction.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","React","RelayModern","PageManagerInboxPageToPageHeaderView_page.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("PagesManagerInboxActionContainer.react").PagesManagerInboxActionContainerInner;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=116,k=57,l=16;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=b("PagesManagerInboxCometUtil").shouldShowCometNewDesign();b("PagesManagerAction").setHeaderHeight(a?j:k)};d.render=function(){var a,c=b("PagesManagerInboxCometUtil").shouldShowCometNewDesign();a={comm_platform:"MESSENGER",comm_title:(a=(a=this.props.page)==null?void 0:a.name)!=null?a:"",comm_type:"FB_MESSAGE",id:"",page_customer:{message_thread:{thread_associated_job_applications:{nodes:[]}},is_banned_by_page:!1,name:null,user:{id:this.props.page.id}},thumbnail:{uri:(a=(a=this.props.page)==null?void 0:(a=a.profile_picture)==null?void 0:a.uri)!=null?a:""},comm_status:b("PageCommItemStatus").TODO,target_id:this.props.page.id,$refType:""};return b("React").jsxs(b("Layout.react"),{className:(c?"_8g7a":"")+(c?"":" _iyn"),children:[b("React").jsx(b("LayoutColumn.react"),{className:(c?"_8g7b":"")+(c?"":" _iyp"),children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:"MESSENGER",commType:"FB_MESSAGE",imageSize:c?b("PagesManagerInboxPicSize").CometDetailViewHeaderPicSize:b("PagesManagerInboxPicSize").DetailViewHeaderPicSize,imageURI:a.thumbnail.uri,showPlatformBadge:!1})})}),b("React").jsx(b("LayoutFillColumn.react"),{children:c?b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx("div",{className:"_8g7g",children:b("React").jsx("div",{className:"_8g7e",children:a.comm_title})})}):b("React").jsx("div",{className:"_72od",children:b("React").jsx("div",{className:"_iyo",children:b("React").jsx(b("LineClamp.react"),{lineHeight:l,lines:1,children:a.comm_title})})})}),b("React").jsx(b("LayoutColumn.react"),{children:b("React").jsx(i,{ChildActionClass:c?b("PagesManagerInboxCometDetailHeaderAction.react"):b("PagesManagerInboxDetailHeaderAction.react"),item:a,itemPage:this.props.page,leftActions:c?null:b("React").jsx(b("PagesManagerInboxBlockMessagesMenu.react"),{itemPage:this.props.page,pageID:this.props.mailboxID})})})]})};return c}(b("React").PureComponent);e.exports=a(c,{page:h!==void 0?h:h=b("PageManagerInboxPageToPageHeaderView_page.graphql")})}),null);
__d("MediaManagerInboxPriorityMessageRow.react",["cx","MercuryIDs","MessengerState.re","PagesManagerInboxMessageListRowContainer.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.fetchThread()};d.componentDidUpdate=function(a){this.props.edges[this.props.rowIndex].id!==a.edges[a.rowIndex].id&&this.fetchThread()};d.fetchThread=function(){var a=this.props.edges[this.props.rowIndex].id;a=b("MercuryIDs").getThreadIDFromUserID(a);b("MessengerState.re").getThreadMeta(this.props.pageID,a,b("emptyFunction"),null);b("MessengerState.re").fetchMoreMessages(this.props.pageID,a,0,10,b("emptyFunction"),null,"mercury")};d.render=function(){var a=this,c=this.props.edges[this.props.rowIndex].id;return b("React").jsx(b("MessengerState.re").jsComponent,{fbid:this.props.pageID,children:function(d){d=b("MessengerState.re").thread(d,b("MercuryIDs").getThreadIDFromUserID(c));if(d==null){var e;return(e=b("React")).jsx("div",{className:"_2dqm",children:e.jsxs("div",{className:"_2iwq _2dqn",children:[e.jsx("div",{className:"_2iwr"}),e.jsx("div",{className:"_2iws"}),e.jsx("div",{className:"_2iwt"}),e.jsx("div",{className:"_2iwu"}),e.jsx("div",{className:"_2iww"}),e.jsx("div",{className:"_2iwx"})]})},c)}return b("React").jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:"MESSENGER",item:d,pageID:a.props.pageID,shouldAnimate:!1},c)}})};return c}(b("React").Component);e.exports=a}),null);
__d("XPagesAutomatedResponsesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{page_token}/automated_responses/{?automation}/",{page_token:{type:"String",required:!0},business_id:{type:"Int"},automation:{type:"Enum",enumType:1},use_intake_form_setup_experience:{type:"Bool",defaultValue:!1},services_referrer:{type:"Enum",defaultValue:"automated_response",enumType:1},services_referrer_surface:{type:"Enum",defaultValue:"inbox",enumType:1}})}),null);
__d("PageCommItemPartReadEditMutation",["RelayFBEnvironment","RelayModern","PageCommItemPartReadEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageCommItemPartReadEditMutation.graphql");function a(a){var c=a.ids.map(function(a){return{id:a,is_read:!0}});return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:{page_comm_item_part_mark_as_read:{page_comm_item_parts:c}},variables:{input:{actor_id:a.actor_id,ids:a.ids}}})}e.exports={commit:a}}),null);
__d("PagesManagerInboxListRowContainer.react",["FluxContainer","MediaManagerInboxLoggerActions","MediaManagerUtils","PageCommItemFolder","PageCommItemPartReadEditMutation","PageCommItemReadEditMutation","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxInstagramPostComposerActions","PagesManagerInboxListRow.react","PagesManagerInboxStore","PagesManagerStore","React","RelayModern","PagesManagerInboxListRowContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){__p&&__p();var a=d.props.item.id;d.props.item.is_read!==!0&&a!=null&&(d.props.item.__typename==="PageCommItemPart"?b("PageCommItemPartReadEditMutation").commit({actor_id:d.props.pageID,ids:[a]}):b("PageCommItemReadEditMutation").commit({actor_id:d.props.pageID,ids:[a]}));if(d.props.item.__typename==="PageCommItemPart"){var c;a=(c=d.props.item.parent_item)==null?void 0:c.id}c=d.props.rowIndex;b("MediaManagerUtils").isMediaManagerApp()&&c!=null&&b("MediaManagerInboxLoggerActions").logListRowIndex(c);b("PagesManagerAction").viewListItem(a);b("PagesManagerInboxInstagramPostComposerActions").clearMessage()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a,c){a=!1;var d=b("PagesManagerStore").getViewingListItem();if(c.item.id!==null&&c.item.id!==void 0&&c.item.id!==""&&d!==null&&d!==void 0&&d!==""){a=c.item.id===d||((c=c.item.parent_item)==null?void 0:c.id)===d}c=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];return{filter:b("PagesManagerInboxFilterStore").getActiveFolder(),isViewing:a,shouldShowIGRevampComments:!!c.shouldShowIGRevampComments}};var d=c.prototype;d.render=function(){var a;return b("React").jsx(b("PagesManagerInboxListRow.react"),{badgeCount:this.props.item.unread_count||0,commPlatform:this.props.item.comm_platform,commStatus:this.props.item.comm_status,commType:this.props.item.comm_type,icons:this.props.item.comm_icon_type,igRevampSnippetWithEntities:this.props.item.ig_revamp_snippet_with_entities,isRead:!!this.props.item.is_read,isViewing:this.state.isViewing,item:this.props.item,onViewingListItem:this.$1,pageID:this.props.pageID,rowIndex:this.props.rowIndex,shouldAnimate:this.props.shouldAnimate,shouldShowIGRevampComments:this.state.shouldShowIGRevampComments,showActions:!0,snippetWithEntities:this.state.filter===b("PageCommItemFolder").PRIORITY?this.props.item.top_comment_snippet:this.props.item.snippet_with_entities,subtitle:this.props.item.subtitle,timestampInMS:(this.props.item.last_modified_at||0)*1e3,title:this.state.filter===b("PageCommItemFolder").PRIORITY?(a=this.props.item.page_comm_item)==null?void 0:a.comm_title:this.props.item.comm_title!==null&&this.props.item.comm_title!==void 0&&this.props.item.comm_title!==""?this.props.item.comm_title:"Facebook User"},this.props.item.id)};return c}(b("React").Component);e.exports=a(b("FluxContainer").create(c,{withProps:!0,pure:!1}),{item:g!==void 0?g:g=b("PagesManagerInboxListRowContainer_item.graphql")})}),null);
__d("PageManagerInboxThreadContentSearchResults.react",["ix","cx","fbt","Image.react","PagesManagerInboxList.react","React","RelayModern","asset","nullthrows","PageManagerInboxThreadContentSearchResults_threadsSearch.graphql","PageManagerInboxThreadContentSearchResultsPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=5;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(){var a,b;c.props.relay.loadMore(l,{start:function(){return a=Date.now()},next:function(){a&&!b&&(b=Date.now()-a)}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){return b("React").jsxs("div",{className:"_7zl7","data-testid":"contentSearchSection_header",children:[b("React").jsx("div",{className:"_7zl8",children:b("React").jsx(b("Image.react"),{src:g("515638")})}),i._("No results found")]})};d.render=function(){var a;a=b("nullthrows")((a=this.props)!=null?(a=a.threadsSearch)!=null?(a=a.results)!=null?a.edges:a:a:a);a=a.slice();return b("React").jsx(b("PagesManagerInboxList.react"),{edges:a,emptyState:this.$1(),filterType:"MESSENGER",hasMore:this.props.relay.hasMore(),height:this.props.height,onLoadMore:this.$2,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:this.props.shouldShowPromoteButton})};return c}(b("React").PureComponent);e.exports=a(c,{threadsSearch:j!==void 0?j:j=b("PageManagerInboxThreadContentSearchResults_threadsSearch.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.threadsSearch)!=null?a.results:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,query_params:{query:a.searchTerm,search_type:"CONTENT"}}},query:k!==void 0?k:k=b("PageManagerInboxThreadContentSearchResultsPaginationQuery.graphql")})}),null);
__d("PageManagerInboxThreadContentSearch.react",["PageManagerInboxThreadContentSearchResults.react","PagesManagerInboxListLoading.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PageManagerInboxThreadContentSearchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PageManagerInboxThreadContentSearchQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?b("React").jsx(b("PageManagerInboxThreadContentSearchResults.react"),{filterType:a.props.filterType,height:a.props.height,paddingBottom:a.props.paddingBottom,pageID:a.props.pageID,searchTerm:a.props.searchTerm,shouldShowPromoteButton:a.props.shouldShowPromoteButton,threadsSearch:c.threadsSearch}):b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:a.props.height})},variables:{query_params:{query:this.props.searchTerm,search_type:"CONTENT"}}})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxAdminAssignMutation",["RelayFBEnvironment","RelayModern","PagesManagerInboxAdminAssignMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxAdminAssignMutation.graphql");function a(a,c){var d={message_thread_assign_admin:{thread:{id:a.threadFBID,thread_associated_page_admin:{id:a.adminID,name:a.adminName,profile_picture:{uri:a.adminPhotoUrl}}}}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.pageID,admin_id:a.adminID,thread_id:a.threadFBID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxAdminAssignerRoot.react",["PagesManagerInboxAdminAssigner.react","PagesManagerInboxAdminAssignerNUXContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxAdminAssignerRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxAdminAssignerRootQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?[b("React").jsx(b("PagesManagerInboxAdminAssigner.react"),babelHelpers["extends"]({ref:function(b){a.assigner=b},shouldShowNewMultiAdminAssignment:a.props.shouldShowNewMultiAdminAssignment},c),"PagesManagerInboxAdminAssignerRoot.assigner"),b("React").jsx(b("PagesManagerInboxAdminAssignerNUXContainer.react"),{contextRef:function(){return a.assigner}},"PagesManagerInboxAdminAssignerRoot.NUX")]:null},variables:{pageID:this.props.pageID,commItemID:this.props.commItemID}})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerInboxAutomationToastContainer.react",["cx","fbt","FDSGuidanceToast.react","FDSGuidanceToastButton.react","FDSGuidanceToastCloseButton.react","FluxContainer","MercuryIDs","MessengerState.bs","PageCommItemFolder","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerMessagesInterface","PagesManagerMessagingThreadlistAction","PagesMarketingAutomationActions","PagesMarketingAutomationStore","React","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){if(d.state.recentAutomationThreadFBID){var a=b("MercuryIDs").getThreadIDFromUserID(d.state.recentAutomationThreadFBID),c=b("MessengerState.bs").getThreadMetaNow(d.props.pageID,a);b("PagesManagerInboxLogger").itemStatusChanged(c.page_comm_item_id,c.comm_type,b("PageCommItemFolder").TODO);b("PagesManagerInboxLogger").itemStatusChangedInHeader(c.page_comm_item_id,c.comm_type,b("PageCommItemFolder").TODO,d.props.commItemFolder);var e=b("PagesManagerInboxStore").getConfig().platformConfigs[d.props.activeType];b("PagesManagerMessagesInterface").changeThreadFolderToInbox(d.props.pageID,a,b("nullthrows")(d.state.recentAutomationThreadFBID),b("nullthrows")(c.comm_status),e.isBackgroundFolderEnabled);b("PagesManagerMessagingThreadlistAction").updateThreadlist(d.props.pageID)}d.$1()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(a){return{recentAutomationThreadFBID:b("PagesMarketingAutomationStore").getRecentAutomationThreadFBID(),shouldShowToast:b("PagesMarketingAutomationStore").getShouldShowAutomationToast()}};var d=c.prototype;d.$1=function(){b("PagesMarketingAutomationActions").updateShouldShowAutomationToast(!1)};d.render=function(){return this.state.shouldShowToast&&this.props.selectedCustomerID===this.state.recentAutomationThreadFBID?b("React").jsx("div",{className:"_8qfj",children:b("React").jsx(b("FDSGuidanceToast.react"),{callToActionButton:b("React").jsx(b("FDSGuidanceToastButton.react"),{label:"Undo",onClick:this.$2}),closeButton:b("React").jsx(b("FDSGuidanceToastCloseButton.react"),{onClick:this.$1}),content:h._("Conversation moved to Done folder"),type:"success"})}):null};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxBanToastContainer.react",["ix","cx","fbt","CenteredContainer.react","FluxContainer","Image.react","Layout.react","PagesManagerInboxListAction","PagesManagerInboxListStore","React","ReactTransitionGroup","XUICard.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=500,m=1e4;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxListStore")]};c.calculateState=function(){return{isBanned:b("PagesManagerInboxListStore").getIsUserBanned(),userName:b("PagesManagerInboxListStore").getUserName()}};var d=c.prototype;d.render=function(){var a=this.state.userName?b("React").jsx(n,{isBanned:this.state.isBanned,userName:this.state.userName},this.state.userName):null;return b("React").jsx(b("ReactTransitionGroup"),{children:a})};return c}(b("React").PureComponent);var n=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.state={shouldHide:!1},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.componentDidMount=function(){var a=this;setTimeout(function(){a.state.shouldHide||b("PagesManagerInboxListAction").removeBanNotice()},m)};d.componentWillLeave=function(a){this.setState({shouldHide:!0},function(){setTimeout(a,l)})};d.$1=function(){if(this.props.isBanned)return i._("{name} has been banned from this Page.",[i._param("name",this.props.userName)]);else return i._("Ban has been removed")};d.render=function(){return b("React").jsx("div",{className:"_9e3"+(this.state.shouldHide?" _9e5":""),children:b("React").jsx(b("XUICard.react"),{className:"_6zj7",children:b("React").jsxs(b("Layout.react"),{className:"_9ee",children:[b("React").jsx(j,{className:"_9ef",children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("Image.react"),{src:g("691343")})})}),b("React").jsx(k,{className:"_9ef _9eh",children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.$1()})})]})})})};return a}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxCometHeaderLoading.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx("div",{className:"_8g70",children:a.jsxs("div",{className:"_2iwq _8g71",children:[a.jsx("div",{className:"_8g72"}),a.jsx("div",{className:"_8g73"}),a.jsx("div",{className:"_8g74"}),a.jsx("div",{className:"_8g75"}),a.jsx("div",{className:"_8g76"}),a.jsx("div",{className:"_8g77"})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("JobEmployerUtils",["RelayModern","JobEmployerUtils_page.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;function a(a){var b=(a==null?void 0:a.name)||"",c=(a==null?void 0:a.id)||"";return(a==null?void 0:a.username)||b+"-"+c}g!==void 0?g:g=b("JobEmployerUtils_page.graphql");e.exports={getPageToken:a}}),null);
__d("PagesManagerInboxHeaderJobBanner.react",["ix","cx","ActionList.react","CenteredContainer.react","Image","JobEmployerUtils","JobsATSSetStatusDropdown.react","JobSearchATSLogger","JobSearchStrings","Layout.react","LayoutColumn.react","LayoutFillColumn.react","Link.react","React","RelayModern","XPagesManagerManageJobsController","asset","cxMargin","PagesManagerInboxHeaderJobBanner_jobApplication.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;c=a.call(this,c)||this;c.$1=new(b("JobSearchATSLogger"))((d=c.props.jobApplication)==null?void 0:(d=d.job_opening)==null?void 0:(d=d.employer)==null?void 0:d.id,(d=c.props.jobApplication)==null?void 0:(d=d.job_opening)==null?void 0:d.id);return c}var d=c.prototype;d.componentDidMount=function(){this.$1.logJobsMessengerBannerImpression()};d.$2=function(){var a;a=(a=this.props.jobApplication)==null?void 0:(a=a.job_opening)==null?void 0:a.employer;a=b("JobEmployerUtils").getPageToken(a);return b("XPagesManagerManageJobsController").getURIBuilder().setString("page_token",a).setFBID("job_application_id",(a=this.props.jobApplication)==null?void 0:a.id).setEnum("referer_mechanism","page_messenger_banner").setEnum("source","messenger").getURI()};d.render=function(){var a;return(a=b("React")).jsxs(b("Layout.react"),{className:"_7esf",children:[a.jsx(b("LayoutColumn.react"),{className:"_3-8t",children:a.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:a.jsx("div",{className:"_7jvj",children:a.jsx(b("Image"),{className:"_7jvk",source:g("616091")})})})}),a.jsx(b("LayoutFillColumn.react"),{children:a.jsxs("div",{className:"_7esi",children:[a.jsxs(b("ActionList.react"),{className:"_7esj",children:[(a=this.props.jobApplication)==null?void 0:(a=a.job_opening)==null?void 0:(a=a.title)==null?void 0:a.text,(a=this.props.jobApplication)==null?void 0:(a=a.job_opening)==null?void 0:(a=a.long_subtitle)==null?void 0:a.text]}),b("React").jsx(b("Link.react"),{className:"_7jvl",href:this.$2(),children:b("JobSearchStrings").VIEW_APPLICATION})]})}),b("React").jsx(b("LayoutColumn.react"),{className:"_3-8t",children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("JobsATSSetStatusDropdown.react"),{jobApplication:this.props.jobApplication,logger:this.$1})})})]})};return c}(b("React").PureComponent);e.exports=a(c,{jobApplication:i!==void 0?i:i=b("PagesManagerInboxHeaderJobBanner_jobApplication.graphql")})}),null);
__d("PagesManagerInboxCometHeaderView.react",["cx","fbt","invariant","ActionList.react","BoostedComponentAppID","BoostedComponentDialogButtonV2Wrapper.react","CenteredContainer.react","Layout.react","PagesManagerAction","PagesManagerInboxActionContainer.react","PagesManagerInboxAdminAssignerRoot.react","PagesManagerInboxCometDetailHeaderAction.react","PagesManagerInboxHeaderJobBanner.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerInboxProfilePicContainer.react","PagesManagerInboxStore","React","RelayModern","Timestamp.react","formatDate","nullthrows","PagesManagerInboxCometHeaderView_commItem.graphql","PagesManagerInboxCometHeaderView_igPost.graphql","PagesManagerInboxCometHeaderView_story.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m=b("PagesManagerInboxActionContainer.react").PagesManagerInboxActionContainer;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var n=b("Layout.react").Column,o=b("Layout.react").FillColumn,p=116,q="PageCommItemPart",r=40;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.shouldShowJobsBanner()?b("PagesManagerAction").setHeaderHeight(2*p):b("PagesManagerAction").setHeaderHeight(p)};d.shouldShowJobsBanner=function(){var a,b;a=(a=this.props.commItem)==null?void 0:(a=a.page_customer)==null?void 0:(a=a.message_thread)==null?void 0:(a=a.thread_associated_job_applications)==null?void 0:(a=a.nodes)==null?void 0:(a=a[0])==null?void 0:a.job_opening;return a!==null&&a!==void 0&&((b=a.title)==null?void 0:b.text)!==null&&((b=a.title)==null?void 0:b.text)!==void 0&&a.job_status==="OPEN"?!0:!1};d.showBoostButton=function(){var a,c=this.props.commItem.comm_type;a=(a=this.props)!=null?(a=a.story)!=null?a.legacy_story_hideable_id:a:a;return a===null||a===void 0||a===""||c!=="FB_PAGE_POST"?null:b("React").jsx(b("BoostedComponentDialogButtonV2Wrapper.react"),{appID:b("BoostedComponentAppID").BOOSTED_POST,pageID:this.props.mailboxID,placement:"pages-inbox",targetID:a})};d.showHeaderSubtitle=function(){__p&&__p();var a;switch(this.props.commItem.comm_platform){case"INSTAGRAM":var c=null;this.props.igPost.like_count!==null&&this.props.igPost.like_count!==void 0&&this.props.igPost.like_count!==0&&(c=h._({"*":"{number} likes","_1":"1 like"},[h._plural(this.props.igPost.like_count,"number")]));var d=null;this.props.igPost.comment_count!==null&&this.props.igPost.comment_count!==void 0&&this.props.igPost.comment_count!==0&&(d=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(this.props.igPost.comment_count,"number")]));return b("React").jsxs(b("ActionList.react"),{children:[c,d,b("React").jsx(b("Timestamp.react"),{text:b("formatDate")(this.props.igPost.creation_time,"M j"),time:this.props.igPost.creation_time})]});case"FACEBOOK":d=(c=this.props.story)!=null?(c=c.feedback)!=null?(c=c.reactors)!=null?c.count:c:c:c;c=(c=this.props.story)!=null?(c=c.feedback)!=null?(c=c.comments)!=null?c.count:c:c:c;a=(a=this.props.story)!=null?a.creation_time:a;var e=null;d!==null&&d!==void 0&&d!==0&&(e=h._({"*":"{number} reactions","_1":"1 reaction"},[h._plural(this.props.story.feedback.reactors.count,"number")]));d=null;c!==null&&c!==void 0&&c!==0&&(d=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(this.props.story.feedback.comments.count,"number")]));return b("React").jsxs(b("ActionList.react"),{children:[e,d,a!==null&&a!==void 0&&a!==0&&b("React").jsx(b("Timestamp.react"),{text:b("formatDate")(a,"M j"),time:a})]});case"MESSENGER":if(!b("PagesManagerInboxStore").getIsMultiAdminEnabled())return null;this.props.commItem.id!==null&&this.props.commItem.id!==void 0&&this.props.commItem.id!==""||i(0,491);return b("React").jsx(b("PagesManagerInboxAdminAssignerRoot.react"),{commItemID:this.props.commItem.id,pageID:this.props.mailboxID,shouldShowNewMultiAdminAssignment:this.props.shouldShowNewMultiAdminAssignment})}return null};d.escapedTitle=function(){var a=this.props.commItem.comm_title;return a!==null&&a!==void 0&&a!==""?a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(b)}):null};d.revampCommentHeaderPic=function(){var a,c,d,e;e=b("nullthrows")((e=this.props)!=null?(e=e.commItem)!=null?e.comm_platform:e:e);d=b("nullthrows")((d=this.props)!=null?(d=d.commItem)!=null?d.comm_type:d:d);a=(a=this.props.commItem)==null?void 0:(a=a.facebook_comment)==null?void 0:(a=a.author)==null?void 0:(a=a.profile_picture)==null?void 0:a.uri;c=(c=this.props.commItem)==null?void 0:c.__typename;return b("React").jsx(b("PagesManagerInboxProfilePic.react"),{className:"_8g7f",commPlatform:e,commType:d,commentType:c,imageSize:r,imageURI:a,showPlatformBadge:!1})};d.render=function(){var a,c;a=(a=this.props.commItem)==null?void 0:(a=a.page_customer)==null?void 0:(a=a.message_thread)==null?void 0:(a=a.thread_associated_job_applications)==null?void 0:(a=a.nodes)==null?void 0:a[0];a=this.shouldShowJobsBanner()&&a!==null&&a!==void 0?b("React").jsx(b("PagesManagerInboxHeaderJobBanner.react"),{jobApplication:a}):null;if(((c=this.props.commItem)==null?void 0:c.__typename)===q){return(c=b("React")).jsx("div",{children:c.jsxs(b("Layout.react"),{className:"_8g7a",children:[c.jsx(n,{className:"_8g7b",children:c.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.revampCommentHeaderPic()})}),c.jsx(o,{children:c.jsx("div",{className:"_8g7g",children:c.jsx("div",{className:"_8g7h",children:(c=this.props.commItem)==null?void 0:(c=c.facebook_comment)==null?void 0:(c=c.author)==null?void 0:c.name})})})]})})}return b("React").jsxs("div",{children:[b("React").jsxs(b("Layout.react"),{className:"_8g7a",children:[b("React").jsx(n,{className:"_8g7b",children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("PagesManagerInboxProfilePicContainer.react"),{imageSize:b("PagesManagerInboxPicSize").CometDetailViewHeaderPicSize,item:this.props.commItem,showPlatformBadge:!1})})}),b("React").jsx(o,{children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx("div",{className:"_8g7g",children:b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_8g7e",children:this.escapedTitle()}),b("React").jsx("div",{className:"_8g7i",children:this.showHeaderSubtitle()})]})})})}),b("React").jsx(n,{children:b("React").jsx(m,{ChildActionClass:b("PagesManagerInboxCometDetailHeaderAction.react"),item:this.props.commItem,leftActions:this.showBoostButton(),pageID:this.props.mailboxID})})]}),a]})};return c}(b("React").PureComponent);e.exports=a(c,{commItem:j!==void 0?j:j=b("PagesManagerInboxCometHeaderView_commItem.graphql"),igPost:k!==void 0?k:k=b("PagesManagerInboxCometHeaderView_igPost.graphql"),story:l!==void 0?l:l=b("PagesManagerInboxCometHeaderView_story.graphql")})}),null);
__d("XPagesManagerInboxFacebookPostController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/inbox/fb_post/",{})}),null);
__d("MediaManagerInboxPriorityTabStore",["FluxReduceStore","ImmutableRecordWithV4Types","MediaManagerActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;var g=b("MediaManagerActionTypes").MediaManagerActionTypes,h=a({onViewingItemPriorityType:"NONE"});c=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return h()};c.reduce=function(a,b){switch(b.type){case g.MEDIA_MANAGER_INBOX_ON_VIEWING_PRIORITY_ITEM:return a.set("onViewingItemPriorityType",b.priorityType);default:return a}};c.getOnViewingPriorityRowType=function(){return this.getState().get("onViewingItemPriorityType")};return b}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("PagesManagerDispatcher"))}),null);
__d("MediaManagerInboxCustomTabUtils",["MediaManagerInboxPriorityTabStore","MediaManagerUtils","PageCommItemFolder"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerUtils").isMediaManagerApp;a=function(a){return(a==="MEDIA_MANAGER_PRIORITY"||a==="MEDIA_MANAGER_FB_COMMS")&&g()};c=function(a){var b=a.row_type;switch(b){case"TOP_MESSAGES":return a.top_message_content.top_message_thread_id;case"TOP_COMMENTS":return a.top_comment_content.id;default:return""}};d=function(a){var b=a==null?void 0:a.row_type;switch(b){case"TOP_MESSAGES":return a==null?void 0:(b=a.top_message_content)==null?void 0:b.top_message_thread_id;case"TOP_COMMENTS":return a==null?void 0:(b=a.top_comment_content)==null?void 0:(a=b.parent_item)==null?void 0:a.id;default:return null}};f=function(a){a=a==null?void 0:a.row_type;return a};var h=function(){return b("MediaManagerInboxPriorityTabStore").getOnViewingPriorityRowType()==="TOP_MESSAGES"},i=function(a){switch(a){case b("PageCommItemFolder").MEDIA_MANAGER_ALL_TOP_PRIORITY:return"ALL";case b("PageCommItemFolder").MEDIA_MANAGER_TOP_COMMENT:return"TOP_COMMENTS";case b("PageCommItemFolder").MEDIA_MANAGER_TOP_MESSAGE:return"TOP_MESSAGES";default:return"ALL"}};e.exports={shouldRenderMessengerPreviewHeader:h,shouldShowMediaManagerCustomTab:a,getPriorityTabGraphQLFilter:i,getPriorityRowKey:c,getPriorityTabItemID:d,getPriorityTabItemRowType:f}}),null);
__d("PagesManagerInboxQueryUtilCommItemRenderTypes",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({CONTEXT:"CONTEXT",INFO:"INFO",HEADER:"HEADER"})}),null);
__d("PagesManagerInboxQueryUtil",["invariant","FBIDCheck","MediaManagerInboxCustomTabUtils","MercuryIDs","PagesManagerInboxFacebookPostStore","PagesManagerInboxFilterStore","PagesManagerInboxMercuryUtil","PagesManagerInboxQueryRenderer.react","PagesManagerInboxQueryUtilCommItemRenderTypes","PagesManagerMessagingMessagelistStore","React","RelayModern","nullthrows","PagesManagerInboxQueryUtilMessengerQuery.graphql","PagesManagerInboxQueryUtilCommItemContextMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemInfoMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemHeaderMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemQuery.graphql","PagesManagerInboxQueryUtilInstagramQuery.graphql","PagesManagerInboxQueryUtilFacebookQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l,m,n,o;b("RelayModern").graphql;a={renderWithMessengerThreadQuery:function(a,c,d){return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{cacheConfig:{force:!0},query:h!==void 0?h:h=b("PagesManagerInboxQueryUtilMessengerQuery.graphql"),render:d,variables:{threadToken:[c,a].join("_")}})},renderWithCommItemQuery:function(a,c,d,e){__p&&__p();var f=b("PagesManagerInboxFilterStore").getIsSearchActive(),h=!1;if(f)if(b("FBIDCheck").isUser_deprecated(a))h=!0;else{var m=b("MercuryIDs").getThreadIDFromThreadFBID(b("nullthrows")(a));m=b("PagesManagerMessagingMessagelistStore").getMessagelist(c,m);m.length>0&&(h=!0)}if((b("PagesManagerInboxMercuryUtil").shouldUseMercury()||b("MediaManagerInboxCustomTabUtils").shouldRenderMessengerPreviewHeader())&&(!f||h)){m="";switch(e){case b("PagesManagerInboxQueryUtilCommItemRenderTypes").CONTEXT:m=i!==void 0?i:i=b("PagesManagerInboxQueryUtilCommItemContextMercuryQuery.graphql");break;case b("PagesManagerInboxQueryUtilCommItemRenderTypes").INFO:m=j!==void 0?j:j=b("PagesManagerInboxQueryUtilCommItemInfoMercuryQuery.graphql");break;case b("PagesManagerInboxQueryUtilCommItemRenderTypes").HEADER:m=k!==void 0?k:k=b("PagesManagerInboxQueryUtilCommItemHeaderMercuryQuery.graphql");break}return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:m,render:function(a){var b,c=a.error;a=a.props;b=(b=a)!=null?(b=b.page)!=null?b.page_comm_item_for_message_thread:b:b;if(a&&!c)return d({error:c,props:a},b);!c&&!a||g(0,4573);return d({error:c,props:a},null)},variables:{messageThreadID:a,pageID:c}})}return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:l!==void 0?l:l=b("PagesManagerInboxQueryUtilCommItemQuery.graphql"),render:function(a){var b=a.error;a=a.props;if(a&&!b)return d({error:b,props:a},a.commItem);!b&&!a||g(0,4573);return d({error:b,props:a},null)},variables:{commItemID:a}})},renderWithPlatformPostThreadQuery:function(a,c,d,e,f,h){switch(d){case"INSTAGRAM":return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:m!==void 0?m:m=b("PagesManagerInboxQueryUtilInstagramQuery.graphql"),render:h,variables:{commItemID:a,igPostID:c}});case"FACEBOOK":b("PagesManagerInboxFacebookPostStore").get(a,e,!0);return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:n!==void 0?n:n=b("PagesManagerInboxQueryUtilFacebookQuery.graphql"),render:h,variables:{commItemID:a,targetID:f}});case"MESSENGER":case"WEC":case"INSTAGRAM_DIRECT":return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{cacheConfig:{force:!0},query:o!==void 0?o:o=b("PagesManagerInboxQueryUtilMessengerQuery.graphql"),render:h,variables:{threadToken:[e,c].join("_")}});default:g(0,13808,a)}}};e.exports=a}),null);
__d("PagesMessageThreadImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("pages_message_thread_impression");e.exports=a}),null);
__d("PagesManagerInboxDetailRoot.react",["PagesEventObserver","PagesManagerInboxDetailLoading.react","PagesManagerInboxFacebookPostContainer.react","PagesManagerInboxInstagramPostContainer.react","PagesManagerInboxLogger","PagesManagerInboxMessageBasicContainer.react","PagesManagerInboxQueryUtil","PagesMessageThreadImpressionFalcoEvent","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderQueryResults=function(a){__p&&__p();var c=a.error;a=a.props;d.props.mailboxID&&(b("PagesEventObserver").notify("messages_view_thread",d.props.mailboxID,{mailboxID:d.props.mailboxID,section:d.props.commPlatform,target_id:d.props.targetID}),b("PagesMessageThreadImpressionFalcoEvent").log(function(){return{event_location:"page__inbox",page_id:d.props.mailboxID,referrer:null,event_data:{mailbox_id:d.props.mailboxID,thread_id:d.props.commItemID,section:d.props.commPlatform}}}));switch(d.props.commPlatform){case"INSTAGRAM":d.$1(a,c);if(a&&!c)return b("React").jsx(b("PagesManagerInboxInstagramPostContainer.react"),babelHelpers["extends"]({},d.props,a));break;case"FACEBOOK":d.$1(a,c);if(a&&!c){var e=Date.now();return b("React").jsx(b("PagesManagerInboxFacebookPostContainer.react"),babelHelpers["extends"]({height:d.props.height,loadStartTime:e,paddingBottom:d.props.paddingBottom,pageID:d.props.mailboxID},a))}break;case"MESSENGER":case"WEC":d.$1(a,c);if(a&&!c)return b("React").jsx(b("PagesManagerInboxMessageBasicContainer.react"),babelHelpers["extends"]({commSourceID:d.props.commSourceID,height:d.props.height,paddingBottom:d.props.paddingBottom,pageID:d.props.mailboxID},a));break}return b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c){a&&!c?b("PagesManagerInboxLogger").itemDetailsLoaded(this.props.commItemID,this.props.commPlatform):!a&&!c&&b("PagesManagerInboxLogger").startLoadingItemDetails(this.props.commItemID,this.props.commPlatform)};d.render=function(){var a=this.props,c=a.commPlatform,d=a.commItemID,e=a.commSourceID,f=a.mailboxID;a=a.targetID;return b("PagesManagerInboxQueryUtil").renderWithPlatformPostThreadQuery(d,e,c,f,a,this.onRenderQueryResults)};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerInboxCommItemBasicInfoContainer.react",["ErrorBoundary.react","PagesManagerInboxDetailRoot.react","PagesManagerInboxLogger","React","RelayModern","nullthrows","PagesManagerInboxCommItemBasicInfoContainer_commItem.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesManagerInboxDetailRoot.react"),{commItemID:(a=b("nullthrows"))(this.props.commItem.id),commPlatform:a(this.props.commItem.comm_platform),commSourceID:a(this.props.commItem.comm_source_id),height:this.props.height,mailboxID:this.props.mailboxID,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,targetID:a(this.props.commItem.target_id)})})};return c}(b("React").PureComponent);e.exports=a(c,{commItem:g!==void 0?g:g=b("PagesManagerInboxCommItemBasicInfoContainer_commItem.graphql")})}),null);
__d("PagesManagerInboxCommItemBasicInfoRoot.react",["ErrorBoundary.react","MediaManagerInboxContext.react","PagesManagerInboxCommItemBasicInfoContainer.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxLogger","PagesManagerInboxQueryUtil","PagesManagerInboxQueryUtilCommItemRenderTypes","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderDetailView=function(a,c){var e=a.error;a=a.props;d.$1(a,e);return a&&!e&&c?b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesManagerInboxCommItemBasicInfoContainer.react"),babelHelpers["extends"]({commItem:c,height:d.props.height,mailboxID:d.props.mailboxID,paddingBottom:d.props.paddingBottom},a))}):b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c){if(!this.props.listItemKey)return;a&&!c?b("PagesManagerInboxLogger").itemInitialDataLoaded(this.props.listItemKey):!a&&!c&&(this.context&&this.context.logRowPreviewImpression!==b("emptyFunction")&&this.context.logRowPreviewImpression(this.props.listItemKey,this.props.commPlatform,this.props.mediaManagerInboxRowIndex,this.props.commItemFolder),b("PagesManagerInboxLogger").startLoadingItem(this.props.listItemKey))};d.render=function(){return!this.props.listItemKey?this.props.isListLoading?b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.props.height}):null:b("PagesManagerInboxQueryUtil").renderWithCommItemQuery(this.props.listItemKey,this.props.mailboxID,this.onRenderDetailView,b("PagesManagerInboxQueryUtilCommItemRenderTypes").INFO)};return c}(b("React").PureComponent);c.contextType=a;e.exports=c}),null);
__d("PagesManagerInboxFilterStateView.react",["ix","cssVar","cx","fbt","IGMessageDataMutateAction","Image.react","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxFilterAction","PagesMangerInboxMultiAdminFilterUtil","React","SUIBusinessThemeContainer.react","SUIToken.react","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){if(d.props.filterFolder!==b("PageCommItemFolder").INSTAGRAM_THREADS&&d.props.filterFolder!==b("PageCommItemFolder").MESSENGER_THREADS&&(d.props.platform==="INSTAGRAM_DIRECT"||d.props.shouldUseUnifiedThreadlist)){var a;b("IGMessageDataMutateAction").forceFetchInbox(d.props.mailboxID,20,b("PageCommItemFolder").TODO,!1,!1,(a=b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID((a=d.props.filterOwner)==null?void 0:a.id))!=null?a:null,!1)}b("PagesManagerInboxFilterAction").changeFolder(d.props.mailboxID,b("PageCommItemFolder").TODO)},d.$2=function(){if(d.props.filterFolder!==b("PageCommItemFolder").INSTAGRAM_THREADS&&d.props.filterFolder!==b("PageCommItemFolder").MESSENGER_THREADS&&(d.props.platform==="INSTAGRAM_DIRECT"||d.props.shouldUseUnifiedThreadlist)){var a=d.props.filterFolder;b("IGMessageDataMutateAction").forceFetchInbox(d.props.mailboxID,20,b("PageCommItemStatusUtil").getIGDirectFolder(a),a===b("PageCommItemFolder").FOLLOW_UP,a===b("PageCommItemFolder").UNREAD,null)}b("PagesManagerInboxFilterAction").changeOwner(d.props.mailboxID,null,null,null);b("PagesManagerInboxFilterAction").toggleFilterSelector(!1);b("PagesManagerInboxFilterAction").toggleSearch(!1)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(a){switch(a){case b("PageCommItemFolder").FOLLOW_UP:return b("React").jsx(b("Image.react"),{className:"_885a",src:g("1002993")});case b("PageCommItemFolder").UNREAD:return b("React").jsx(b("Image.react"),{className:"_885a",src:g("795293")})}};d.render=function(){var a=this.props.filterFolder;return b("React").jsx("div",{className:"_8859",children:b("React").jsxs(b("SUIBusinessThemeContainer.react"),{children:[b("PageCommItemStatusUtil").getIsFilter(a)?b("React").jsx(b("SUIToken.react"),{icon:this.$3(a),label:b("PageCommItemStatusUtil").getLabel(a),onRemove:this.$1,style:{color:"#606770",paddingTop:"16px",paddingBottom:"16px",margin:"8px",borderRadius:"4px",fontWeight:"bold",borderStyle:"unset"}}):null,this.props.filterOwner!=null&&this.props.filterOwner.name!=null?b("React").jsx(b("SUIToken.react"),{icon:b("React").jsx(b("Image.react"),{className:"_885j",src:((a=this.props.filterOwner)==null?void 0:a.photoURL)!=null?(a=this.props.filterOwner)==null?void 0:a.photoURL:null}),label:((a=this.props.filterOwner)==null?void 0:a.name)!=null?(a=this.props.filterOwner)==null?void 0:a.name:null,onRemove:this.$2,style:{color:"#606770",paddingTop:"16px",paddingBottom:"16px",margin:"8px",borderRadius:"4px",fontWeight:"bold",borderStyle:"unset"}}):null,((a=this.props.filterOwner)==null?void 0:a.id)==="NONE"?b("React").jsx(b("SUIToken.react"),{icon:b("React").jsx(b("Image.react"),{className:"_885a",src:g("1166631")}),label:j._("Unassigned Conversations"),onRemove:this.$2,style:{color:"#606770",paddingTop:"16px",paddingBottom:"16px",margin:"8px",borderRadius:"4px",fontWeight:"bold",borderStyle:"unset"}}):null]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxFolderChangeNoticeContainer.react",["FluxContainer","PageCommItemStatusEditMutation","PagesManagerInboxFolderChangeNotice.react","PagesManagerInboxListAction","PagesManagerInboxListStore","PagesManagerInboxMercuryUtil","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("PageCommItemStatusEditMutation").commit({actor_id:d.props.pageID,ids:[a.id],isUndo:!0,isViewing:a.id===d.state.viewingItem,oldValue:a.newFolder,status:a.oldFolder}),d.$2(a)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxListStore"),b("PagesManagerStore")]};c.calculateState=function(){return{mutatedItem:b("PagesManagerInboxListStore").getLastMutatedItem(),viewingItem:b("PagesManagerStore").getViewingListItem()}};var d=c.prototype;d.render=function(){var a=b("PagesManagerInboxMercuryUtil").shouldUseMercury()?null:this.$1;return b("React").jsx(b("PagesManagerInboxFolderChangeNotice.react"),{mutatedItem:this.state.mutatedItem,onUndoClick:a,removeMutation:this.$2})};d.$2=function(a){b("PagesManagerInboxListAction").removeMutatedItem([a.id])};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PageCommPlatform",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FACEBOOK:"FACEBOOK",MESSENGER:"MESSENGER",INSTAGRAM:"INSTAGRAM",INSTAGRAM_DIRECT:"INSTAGRAM_DIRECT",WEC:"WEC",ALL:"ALL",GROUP:"GROUP",MEDIA_MANAGER_FB_COMMS:"MEDIA_MANAGER_FB_COMMS",MEDIA_MANAGER_PRIORITY:"MEDIA_MANAGER_PRIORITY"})}),null);
__d("PagesManagerInboxHeaderViewContainer.react",["ErrorBoundary.react","PageCommPlatform","PagesManagerInboxCometHeaderLoading.react","PagesManagerInboxCometUtil","PagesManagerInboxHeaderLoading.react","PagesManagerInboxLogger","PagesManagerInboxQueryUtil","PagesManagerInboxStore","React","RelayModern","WitHelpers","nullthrows","PagesManagerInboxHeaderViewContainer_commItem.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("WitHelpers").str;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderQueryResults=function(a){__p&&__p();var c=a.error;a=a.props;switch(d.props.commItem.comm_platform){case"INSTAGRAM":case"FACEBOOK":case"WEC":if(a&&!c){c=d.props;var e=c.ChildClass;c=babelHelpers.objectWithoutPropertiesLoose(c,["ChildClass"]);return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(e,babelHelpers["extends"]({},a,c))})}break}return b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?b("React").jsx(b("PagesManagerInboxCometHeaderLoading.react"),{}):b("React").jsx(b("PagesManagerInboxHeaderLoading.react"),{})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=b("nullthrows")(this.props.commItem.comm_platform),c=b("PagesManagerInboxStore").getPageID();switch(a){case"INSTAGRAM_DIRECT":case"MESSENGER":var d=this.props,e=d.ChildClass;d=babelHelpers.objectWithoutPropertiesLoose(d,["ChildClass"]);return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(e,babelHelpers["extends"]({},d))});default:e=b("nullthrows")(this.props.commItem);d=b("nullthrows")(e.id);var f=b("nullthrows")(e.comm_source_id);e=b("nullthrows")(e.target_id);if(c!=null)return b("PagesManagerInboxQueryUtil").renderWithPlatformPostThreadQuery(d,f,b("PageCommPlatform")[h(a)],c,e,this.onRenderQueryResults)}};return c}(b("React").PureComponent);e.exports=a(c,{commItem:g!==void 0?g:g=b("PagesManagerInboxHeaderViewContainer_commItem.graphql")})}),null);
__d("ServicesMessengerSidebarActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({OPEN_MESSENGER_SIDEBAR:null});e.exports=a}),null);
__d("ServicesMessengerSidebarStore",["FluxReduceStore","ServicesCTAUnificationDispatcher","ServicesMessengerSidebarActionTypes","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ServicesMessengerSidebarActionTypes").OPEN_MESSENGER_SIDEBAR,h=400,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({isSidebarOpen:!1}));a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return new i()};c.reduce=function(a,b){var c=b.payload;switch(b.type){case g:return a.set("isSidebarOpen",c.shouldOpen);default:return a}};c.isSidebarOpen=function(){return this.getState().isSidebarOpen};c.getTransitionDuration=function(){return h};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("ServicesCTAUnificationDispatcher"))}),null);
__d("ServicesMessengerSidebarActions",["PagesManagerAction","PagesManagerInboxFilterAction","PagesManagerInboxMercuryUtil","PagesManagerStore","ServicesCTAUnificationDispatcher","ServicesMessengerSidebarActionTypes","ServicesMessengerSidebarStore","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ServicesMessengerSidebarActionTypes").OPEN_MESSENGER_SIDEBAR;a={openSidebar:function(a,c,d){d===void 0&&(d="MESSENGER");a=b("PagesManagerInboxMercuryUtil").shouldUseMercury()&&d==="MESSENGER"?a:c;if(a==null)return;c=b("PagesManagerStore").getViewingListItem()!==null&&b("PagesManagerStore").getViewingListItem()===a;var e=b("ServicesMessengerSidebarStore").isSidebarOpen();b("PagesManagerInboxFilterAction").changePlatform(d);!e?(this._toggleMessengerSidebar(!0),b("PagesManagerAction").viewListItem(""+a)):e&&!c&&b("PagesManagerAction").viewListItem(""+a)},closeMessengerSidebar:function(){this._toggleMessengerSidebar(!1)},_toggleMessengerSidebar:function(a){a||b("setTimeout")(function(){b("PagesManagerAction").clearViewListItem()},b("ServicesMessengerSidebarStore").getTransitionDuration()),b("ServicesCTAUnificationDispatcher").dispatch({type:g,payload:{shouldOpen:a}})}};e.exports=a}),null);
__d("ServicesAppointmentMessengerHeaderAction.react",["cx","React","ServicesMessengerSidebarActions","XUIButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderDivider=function(){return b("React").jsx("div",{className:"_33u_",children:b("React").jsx("div",{className:"_33v0"})},"actionDivider")};d.render=function(){return b("React").jsxs("div",{className:"_33uz",children:[this.renderDivider(),b("React").jsx("div",{className:"_642n",children:b("React").jsx(b("XUIButton.react"),{className:"_642o",label:"Close",labelIsHidden:!0,size:"small",suppressed:!0,onClick:function(){b("ServicesMessengerSidebarActions").closeMessengerSidebar()}})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderContainer.react",["ErrorBoundary.react","FluxContainer","MediaManagerInboxFBCommsHeaderContainer.react","MediaManagerUtils","PageManagerInboxPageToPageHeaderView.react","PagesManagerAction","PagesManagerInboxCometHeaderLoading.react","PagesManagerInboxCometIGDirectHeaderContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxFilterStore","PagesManagerInboxHeaderLoading.react","PagesManagerInboxHeaderViewContainer.react","PagesManagerInboxIGDirectHeaderContainer.react","PagesManagerInboxLogger","PagesManagerInboxQueryUtil","PagesManagerInboxQueryUtilCommItemRenderTypes","PagesManagerInboxStore","PagesManagerStore","React","ServicesAppointmentMessengerHeaderAction.react","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerUtils").isMediaManagerApp;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderHeader=function(a,c){var e=a.error;a=a.props;if(a&&!e){var f;e=b("PagesManagerInboxStore").getMailboxID(d.state.commPlatform);return((f=a.page)==null?void 0:(f=f.bcmp_gk_config)==null?void 0:f.bcmp_inbox_enabled)&&d.state.commPlatform==="MESSENGER"&&a.sender&&a.sender.__typename==="Page"?b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PageManagerInboxPageToPageHeaderView.react"),{mailboxID:e,page:a.sender})}):b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesManagerInboxHeaderViewContainer.react"),babelHelpers["extends"]({commItem:c,listItemKey:d.state.listItemKey,mailboxID:e,shouldShowNewMultiAdminAssignment:d.state.shouldShowNewMultiAdminAssignment,shouldUseMessengerStateForAdminAssignment:d.state.shouldUseMessengerStateForAdminAssignment},d.props))})}return b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?b("React").jsx(b("PagesManagerInboxCometHeaderLoading.react"),{}):b("React").jsx(b("PagesManagerInboxHeaderLoading.react"),{})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a){__p&&__p();a=!1;var c=!1,d=!1,e=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(e!=null){var f;a=Boolean((f=e.inboxRedesignConfig)==null?void 0:f.shouldShowNewMultiAdminAssignment);d=Boolean((f=e.inboxRedesignConfig)==null?void 0:f.shouldShowNewIGDirectFolder);c=Boolean((f=e.messengerConfig)==null?void 0:f.shouldUseMessengerStateForAdminAssignment)}else a=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment,d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewIGDirectFolder,c=b("PagesManagerInboxStore").getConfig().platformConfigs.MESSENGER.shouldUseMessengerStateForAdminAssignment;return{listItemKey:b("PagesManagerStore").getViewingListItem(),commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),activeFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),shouldShowNewMultiAdminAssignment:a,shouldShowNewIGDirectFolder:d,shouldUseMessengerStateForAdminAssignment:c}};var d=c.prototype;d.componentDidUpdate=function(){this.props.navMode!=="messages"&&b("PagesManagerAction").setHeaderHeight(0)};d.render=function(){var a=b("PagesManagerInboxStore").getMailboxID(this.state.commPlatform);if(this.props.navMode!=="messages"||!this.state.listItemKey)return null;if(this.state.commPlatform==="INSTAGRAM_DIRECT")return b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?b("React").jsx(b("PagesManagerInboxCometIGDirectHeaderContainer.react"),{filterStatus:this.state.activeFolder,mailboxID:a,paddingBottom:0,rightSideAction:this.props.isServicesSidebar?b("React").jsx(b("ServicesAppointmentMessengerHeaderAction.react"),{}):null,shouldShowNewMultiAdminAssignment:this.state.shouldShowNewMultiAdminAssignment,showNewFolder:this.state.shouldShowNewIGDirectFolder,threadID:b("nullthrows")(this.state.listItemKey)}):b("React").jsx(b("PagesManagerInboxIGDirectHeaderContainer.react"),{filterStatus:this.state.activeFolder,mailboxID:a,paddingBottom:0,rightSideAction:this.props.isServicesSidebar?b("React").jsx(b("ServicesAppointmentMessengerHeaderAction.react"),{}):null,shouldShowNewMultiAdminAssignment:this.state.shouldShowNewMultiAdminAssignment,showNewFolder:this.state.shouldShowNewIGDirectFolder,threadID:b("nullthrows")(this.state.listItemKey)});return this.state.commPlatform==="MEDIA_MANAGER_FB_COMMS"&&g()?b("React").jsx(b("MediaManagerInboxFBCommsHeaderContainer.react"),{viewingItem:this.state.listItemKey}):b("PagesManagerInboxQueryUtil").renderWithCommItemQuery(this.state.listItemKey,a,this.onRenderHeader,b("PagesManagerInboxQueryUtilCommItemRenderTypes").HEADER)};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxAdminUnassignMutation",["RelayFBEnvironment","RelayModern","PagesManagerInboxAdminUnassignMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxAdminUnassignMutation.graphql");function a(a,c){var d={message_thread_unassign_admin:{thread:{id:a.threadFBID}}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.pageID,thread_id:a.threadFBID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxMessengerAdminAssigner.react",["ix","cx","fbt","CurrentUser","Image.react","Link.react","MercuryIDs","MercuryThreadActions","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesManagerAdminSearchSource","PagesManagerInboxAdminAssignMutation","PagesManagerInboxAdminUnassignMutation","PagesManagerInboxCometUtil","PagesManagerInboxLogger","React","SearchableDropdownInput.contrib","SearchableEntry","Tooltip","UnifiedInboxSearchableDropdownInput.contrib","asset","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(){return b("React").jsx("div",{className:"_wy6"})}function k(a){var c;return[(c=b("React")).jsx(b("Link.react"),babelHelpers["extends"]({className:"_wy3",onClick:a.onRemoveAssigned},b("Tooltip").propsFor(i._("Remove person assigned")),{children:c.jsx("div",{className:"_wy4"})}),"PagesManagerInboxAdminAssigner.removeAssigned"),c.jsx(j,{},"PagesManagerInboxAdminAssigner.divider"),c.jsx(b("Link.react"),babelHelpers["extends"]({className:"_wy3",onClick:a.onAssignToSelf},b("Tooltip").propsFor(i._("Assign to me")),{children:c.jsx("div",{className:"_wy5"})}),"PagesManagerInboxAdminAssigner.assignToMe")]}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this)||this;c.$6=function(a){b("PagesManagerInboxAdminAssignMutation").commit({threadFBID:b("nullthrows")(c.props.thread.thread_fbid),pageID:c.props.pageID,adminID:a.getUniqueID(),adminName:a.getTitle(),adminPhotoUrl:a.getPhoto()});var d=b("nullthrows")(c.props.thread.thread_fbid);c.$7([d],a.getTitle(),a.getUniqueID(),a.getPhoto());b("PagesLogger").log(c.props.pageID,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").MULTI_ADMIN_ASSIGNMENT,"unified_inbox");b("PagesManagerInboxLogger").logAdminAssignmentAction(c.props.pageID,"assign","other")};c.$8=function(){b("PagesManagerInboxAdminUnassignMutation").commit({threadFBID:b("nullthrows")(c.props.thread.thread_fbid),pageID:b("nullthrows")(c.props.pageID)});c.$5.close();var a=b("nullthrows")(c.props.thread.thread_fbid);c.$7([a],null,null,null);b("PagesManagerInboxLogger").logAdminAssignmentAction(c.props.pageID,"unassign","other")};c.$9=function(){var a=c.props.admins.filter(function(a){return a.id===b("CurrentUser").getID()})[0];a=(a=a)!=null?a.profilePicUrl:a;b("PagesManagerInboxAdminAssignMutation").commit({threadFBID:b("nullthrows")(c.props.thread.thread_fbid),pageID:c.props.pageID,adminID:b("CurrentUser").getID(),adminName:b("CurrentUser").getName(),adminPhotoUrl:b("nullthrows")(a)});c.$5.close();var d=b("nullthrows")(c.props.thread.thread_fbid);c.$7([d],b("CurrentUser").getName(),b("CurrentUser").getID(),a);b("PagesManagerInboxLogger").logAdminAssignmentAction(b("nullthrows")(c.props.pageID),"assign","other")};c.$10=function(a){return b("React").jsx(b("Image.react"),{className:(c.props.shouldShowNewMultiAdminAssignment?"":"_16ny")+(c.props.shouldShowNewMultiAdminAssignment?" _8q1z":""),src:a.getPhoto()})};c.$3=new(b("SearchableEntry"))({uniqueID:0,title:""});c.$4=new(b("PagesManagerAdminSearchSource"))();return c}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this.props.admins.map(function(a){return{name:a.name,id:a.id,profile_picture:{uri:a.profilePicUrl}}});this.$4.cacheData(a)};d.$7=function(a,c,d,e){a=a.map(function(a){return b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(a))});b("MercuryThreadActions").getForFBID(this.props.pageID).updateCommItemOwner(a,c,d,e)};d.render=function(){var a=this,c;this.$1=(c=this.props.thread.thread_associated_page_admin)==null?void 0:c.name;this.$2=(c=this.props.thread.thread_associated_page_admin)==null?void 0:c.id;(this.$1===null||this.$1===void 0)&&(this.$1=this.props.pageName);this.$3=new(b("SearchableEntry"))({uniqueID:(c=this.$2)!=null?c:0,title:""});return this.props.shouldShowNewMultiAdminAssignment?b("React").jsx(b("UnifiedInboxSearchableDropdownInput.contrib"),{chevron:b("React").jsx(b("Image.react"),{src:g("502188")}),className:"_8q1-"+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"":" _8q9w")+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?" _8q7-":""),getLeftContentForEntry:this.$10,isRemoveDisabled:this.$2==null,listClassName:"_8q0u",onRemove:this.$8,onSelect:this.$6,ref:function(b){a.$5=b},resetQueryStringOnSelect:!0,searchSource:this.$4,showSelectedSubtitle:!0,title:this.$1!==this.props.pageName?i._("Assigned to {admin_name}",[i._param("admin_name",this.$1)]).toString():i._("Assign Conversation").toString(),value:this.$1?this.$3:null}):b("React").jsx(b("SearchableDropdownInput.contrib"),{className:"_ol6 _72of",getLeftContentForEntry:this.$10,header:b("React").jsx(k,{onAssignToSelf:this.$9,onRemoveAssigned:this.$8}),headerClassName:"_wxd",listClassName:"_4wkt",onSelect:this.$6,placeholder:i._("Unassigned"),ref:function(b){a.$5=b},resetQueryStringOnSelect:!0,searchSource:this.$4,showSelectedSubtitle:!1,title:i._("Assigned to {admin_name}",[i._param("admin_name",this.$1?this.$1:"")]).toString(),value:this.$1?this.$3:null})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderView.react",["cx","fbt","invariant","ActionList.react","BoostedComponentAppID","BoostedComponentDialogButtonV2Wrapper.react","CenteredContainer.react","Layout.react","LineClamp.react","MercuryIDs","MessengerState.bs","PagesManagerAction","PagesManagerInboxActionContainer.react","PagesManagerInboxAdminAssignerRoot.react","PagesManagerInboxDetailHeaderAction.react","PagesManagerInboxHeaderJobBanner.react","PagesManagerInboxMessengerAdminAssigner.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerInboxProfilePicContainer.react","PagesManagerInboxStore","React","RelayModern","Timestamp.react","formatDate","nullthrows","PagesManagerInboxHeaderView_commItem.graphql","PagesManagerInboxHeaderView_igPost.graphql","PagesManagerInboxHeaderView_story.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m=b("PagesManagerInboxActionContainer.react").PagesManagerInboxActionContainer;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var n=b("Layout.react").Column,o=b("Layout.react").FillColumn,p=56+1,q="PageCommItemPart",r=40,s=16;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.shouldShowJobsBanner()?b("PagesManagerAction").setHeaderHeight(2*p):b("PagesManagerAction").setHeaderHeight(p)};d.shouldShowJobsBanner=function(){var a,b;a=(a=this.props.commItem)==null?void 0:(a=a.page_customer)==null?void 0:(a=a.message_thread)==null?void 0:(a=a.thread_associated_job_applications)==null?void 0:(a=a.nodes)==null?void 0:(a=a[0])==null?void 0:a.job_opening;return a!==null&&a!==void 0&&((b=a.title)==null?void 0:b.text)!==null&&((b=a.title)==null?void 0:b.text)!==void 0&&a.job_status==="OPEN"?!0:!1};d.renderBoostButton=function(){var a,c=this.props.commItem.comm_type;a=(a=this.props)!=null?(a=a.story)!=null?a.legacy_story_hideable_id:a:a;if(a===null||a===void 0||a===""||c!=="FB_PAGE_POST")return null;c=b("PagesManagerInboxStore").getPageID();return c==null?null:b("React").jsx(b("BoostedComponentDialogButtonV2Wrapper.react"),{appID:b("BoostedComponentAppID").BOOSTED_POST,pageID:c,placement:"pages-inbox",targetID:a})};d.renderHeaderSubtitle=function(){__p&&__p();var a=this,c;switch(this.props.commItem.comm_platform){case"INSTAGRAM":var d=null;this.props.igPost.like_count!==null&&this.props.igPost.like_count!==void 0&&this.props.igPost.like_count!==0&&(d=h._({"*":"{number} likes","_1":"1 like"},[h._plural(this.props.igPost.like_count,"number")]));var e=null;this.props.igPost.comment_count!==null&&this.props.igPost.comment_count!==void 0&&this.props.igPost.comment_count!==0&&(e=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(this.props.igPost.comment_count,"number")]));return b("React").jsxs(b("ActionList.react"),{children:[d,e,b("React").jsx(b("Timestamp.react"),{text:b("formatDate")(this.props.igPost.creation_time,"M j"),time:this.props.igPost.creation_time})]});case"FACEBOOK":e=(d=this.props.story)!=null?(d=d.feedback)!=null?(d=d.reactors)!=null?d.count:d:d:d;d=(d=this.props.story)!=null?(d=d.feedback)!=null?(d=d.comments)!=null?d.count:d:d:d;c=(c=this.props.story)!=null?c.creation_time:c;var f=null;e!==null&&e!==void 0&&e!==0&&(f=h._({"*":"{number} reactions","_1":"1 reaction"},[h._plural(this.props.story.feedback.reactors.count,"number")]));e=null;d!==null&&d!==void 0&&d!==0&&(e=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(this.props.story.feedback.comments.count,"number")]));return b("React").jsxs(b("ActionList.react"),{children:[f,e,c!==null&&c!==void 0&&c!==0&&b("React").jsx(b("Timestamp.react"),{text:b("formatDate")(c,"M j"),time:c})]});case"MESSENGER":if(!b("PagesManagerInboxStore").getIsMultiAdminEnabled())return null;this.props.shouldUseMessengerStateForAdminAssignment||(this.props.commItem.id!==null&&this.props.commItem.id!==void 0&&this.props.commItem.id!==""||i(0,491));var g=b("PagesManagerInboxStore").getPageID(),j=b("PagesManagerInboxStore").getPageName(),k=b("PagesManagerInboxStore").getPageAdmins();if(g!=null&&k!=null&&j!=null)return this.props.shouldUseMessengerStateForAdminAssignment?b("React").jsx(b("MessengerState.bs").jsComponent,{fbid:g,children:function(c){return b("React").jsx(b("PagesManagerInboxMessengerAdminAssigner.react"),{admins:k,pageID:g,pageName:j,shouldShowNewMultiAdminAssignment:a.props.shouldShowNewMultiAdminAssignment,thread:b("MessengerState.bs").threads(c)[b("MercuryIDs").getThreadIDFromUserID(a.props.listItemKey)]})}}):b("React").jsx(b("PagesManagerInboxAdminAssignerRoot.react"),{commItemID:b("nullthrows")(this.props.commItem.id),pageID:g,shouldShowNewMultiAdminAssignment:this.props.shouldShowNewMultiAdminAssignment})}return null};d.escapedTitle=function(){var a=this.props.commItem.comm_title;return a!==null&&a!==void 0&&a!==""?a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(b)}):null};d.revampCommentHeaderPic=function(){var a,c,d,e;e=b("nullthrows")((e=this.props)!=null?(e=e.commItem)!=null?e.comm_platform:e:e);d=b("nullthrows")((d=this.props)!=null?(d=d.commItem)!=null?d.comm_type:d:d);a=(a=this.props.commItem)==null?void 0:(a=a.facebook_comment)==null?void 0:(a=a.author)==null?void 0:(a=a.profile_picture)==null?void 0:a.uri;c=(c=this.props.commItem)==null?void 0:c.__typename;return b("React").jsx(b("PagesManagerInboxProfilePic.react"),{className:"_7ywy",commPlatform:e,commType:d,commentType:c,imageSize:r,imageURI:a,showPlatformBadge:!1})};d.render=function(){var a,c;a=(a=this.props.commItem)==null?void 0:(a=a.page_customer)==null?void 0:(a=a.message_thread)==null?void 0:(a=a.thread_associated_job_applications)==null?void 0:(a=a.nodes)==null?void 0:a[0];a=this.shouldShowJobsBanner()&&a!==null&&a!==void 0?b("React").jsx(b("PagesManagerInboxHeaderJobBanner.react"),{jobApplication:a}):null;if(((c=this.props.commItem)==null?void 0:c.__typename)===q){return(c=b("React")).jsx("div",{children:c.jsxs(b("Layout.react"),{className:"_iyn",children:[c.jsx(n,{className:"_iyp",children:c.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.revampCommentHeaderPic()})}),c.jsx(o,{children:c.jsx("div",{className:"_72od",children:c.jsx("div",{className:"_7ywz",children:(c=this.props.commItem)==null?void 0:(c=c.facebook_comment)==null?void 0:(c=c.author)==null?void 0:c.name})})})]})})}return b("React").jsxs("div",{children:[b("React").jsxs(b("Layout.react"),{className:"_iyn",children:[b("React").jsx(n,{className:"_iyp",children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("PagesManagerInboxProfilePicContainer.react"),{imageSize:b("PagesManagerInboxPicSize").DetailViewHeaderPicSize,item:this.props.commItem,showPlatformBadge:!1})})}),b("React").jsx(o,{children:b("React").jsx("div",{className:"_72od",children:b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_iyo",children:b("React").jsx(b("LineClamp.react"),{lineHeight:s,lines:1,children:this.escapedTitle()})}),b("React").jsx("div",{className:"_iyr",children:this.renderHeaderSubtitle()})]})})}),b("React").jsx(n,{children:b("React").jsx(m,{ChildActionClass:b("PagesManagerInboxDetailHeaderAction.react"),item:this.props.commItem,leftActions:this.renderBoostButton()})})]}),a]})};return c}(b("React").PureComponent);e.exports=a(c,{commItem:j!==void 0?j:j=b("PagesManagerInboxHeaderView_commItem.graphql"),igPost:k!==void 0?k:k=b("PagesManagerInboxHeaderView_igPost.graphql"),story:l!==void 0?l:l=b("PagesManagerInboxHeaderView_story.graphql")})}),null);
__d("BusinessPresenceCustomLabelColor",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GREY:"FF90949C",PURPLE:"FF8A73C9",RED:"FFF65569",BLUE:"FF5291FF",ORANGE:"FFFB9240",GREEN:"FF72A737"})}),null);
__d("PagesManagerInboxLabelsColorSelector.react",["ix","cx","fbt","BusinessPresenceCustomLabelColor","Image.react","React","XUICard.react","XUIContextualDialog.react","XUIContextualDialogBody.react","asset","objectValues","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={FF90949C:i._("Grey"),FF8A73C9:i._("Purple"),FFF65569:i._("Red"),FF5291FF:i._("Blue"),FFFB9240:i._("Orange"),FF72A737:i._("Green")},k="FF5291FF";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isSelectorShown:!1,hoverColorLabel:j[k],selectedColor:c.$1(c.props.defaultColor)},c.$2=null,c.$3=function(a){c.setState({isSelectorShown:a})},c.$7=function(){c.setState({hoverColorLabel:j[k]})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(a){return a==="FF000000"?"FF90949C":a};d.$4=function(a){this.props.onSelectColor(a),this.setState({isSelectorShown:!1,selectedColor:a})};d.$5=function(a){a=this.$1(a);return"#"+a.substring(2)};d.$6=function(a){this.setState({hoverColorLabel:a})};d.render=function(){var a=this,c=b("React").jsxs(b("XUICard.react"),{background:"transparent",className:"_20-d",onClick:function(){return a.$3(!a.state.isSelectorShown)},ref:function(b){a.$2=b},children:[b("React").jsx(b("XUICard.react"),{className:"_64u4",style:{backgroundColor:this.$5(this.state.selectedColor)}}),b("React").jsx(b("Image.react"),{className:this.props.showCaret?"_37_p":"_37_b",src:this.state.isSelectorShown?g("387838"):g("382796")})]});return b("React").jsxs("span",{className:"_37v6",children:[c,b("React").jsx(b("XUIContextualDialog.react"),{contextRef:function(){return a.$2},hideOnBlur:!0,label:i._("Select Color"),onToggle:this.$3,position:"below",shown:this.state.isSelectorShown,children:b("React").jsxs("div",{className:"_64u5",children:[b("React").jsx(b("XUIContextualDialogBody.react"),{children:b("objectValues")(b("BusinessPresenceCustomLabelColor")).map(function(c){return b("React").jsx(b("XUICard.react"),{className:"_64u6",onClick:function(){return a.$4(c)},onMouseEnter:function(){return a.$6(j[c])},onMouseLeave:a.$7,style:{backgroundColor:a.$5(c)}},c)})}),b("React").jsx("span",{className:"_64u7",children:this.state.hoverColorLabel})]})},"contextualDialog")]})};return c}(b("React").PureComponent);a.propTypes={onSelectColor:b("prop-types").func.isRequired,showCaret:b("prop-types").bool.isRequired,defaultColor:b("prop-types").string.isRequired};e.exports=a}),null);
__d("PagesManagerInboxLabelsDialogLabelRecord.react",["ix","cx","fbt","Image.react","PagesManagerInboxLabelsColorSelector.react","React","Tooltip.react","XUICardSection.react","asset","curry","cxMargin","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isHover:!1,isHoverEyeIcon:!1,isHoverDeleteIcon:!1},c.$1=function(){c.setState({isHoverEyeIcon:!0})},c.$2=function(){c.setState({isHoverEyeIcon:!1})},c.$3=function(){c.setState({isHoverDeleteIcon:!0})},c.$4=function(){c.setState({isHoverDeleteIcon:!1})},c.$5=function(a){var b={};Object.assign(b,c.props.label);b.color=a;c.props.onUpdate(b)},c.$6=function(){c.setState({isHover:!0})},c.$7=function(){c.setState({isHover:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a,c=this.props.label,d=this.props.onDelete;return(a=b("React")).jsx(b("XUICardSection.react"),{children:a.jsxs("div",{className:"_1wea","data-testid":"manage_label_row",onMouseEnter:this.$6,onMouseLeave:this.$7,children:[a.jsx(b("PagesManagerInboxLabelsColorSelector.react"),{defaultColor:c.color,onSelectColor:this.$5,showCaret:this.state.isHover}),a.jsx("span",{style:{flex:1},children:a.jsx("span",{className:"_1wf9",children:this.props.label.name})}),c.thread_count!=null?b("React").jsx("span",{className:"_2scb",children:c.thread_count}):null,this.props.onClickSearch?b("React").jsx(b("Tooltip.react"),{tooltip:i._("See conversations"),children:b("React").jsx(b("Image.react"),{className:"_73md",onClick:b("curry")(this.props.onClickSearch,c),onMouseEnter:this.$1,onMouseLeave:this.$2,src:this.state.isHoverEyeIcon?g("492046"):g("544369")})}):null,b("React").jsx(b("Tooltip.react"),{className:"_3-91","data-testid":"delete_label",tooltip:i._("Delete label"),children:b("React").jsx(b("Image.react"),{className:"_73md",onClick:b("curry")(d,c),onMouseEnter:this.$3,onMouseLeave:this.$4,src:this.state.isHoverDeleteIcon?g("367582"):g("396630")})})]})})};return c}(b("React").PureComponent);a.propTypes={onDelete:(c=b("prop-types")).func.isRequired,onUpdate:c.func.isRequired,label:c.object,hasErrorState:c.func,maxLength:c.number};e.exports=a}),null);
__d("PagesManagerInboxLabelsDialogNewLabelForm.react",["cx","fbt","PagesManagerInboxLabelsColorSelector.react","React","SUIBorderUtils","SUIBusinessTheme","SUIButton.react","SUITextInput.react","XUICard.react","XUICardSection.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="",j="FF5291FF";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={inputValue:i,isNameValid:!1,selectedColor:j},c.$1=function(){c.props.onAddLabel(c.state.inputValue,c.state.selectedColor),c.setState({inputValue:i,isNameValid:!1,selectedColor:j})},c.$3=function(a){c.setState({inputValue:a,isNameValid:!0})},c.$4=function(a){c.setState({selectedColor:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(){var a=this.props.hasErrorState(this.state.inputValue);a!==null&&a!==void 0&&a!==""&&this.setState({isNameValid:!1});return a};d.render=function(){var a;return(a=b("React")).jsx(b("XUICard.react"),{children:a.jsx(b("XUICardSection.react"),{children:a.jsxs("div",{className:"_466b","data-testid":"manage_label_dialog",children:[a.jsx(b("PagesManagerInboxLabelsColorSelector.react"),{defaultColor:j,onSelectColor:this.$4,showCaret:!0}),a.jsx("span",{style:{flex:1},children:a.jsx(b("SUITextInput.react"),{borderedSides:this.state.isFocused?b("SUIBorderUtils").ALL_SIDES:[],className:"_466c","data-testid":"create_label_name",errorMessage:this.$2(),isMaxLengthHidden:!0,maxLength:this.props.maxLength,onChange:this.$3,placeholder:h._("Name a label..."),styles:{label:{border:"none",height:26,background:"none"}},theme:b("SUIBusinessTheme"),value:this.state.inputValue})}),b("React").jsx(b("SUIButton.react"),{"data-testid":"add_label",disabled:this.state.inputValue===i||!this.state.isNameValid,label:h._("Add Label"),onClick:this.$1,theme:b("SUIBusinessTheme"),use:"confirm"})]})})})};return c}(b("React").PureComponent);a.propTypes={onAddLabel:b("prop-types").func.isRequired,hasErrorState:b("prop-types").func,maxLength:b("prop-types").number};e.exports=a}),null);
__d("PagesManagerInboxLabelsDialog.react",["cx","fbt","CustomLabelUtils","FluxContainer","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxLabelsDialogLabelRecord.react","PagesManagerInboxLabelsDialogNewLabelForm.react","React","ScrollableArea.react","XUICard.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("CustomLabelUtils").TAG_LIMIT,j=350,k=500,l=276,m=5;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.$2(!0,a)},d.$3=function(){var a=b("nullthrows")(d.state.deleteConfirmationDialogProps.label);d.props.onRemoveLabelFromThread(a);d.props.onDeleteLabel&&d.props.onDeleteLabel(a.id,a.name);d.$2(!1)},d.$5=function(a,b){d.props.onCreateLabel&&d.props.onCreateLabel(a,b)},d.$6=function(a){var c=d.state.activeSearchLabels.map(function(a){return a.getTitle()});c.indexOf(a.name)!==-1&&(b("PagesManagerInboxFilterAction").removeCustomLabel(a,d.props.pageID),b("PagesManagerInboxFilterAction").addCustomLabel(a,d.props.pageID));d.props.onUpdateLabel&&d.props.onUpdateLabel(a)},d.$7=function(a){if(d.props.labels.has(a))return h._("Label name must be unique.");if(a.indexOf(":")!==-1)return h._("Label name can not contain ':'.");return d.props.labels.size>=i?h._("You've reached the 200 labels limit. You can delete labels to add more."):null},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore")]};c.calculateState=function(){return{activeSearchLabels:b("PagesManagerInboxFilterStore").getCurrentSearchCustomLabels(),deleteConfirmationDialogProps:{show:!1,label:null}}};var d=c.prototype;d.$2=function(a,c){this.setState({deleteConfirmationDialogProps:{show:a,label:a?b("nullthrows")(c):null}})};d.$4=function(){var a=this,c;return(c=b("React")).jsxs(b("XUIDialog.react"),{"data-testid":"confirm_dialog",layerHideOnBlur:!1,onToggle:function(b){return!b&&a.$2(b)},shown:this.state.deleteConfirmationDialogProps.show,width:j,children:[c.jsx(b("XUIDialogTitle.react"),{showCloseButton:!1,children:h._("Delete Label From Page?")}),c.jsx(b("XUIDialogBody.react"),{children:h._("Deleted labels are removed and will no longer be used to describe or organize anyone on your Page.")}),c.jsxs(b("XUIDialogFooter.react"),{children:[c.jsx(b("XUIDialogCancelButton.react"),{}),c.jsx(b("XUIDialogButton.react"),{action:"confirm","data-testid":"delete_label_confirm",label:h._("Delete Label"),onClick:this.$3,use:"confirm"})]})]})};d.$8=function(){return b("React").jsx(b("PagesManagerInboxLabelsDialogNewLabelForm.react"),{hasErrorState:this.$7,maxLength:this.props.maxLength,onAddLabel:this.$5})};d.$9=function(){var a=this;if(this.props.labels.size===0)return null;var c=b("React").jsx(b("XUICard.react"),{children:this.props.labels.toArray().map(function(c){return b("React").jsx(b("PagesManagerInboxLabelsDialogLabelRecord.react"),{hasErrorState:a.$7,label:c,maxLength:a.props.maxLength,onDelete:a.$1,onUpdate:a.$6},c.id)})});return this.props.labels.size>m?b("React").jsx(b("ScrollableArea.react"),{className:"_73kz",maxHeight:l,children:c}):c};d.render=function(){var a;return(a=b("React")).jsxs(b("XUIDialog.react"),{onToggle:this.props.onToggle,shown:this.props.shown,width:k,children:[a.jsx(b("XUIDialogTitle.react"),{children:h._("Manage Labels")}),a.jsxs(b("XUIDialogBody.react"),{children:[a.jsx("div",{className:"_3uqr",children:h._("Use labels to help you describe and organize people. Labels can be about anything, such as customer type or previous orders. Only people who manage your Page can see labels.")}),this.$8(),this.$9(),this.$4()]})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("XMediaManagerFBCommsSetMessageSeenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fb_comms/set_message_seen/",{page_id:{type:"FBID"},tip_name:{type:"String",required:!0}})}),null);
__d("MediaManagerInboxFBCommsTabMessageRowContainer.react",["AsyncRequest","FluxContainer","Image.react","MediaManagerInboxFBCommsActions","PagesManagerAction","PagesManagerInboxListRow.react","PagesManagerStore","React","XMediaManagerFBCommsSetMessageSeenController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerInboxFBCommsActions").setFBCommsMessageSeen;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props.item.node;b("PagesManagerAction").viewListItem(a.id);if(a.clickedTime==null){a=b("XMediaManagerFBCommsSetMessageSeenController").getURIBuilder().setFBID("page_id",a.pageID).setString("tip_name",a.tipName).getURI();new(b("AsyncRequest"))(a).setHandler(function(a){a.payload&&g(d.props.pageID,d.props.item,a.payload)}).setErrorHandler(function(a){}).send()}},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerStore")]};c.calculateState=function(a,c){var d=!1,e=b("PagesManagerStore").getViewingListItem();c.item.node.id&&e&&(d=c.item.node.id===e);e=a!=null&&a.isRead||d||c.item.node.clickedTime!=null;return{isViewing:d,isRead:e}};var d=c.prototype;d.render=function(){if(this.props.item==null)return null;var a=this.props.item.node;return b("React").jsx(b("PagesManagerInboxListRow.react"),{commPlatform:"MEDIA_MANAGER_FB_COMMS",commStatus:null,commType:null,isRead:this.state.isRead,isViewing:this.state.isViewing,labels:null,pageID:this.props.pageID,profilePicElement:b("React").jsx(b("Image.react"),{src:"/images/fb_communications/glyph-app-facebook-circle-1x.png"}),rowIndex:this.props.rowIndex,snippetElement:a.body,subtitle:null,timestampInMS:(a.validationTime||0)*1e3,title:a.title,onViewingListItem:this.$1})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MediaManagerInboxPriorityTabTopMessageRow.react",["cx","MercuryIDs","MessengerState.re","PagesManagerInboxMessageListRowContainer.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.fetchThread()};d.componentDidUpdate=function(a){this.props.item.top_message_thread_id!==a.item.top_message_thread_id&&this.fetchThread()};d.fetchThread=function(){var a=this.props.item.top_message_thread_id;a=b("MercuryIDs").getThreadIDFromUserID(a);b("MessengerState.re").getThreadMeta(this.props.pageID,a,b("emptyFunction"),null);b("MessengerState.re").fetchMoreMessages(this.props.pageID,a,0,10,b("emptyFunction"),null,"mercury")};d.render=function(){var a=this,c=this.props.item.top_message_thread_id;return b("React").jsx(b("MessengerState.re").jsComponent,{fbid:this.props.pageID,children:function(d){d=b("MessengerState.re").thread(d,b("MercuryIDs").getThreadIDFromUserID(c));if(d==null){var e;return(e=b("React")).jsx("div",{className:"_2dqm",children:e.jsxs("div",{className:"_2iwq _2dqn",children:[e.jsx("div",{className:"_2iwr"}),e.jsx("div",{className:"_2iws"}),e.jsx("div",{className:"_2iwt"}),e.jsx("div",{className:"_2iwu"}),e.jsx("div",{className:"_2iww"}),e.jsx("div",{className:"_2iwx"})]})},c)}return b("React").jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:"MEDIA_MANAGER_PRIORITY",item:d,pageID:a.props.pageID,rowIndex:a.props.rowIndex,shouldAnimate:!1},c)}})};return c}(b("React").Component);e.exports=a}),null);
__d("MediaManagerInboxPriorityTabRowContainer.react",["FluxContainer","MediaManagerInboxCustomTabUtils","MediaManagerInboxPriorityTabActions","MediaManagerInboxPriorityTabTopMessageRow.react","PageCommItemReadEditMutation","PagesManagerAction","PagesManagerInboxListRow.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){var a=d.props.item.top_comment_content,c=a.parent_item.id;b("PagesManagerAction").viewListItem(c);b("MediaManagerInboxPriorityTabActions").onViewingPriorityItem(a.priority_type);b("PageCommItemReadEditMutation").commit({actor_id:d.props.pageID,ids:[c]})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerStore")]};c.calculateState=function(a,c){a=!1;var d=b("PagesManagerStore").getViewingListItem();c=b("MediaManagerInboxCustomTabUtils").getPriorityTabItemID(c.item);c&&d&&(a=c===d);return{isViewing:a}};var d=c.prototype;d.render=function(){switch(this.props.rowType){case"TOP_MESSAGES":return b("React").jsx(b("MediaManagerInboxPriorityTabTopMessageRow.react"),{item:this.props.item.top_message_content,pageID:this.props.pageID,rowIndex:this.props.rowIndex});case"TOP_COMMENTS":var a=this.props.item.top_comment_content;return b("React").jsx(b("PagesManagerInboxListRow.react"),{commPlatform:"MEDIA_MANAGER_PRIORITY",commStatus:a.comm_status,commType:a.comm_type,icons:a.comm_icon_type,isRead:a.parent_item.is_read,isViewing:this.state.isViewing,labels:null,pageID:this.props.pageID,profilePicElement:this.$1(),rowIndex:this.props.rowIndex,snippetWithEntities:a.top_comment_snippet,subtitle:null,timestampInMS:(a.last_modified_at||0)*1e3,title:(a=a.page_comm_item)==null?void 0:a.comm_title,onViewingListItem:this.$2});default:return null}};d.$1=function(){return b("React").jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:"FACEBOOK",commType:"FB_PAGE_POST_COMMENT",imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURI:this.props.item.top_comment_content.thumbnail.uri,showPlatformBadge:!0})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MediaManagerInboxList.react",["cssVar","MediaManagerInboxCustomTabUtils","MediaManagerInboxFBCommsTabMessageRowContainer.react","MediaManagerInboxPriorityMessageRow.react","MediaManagerInboxPriorityTabRowContainer.react","MediaManagerUtils","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAwayInfoRoot.react","PagesManagerInboxFilterStore","PagesManagerInboxListHeaderAutomatedFaqNux.react","PagesManagerInboxListHeaderAutomationNUX.react","PagesManagerInboxListHeaderInstagramDirectNux.react","PagesManagerInboxListHeaderPersonaNUX.react","PagesManagerInboxListRowContainer.react","PagesManagerInboxListSpinner.react","PagesManagerInboxMercuryUtil","PagesManagerInboxMessageListRowContainer.react","PagesMessagingInboxActionLogger","PagesMessagingPerfTypedLogger","PagesSelectableSimpleList.react","QuickPerformanceLogger","React","ResponsiveBlock.react","debounce"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MediaManagerUtils").isMediaManagerApp;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){return a.call(this,b,c)||this}var d=c.prototype;d.componentDidMount=function(){this.props.height!==0&&this.props.edges.length>0&&this.$1(),b("PagesMessagingInboxActionLogger").logInitialListRendered(this.props.filterType,this.props.pageID)};d.$1=function(){if(this.props.loadEndEventLogged===!0||this.props.loadStartTime===void 0||this.props.loadStartTime===null||this.props.logLoadEndEvent===null)return;var a=this.props.loadStartTime;a=new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.pageID).setPerfTime(Date.now()-a);this.props.filterType==="MESSENGER"&&(b("QuickPerformanceLogger").annotateMarkerString(36241413,"page_id",this.props.pageID),b("QuickPerformanceLogger").markerEnd(36241413,2),a.setEventName("threadlist_render_complete").setPlatform("MESSENGER").log(),this.props.logLoadEndEvent&&this.props.logLoadEndEvent());this.props.filterType==="FACEBOOK"&&(a.setEventName("comment_list_render_complete_event").setPlatform("FACEBOOK").log(),this.props.logLoadEndEvent&&this.props.logLoadEndEvent())};d.$2=function(a,c){b("PagesManagerAction").setListHeaderHeight(c)};d.$3=function(){return b("React").jsx(b("ResponsiveBlock.react"),{onResize:this.$2,children:b("React").jsx(b("PagesManagerInboxAwayInfoRoot.react"),{pageID:this.props.pageID,shouldShowUnifiedThreadlist:!1})})};d.render=function(){var a=this.props.height-this.props.paddingBottom;return this.props.edges.length?b("React").jsxs("div",{children:[this.$3(),b("React").jsxs(b("ResponsiveBlock.react"),{onResize:this.$2,children:[b("React").jsx(b("PagesManagerInboxListHeaderPersonaNUX.react"),{pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderAutomationNUX.react"),{filterType:this.props.filterType,pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderInstagramDirectNux.react"),{filterType:this.props.filterType,pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderAutomatedFaqNux.react"),{filterType:this.props.filterType,pageID:this.props.pageID})]}),b("React").jsx(i,{classProps:this.props,edges:this.props.edges,hasMore:this.props.hasMore,platform:this.props.filterType,scrollHeight:a})]}):b("React").jsxs("div",{style:{height:a,backgroundColor:"#FFFFFF"},children:[this.$3(),this.props.emptyState]})};return c}(b("React").PureComponent);function i(a){var c=a.edges;b("PagesManagerInboxFilterStore").getActiveFolder()===b("PageCommItemFolder").FOLLOW_UP&&b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER"&&(c=c.filter(function(a){return a.is_page_follow_up===!0}));return b("React").jsx(b("PagesSelectableSimpleList.react"),{canLoadMoreRows:a.hasMore,height:a.scrollHeight,loadingIndicator:b("React").jsx(b("PagesManagerInboxListSpinner.react"),{}),rowCount:c.length,rowHeight:parseInt("80px",10),rowKeyGetter:k(c,a.platform),rowRenderer:l(c,a.classProps),showHeader:!1,onRequestMoreRows:j(a.classProps.onLoadMore)})}function j(a){return b("debounce")(function(){return a()},100)}function k(a,c){return function(d,e,f){e===void 0;if(b("PagesManagerInboxMercuryUtil").shouldUseMercury())return a[d].thread_id;return c==="MEDIA_MANAGER_PRIORITY"?b("MediaManagerInboxCustomTabUtils").getPriorityRowKey(a[d].node):a[d].node.id}}function l(a,c){var d=c.pageID,e=c.filterType,f=c.isCreatorStudioPriorityFilter;return function(c,g,i){if(b("PagesManagerInboxMercuryUtil").shouldUseMercury())return e==="MESSENGER"&&f&&b("MediaManagerUtils").isMediaManagerApp()?b("React").jsx(b("MediaManagerInboxPriorityMessageRow.react"),{edges:a,pageID:d,rowIndex:c}):b("React").jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:e,item:a[c],pageID:d,rowIndex:c,shouldAnimate:!1},a[c].id);if(e==="MEDIA_MANAGER_PRIORITY")return b("React").jsx(b("MediaManagerInboxPriorityTabRowContainer.react"),{item:a[c].node,pageID:d,rowIndex:c,rowType:a[c].node.row_type});return e==="MEDIA_MANAGER_FB_COMMS"&&h()?b("React").jsx(b("MediaManagerInboxFBCommsTabMessageRowContainer.react"),{item:a[c],pageID:d,rowIndex:c}):b("React").jsx(b("PagesManagerInboxListRowContainer.react"),{item:a[c].node,pageID:d,rowIndex:c,shouldAnimate:!1},a[c].node.id)}}e.exports=a}),null);
__d("MediaManagerInboxFBCommsTabList.react",["MediaManagerInboxList.react","PageCommItemFolder","PagesManagerAction","PagesManagerInboxListEmptyState.react","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(){if(this.props.viewingItem==null){var a=this.props.messages[0]?this.props.messages[0].node.id:null;a!=null&&b("PagesManagerAction").viewListItem(a)}};d.render=function(){return b("React").jsx(b("MediaManagerInboxList.react"),{edges:this.props.messages,emptyState:b("React").jsx(b("PagesManagerInboxListEmptyState.react"),{folder:b("PageCommItemFolder").MEDIA_MANAGER_FB_COMMS,pageID:this.props.pageID,platform:"MEDIA_MANAGER_FB_COMMS",showNewFolder:!1}),filterType:"MEDIA_MANAGER_FB_COMMS",hasMore:!1,height:this.props.height,isCreatorStudioPriorityFilter:!1,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:!1,onLoadMore:b("emptyFunction")})};return c}(b("React").Component);e.exports=a}),null);
__d("MediaManagerInboxFBCommsTabListContainer.react",["FluxContainer","LoadObject","MediaManagerFBCommsStore","MediaManagerInboxFBCommsActions","MediaManagerInboxFBCommsTabList.react","PagesManagerInboxListLoading.react","PagesManagerStore","React","immutable","loadObjectComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerInboxFBCommsActions").loadFBCommsMessages,h=260;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={messages:b("LoadObject").loading(),viewingItem:null},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("MediaManagerFBCommsStore"),b("PagesManagerStore")]};c.calculateState=function(a,c){a=b("MediaManagerFBCommsStore").get(c.pageID);c=b("PagesManagerStore").getViewingListItem();return{messages:a,viewingItem:c}};var d=c.prototype;d.componentDidMount=function(){g(this.props.pageID)};d.render=function(){return b("React").jsx(i,{height:this.props.height,object:this.state.messages,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,viewingItem:this.state.viewingItem})};return c}(b("React").PureComponent);var i=b("loadObjectComponent")({loading:function(){return b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:h})},error:function(){return null},loaded:function(a,c){return b("React").jsx(b("MediaManagerInboxFBCommsTabList.react"),{height:c.height,messages:a.toArray(),paddingBottom:c.paddingBottom,pageID:c.pageID,viewingItem:c.viewingItem})}});e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MediaManagerInboxPlusPriorityEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"NONE",TOP_MESSAGES:"TOP_MESSAGES",TOP_COMMENTS:"TOP_COMMENTS",TOP_FB_COMMS:"TOP_FB_COMMS",ALL:"ALL"})}),null);
__d("MediaManagerInboxPriorityTabPaginationList.react",["MediaManagerInboxCustomTabUtils","MediaManagerInboxList.react","MediaManagerInboxPlusPriorityEnum","MediaManagerInboxPriorityTabActions","PageCommItemFolder","PagesManagerAction","PagesManagerInboxListEmptyState.react","React","RelayModern","emptyFunction","MediaManagerInboxPriorityTabPaginationList_viewer.graphql","MediaManagerInboxPriorityTabPaginationListPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isLoading:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.render=function(){var a,c=[];a=(a=this.props)!=null?(a=a.viewer)!=null?(a=a.inbox_priority_rows)!=null?a.edges:a:a:a;a&&(c=a.filter(function(a){return!!a.node}));return b("React").jsx(b("MediaManagerInboxList.react"),{edges:c,emptyState:b("React").jsx(b("PagesManagerInboxListEmptyState.react"),{folder:this.props.folder,pageID:this.props.pageID,platform:"MEDIA_MANAGER_PRIORITY",showNewFolder:!1}),filterType:"MEDIA_MANAGER_PRIORITY",hasMore:!1,height:this.props.height,isCreatorStudioPriorityFilter:this.props.folder===b("PageCommItemFolder").PRIORITY,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:!1,onLoadMore:b("emptyFunction")},"list"+this.props.folder)};d.$2=function(){var a=this;if(!this.props.relay.hasMore()||this.props.relay.isLoading())return;this.setState({isLoading:!0});this.props.relay.loadMore(10,function(b){a.setState({isLoading:!1})})};d.$1=function(){var a,c=[];a=(a=this.props)!=null?(a=a.viewer)!=null?(a=a.inbox_priority_rows)!=null?a.edges:a:a:a;a&&(c=a.filter(function(a){return!!a.node}));a=b("MediaManagerInboxCustomTabUtils").getPriorityTabItemID((a=c[0])==null?void 0:a.node);c=b("MediaManagerInboxCustomTabUtils").getPriorityTabItemRowType((c=c[0])==null?void 0:c.node);a!=null?(b("PagesManagerAction").viewListItem(a),b("MediaManagerInboxPriorityTabActions").onViewingPriorityItem(c)):b("PagesManagerAction").clearViewListItem()};return c}(b("React").Component);e.exports=a(c,{viewer:g!==void 0?g:g=b("MediaManagerInboxPriorityTabPaginationList_viewer.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.viewer)!=null?a.inbox_priority_rows:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=a.page_id;a=a.row_type;var d=b.count;b=b.cursor;return{count:d,cursor:b,page_id:c,row_type:a}},query:h!==void 0?h:h=b("MediaManagerInboxPriorityTabPaginationListPaginationQuery.graphql")})}),null);
__d("MediaManagerInboxPriorityTabListContainer.react",["ErrorBoundary.react","FluxContainer","MediaManagerInboxCustomTabUtils","MediaManagerInboxPriorityTabPaginationList.react","PagesManagerInboxFilterStore","PagesManagerInboxListLoading.react","React","RelayFBEnvironment","RelayModern","emptyFunction","MediaManagerInboxPriorityTabListContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxFilterStore")]};c.calculateState=function(){return{folder:b("PagesManagerInboxFilterStore").getActiveFolder()}};var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("emptyFunction"),children:b("React").jsx(h,{environment:b("RelayFBEnvironment"),query:g!==void 0?g:g=b("MediaManagerInboxPriorityTabListContainerQuery.graphql"),render:function(c){var d=c.error;c=c.props;if(c&&!d){d=!d&&c&&c.viewer?c.viewer:null;return b("React").jsx(b("MediaManagerInboxPriorityTabPaginationList.react"),{folder:a.state.folder,height:a.props.height,paddingBottom:a.props.paddingBottom,pageID:a.props.pageID,viewer:d})}return b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:a.props.height})},variables:{page_id:this.props.pageID,row_type:b("MediaManagerInboxCustomTabUtils").getPriorityTabGraphQLFilter(this.state.folder)}})})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MediaManagerInboxCustomTabMessageList.react",["MediaManagerInboxFBCommsTabListContainer.react","MediaManagerInboxPriorityTabListContainer.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){switch(this.props.tab){case"MEDIA_MANAGER_PRIORITY":return b("React").jsx(b("MediaManagerInboxPriorityTabListContainer.react"),{height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID});case"MEDIA_MANAGER_FB_COMMS":return b("React").jsx(b("MediaManagerInboxFBCommsTabListContainer.react"),{height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID});default:return null}};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MediaManagerInboxPriorityMessageUserList",["PageCommItemFolder","PagesManagerAction","PagesManagerInboxList.react","PagesManagerInboxListEmptyState.react","PagesManagerInboxListLoading.react","PagesManagerStore","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){var c=b("PagesManagerStore").getViewingListItem();if(c==null&&a.users.length>0){c=a.users[0];c!=null&&b("PagesManagerAction").viewListItem(c)}c=a.users.map(function(a){return{id:a}});return a.isLoading?b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:a.height}):b("React").jsx(b("PagesManagerInboxList.react"),{edges:c,emptyState:b("React").jsx(b("PagesManagerInboxListEmptyState.react"),{folder:a.folder,pageID:a.pageID,platform:"MESSENGER",showNewFolder:a.shouldShowNewMessengerFolder}),filterType:"MESSENGER",hasMore:!1,height:a.height,isCreatorStudioPriorityFilter:a.folder===b("PageCommItemFolder").PRIORITY,paddingBottom:a.paddingBottom,pageID:a.pageID,shouldShowPromoteButton:!1,onLoadMore:b("emptyFunction")},"list"+a.folder)};e.exports=a}),null);
__d("MediaManagerInboxPriorityMessageListContainer.react",["CreatorStudioInboxMessengerRankedUsersStore","FluxContainer","MediaManagerInboxPriorityMessageUserList","PagesManagerInboxFilterStore","PagesManagerInboxListEmptyState.react","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore"),b("CreatorStudioInboxMessengerRankedUsersStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getConfig(),c=b("PagesManagerInboxFilterStore").getActiveFolder(),d=b("CreatorStudioInboxMessengerRankedUsersStore").getRankedUserIDs(a.pageID),e=b("CreatorStudioInboxMessengerRankedUsersStore").isLoading();return{folder:c,isLoading:e,shouldShowNewMessengerFolder:a.inboxRedesignConfig.shouldShowNewMessengerFolder,shouldShowRankedUserList:a.fbMessengerState!=="DISABLED",users:d}};var d=c.prototype;d.render=function(){return!this.state.shouldShowRankedUserList?b("React").jsx(b("PagesManagerInboxListEmptyState.react"),{folder:this.state.folder,pageID:this.props.pageID,platform:"MESSENGER",showNewFolder:this.state.shouldShowNewMessengerFolder}):b("React").jsx(b("MediaManagerInboxPriorityMessageUserList"),{folder:this.state.folder,height:this.props.height,isLoading:this.state.isLoading,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowNewMessengerFolder:this.state.shouldShowNewMessengerFolder,users:this.state.users})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxListRelayContainer.react",["MediaManagerInboxLoggerActions","MediaManagerUtils","PageCommItemFolder","PageCommPlatform","PagesManagerAction","PagesManagerInboxActionType","PagesManagerInboxConnectionState.react","PagesManagerInboxList.react","PagesManagerInboxListEmptyState.react","PagesManagerInboxLogger","PagesManagerInboxStore","React","RelayModern","PagesManagerInboxListRelayContainer_page.graphql","PagesManagerInboxListRelayContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var i=20;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(d){__p&&__p();var e;e=a.call(this)||this;e.$1=function(){__p&&__p();var a,c,d=i,f={},g=function(d){if(a){var f;f=(f=e.props)!=null?(f=f.page)!=null?(f=f.business_comm_items)!=null?(f=f.edges)!=null?f.length:f:f:f:f;f=b("PagesManagerInboxLogger").create(b("PagesManagerInboxActionType").LIST.MORE_LOADED).setItemsCount(f).setLoadTime(Date.now()-a).setUsesStreamingPagination(!1).setHadError(!!d);c&&f.setFirstPayloadTime(c);d&&b("PagesManagerInboxLogger").logErrorJS(d,"PagesManagerInboxListRelayContainer.react");f.log()}};e.props.relay.loadMore(d,{start:function(){return a=Date.now()},next:function(){a&&!c&&(c=Date.now()-a)},complete:g,error:g},f)};e.state={sortedList:c.getSortedList(d)};return e}var d=c.prototype;d.$2=function(a){var c,d;d=(d=a)!=null?(d=d.business_comm_items)!=null?(d=d.edges)!=null?(d=d[0])!=null?(d=d.node)!=null?d.id:d:d:d:d:d;if(this.props.folder===b("PageCommItemFolder").PRIORITY&&((c=a.business_comm_items)==null?void 0:(c=c.edges[0])==null?void 0:(c=c.node)==null?void 0:c.__typename)==="PageCommItemPart"){d=(c=a.business_comm_items)==null?void 0:(a=c.edges[0])==null?void 0:(c=a.node)==null?void 0:(a=c.parent_item)==null?void 0:a.id}d?(b("MediaManagerUtils").isMediaManagerApp()&&b("MediaManagerInboxLoggerActions").logListRowIndex(0),b("PagesManagerAction").viewListItem(d)):b("PagesManagerAction").clearViewListItem()};d.componentDidMount=function(){this.$2(this.props.page),b("PagesManagerInboxLogger").logInitialListRendered(this.props.filterType,this.props.pageID)};d.UNSAFE_componentWillReceiveProps=function(a){a.page&&a.page.business_comm_items&&a.page.business_comm_items.edges&&this.setState({sortedList:c.getSortedList(a)})};c.getSortedList=function(a){a=(a=a)!=null?(a=a.page)!=null?(a=a.business_comm_items)!=null?a.edges:a:a:a;if(!a)return[];a=a.filter(function(a){return!!a});return a.concat().sort(function(a,b){return a.node.last_modified_at>b.node.last_modified_at?-1:1})};d.$3=function(){var a=this.props.page;if(!a)return!1;switch(this.props.filterType){case"MESSENGER":return a.comms_hub_config&&a.comms_hub_config.fb_messenger_state!=="DISABLED";case"INSTAGRAM":return a.ig_presence_account_info&&a.ig_presence_account_info.settings_webview_url;default:return!0}};d.$4=function(){return this.props.filterType==="INSTAGRAM"||this.props.filterType==="MESSENGER"||this.props.filterType==="INSTAGRAM_DIRECT"};d.$5=function(){if(!this.$3()&&this.$4())return b("React").jsx(b("PagesManagerInboxConnectionState.react"),{filterType:this.props.filterType,pageID:this.props.pageID,pageToken:b("PagesManagerInboxStore").getConfig().uriToken});else return b("React").jsx(b("PagesManagerInboxListEmptyState.react"),{folder:this.props.folder,pageID:this.props.pageID,platform:this.props.filterType,showNewFolder:this.props.showNewFolder})};d.render=function(){var a="list"+this.props.folder+this.props.filterType;return b("React").jsx(b("PagesManagerInboxList.react"),{edges:this.state.sortedList,emptyState:this.$5(),filterType:this.props.filterType,hasMore:this.props.relay.hasMore(),height:this.props.height,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,onLoadMore:this.$1,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:this.props.shouldShowPromoteButton},a)};return c}(b("React").Component);e.exports=a(c,{page:g!==void 0?g:g=b("PagesManagerInboxListRelayContainer_page.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.page)!=null?a.business_comm_items:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{count:c,cursor:b,filterStatus:a.filterStatus,pageID:a.page.id,platformFilter:a.filterType,isHighlightedComment:a.isHighlightedComment}},query:h!==void 0?h:h=b("PagesManagerInboxListRelayContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxMultiAdminSelector.react",["ix","cx","fbt","Image.react","PagesManagerAdminSearchSource","React","RelayModern","ScrollableArea.react","SearchableEntry","ShimButton.react","asset","nullthrows","PagesManagerInboxMultiAdminSelector_page.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k="ALL_CONVERSATIONS";c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$1=new(b("PagesManagerAdminSearchSource"))();c.$2=[];return c}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=b("nullthrows")(this.props.page.page_admin_users);this.$1.cacheData(a.nodes);this.$3(this.props.searchTerm)};d.UNSAFE_componentWillReceiveProps=function(a){a.searchTerm!==this.props.searchTerm&&this.$3(a.searchTerm)};d.render=function(){var a=this;return b("React").jsxs(b("ScrollableArea.react"),{height:this.props.height,children:[this.$4(),this.$5(),this.$2.map(function(b){return a.$6(b,function(){return a.props.onSelected(b.getUniqueID(),b.getPhoto(),b.getTitle())})})]})};d.$4=function(){var a=this;return this.$6(new(b("SearchableEntry"))({uniqueID:k,title:i._("All Conversations"),photo:g("487563")}),function(){return a.props.onSelected(null)})};d.$5=function(){var a=this;return this.$6(new(b("SearchableEntry"))({uniqueID:"NONE",title:i._("Unassigned Conversations"),photo:g("664708")}),function(){return a.props.onSelected("NONE")})};d.$6=function(a,c){return b("React").jsx(b("ShimButton.react"),{className:"_dy9"+(a.getUniqueID()===this.props.selectedAdminID||!this.props.selectedAdminID&&a.getUniqueID()===k?" _dyc":""),onClick:c,children:b("React").jsxs("div",{className:"_dyh",children:[b("React").jsx("div",{className:"_dyj",children:b("React").jsx(b("Image.react"),{className:"_dyk"+(a.getUniqueID()!=="NONE"&&a.getUniqueID()!==k?" _7xt_":""),src:a.getPhoto()})}),b("React").jsx("div",{className:"_dyj",children:a.getTitle()})]})},"admin_"+b("nullthrows")(a.getTitle()))};d.$3=function(a){var b=this;this.$1.search(a,function(a){b.$2=a},{placeCurrentAdminOnTop:!0})};return c}(b("React").PureComponent);e.exports=a(c,{page:j!==void 0?j:j=b("PagesManagerInboxMultiAdminSelector_page.graphql")})}),null);
__d("PagesManagerInboxMultiAdminSelectorRoot.react",["CenteredContainer.react","IGMessageDataMutateAction","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxFilterAction","PagesManagerInboxMultiAdminSelector.react","PagesManagerInboxQueryRenderer.react","PagesMangerInboxMultiAdminFilterUtil","React","RelayModern","SUIPagesManagerTheme","SUISpinner.react","PagesManagerInboxMultiAdminSelectorRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c,e,f){f===void 0&&(f=!1);if(d.props.filterType==="INSTAGRAM_DIRECT"||d.props.shouldShowUnifiedThreadlist){var g=d.props.threadManagementStatus;b("IGMessageDataMutateAction").forceFetchInbox(d.props.pageID,20,b("PageCommItemStatusUtil").getIGDirectFolder(g),g===b("PageCommItemFolder").FOLLOW_UP,g===b("PageCommItemFolder").UNREAD,(g=b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID(a))!=null?g:null,f)}b("PagesManagerInboxFilterAction").changeOwner(d.props.pageID,a,c,e);b("PagesManagerInboxFilterAction").toggleFilterSelector(!1);b("PagesManagerInboxFilterAction").toggleSearch(!1)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxMultiAdminSelectorRootQuery.graphql"),variables:{pageID:this.props.pageID},render:function(c){c.error;c=c.props;return c?b("React").jsx(b("PagesManagerInboxMultiAdminSelector.react"),babelHelpers["extends"]({height:a.props.height,onSelected:a.$1,searchTerm:a.props.searchTerm,selectedAdminID:a.props.selectedAdminID},c)):b("React").jsx("div",{style:{height:a.props.height},children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,vertical:!0,children:b("React").jsx(b("SUISpinner.react"),{size:"small",theme:b("SUIPagesManagerTheme")})})})}})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AssignedInstagramUserSerializedCryptoAuthTokenQuery",["RelayFBEnvironment","RelayModern","promiseDone","AssignedInstagramUserSerializedCryptoAuthTokenQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("AssignedInstagramUserSerializedCryptoAuthTokenQuery.graphql");a=function(a,c){b("promiseDone")(h(b("RelayFBEnvironment"),i,{pageID:a}),function(a){c((a=a.page)==null?void 0:(a=a.admin_info)==null?void 0:a.assigned_instagram_user_serialized_crypto_auth_token)})};e.exports={getAssignedInstagramUserSerializedCryptoAuthToken:a}}),null);
__d("IGMqttChannel",["FacebookAppIDs","MqttChannel","MqttEnvInitializer","MqttWebConfig"],(function(a,b,c,d,e,f){"use strict";b("MqttEnvInitializer").initialize();e.exports=new(b("MqttChannel"))({endpoint:(a=b("MqttWebConfig")).endpoint,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid,appId:b("FacebookAppIDs").PAGE_INBOX,initialSubscribedTopics:a.subscribedTopics,capabilities:a.capabilities,clientCapabilities:a.clientCapabilities,chatVisibility:!0})}),null);
__d("InstagramDirectDeltaHandler",["IGMessageDataMutateAction","IGMessageInboxStore","PagesCommsInboxTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="add",h="replace",i="remove",j=1,k=2,l=8;a={_convertToItemTypeEnum:function(a){__p&&__p();switch(a){case"text":return"TEXT";case"media":return"MEDIA";case"like":return"LIKE";case"voice_media":return"VOICE_MEDIA";case"raven_media":return"RAVEN_MEDIA";case"media_share":return"MEDIA_SHARE";case"story_share":return"STORY_SHARE";case"reel_share":return"REEL_SHARE";case"profile":return"PROFILE";case"felix_share":return"FELIX_SHARE";case"action_log":return"ACTION_LOG";case"placeholder":return"PLACEHOLDER";case"link":return"LINK";case"animated_media":return"ANIMATED_MEDIA";default:return"UNSUPPORTED"}},_getThreadIDFromPath:function(a){a=a.split("/");for(var b=0;b<a.length;++b)if(a[b]==="threads")return a[b+1];return""},_getIsMarkAsSeenFromPath:function(a){a=a.split("/");return a[a.length-1]==="has_seen"},_getUserIdFromPath:function(a){a=a.split("/");for(var b=0;b<a.length;++b)if(a[b]==="participants")return a[b+1];return""},_getBestVideoURLAndDimensions:function(a){__p&&__p();if(a===null||a===void 0||a.length===0)return null;var b=0,c=!1;for(var d=0;d<a.length;++d)if(a[d].width===480){c=!0;d===0?b=d:b=d-1;break}c===!1&&(b=a.length-1);return{uri:a[b].url,width:a[b].width,height:a[b].height}},_getBestImageURLAndDimensions:function(a){__p&&__p();if(a.candidates===null||a.candidates===void 0||a.candidates.length===0)return null;var b=!1;for(var c=0;c<a.candidates.length;++c)if(a.candidates[c].width===480)if(c===0)return{uri:a.candidates[c].url,width:a.candidates[c].width,height:a.candidates[c].height};else return{uri:a.candidates[c-1].url,width:a.candidates[c-1].width,height:a.candidates[c-1].height};if(b===!1)return{uri:a.candidates[a.candidates.length-1].url,width:a.candidates[a.candidates.length-1].width,height:a.candidates[a.candidates.length-1].height}},_getMediaTypeString:function(a){switch(a){case 1:return"IMAGE";case 2:return"VIDEO";default:return""}},_getRavenMediaViewMode:function(a){switch(a){case"replayable":return"REPLAYABLE";case"permanent":return"PERMANENT";case"once":return"VIEW_ONCE"}},_getMediaPayload:function(a){return a===null||a===void 0?null:{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions),expiring_at:a.expiring_at}},_getReactions:function(a,c,d){__p&&__p();if(a===null||a===void 0)return{likes_count:0};c=b("IGMessageInboxStore").getThread(c,d).getValue();if(c===null)return;var e=(d=c)!=null?(d=d.thread_users)!=null?d.nodes:d:d;if(e===null||e===void 0)return;c=a.likes.map(function(a){var b;return{instagram_user_id:a.sender_id.toString(),profile_picture:{uri:(b=e.find(function(b){return b.instagram_user_id===a.sender_id.toString()}))!=null?(b=b.profile_picture)!=null?b.uri:b:b}}});return{likes_count:a.likes_count,likes:c}},_getMediaShareMediaSource:function(a){switch(a.media_type){case j:return{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:null};case k:return{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions)}}},_getMediaShareSources:function(a){var b=this;switch(a.media_type){case j:case k:return[this._getMediaShareMediaSource(a)];case l:return a.carousel_media.map(function(a){return b._getMediaShareMediaSource(a)})}return[]},_getProfileSharePayload:function(a){var b=this,c=a.profile;if(c===null||c===void 0)return null;a=a.preview_medias===null||a.preview_medias===void 0?null:a.preview_medias.map(function(a){return b._getBestImageURLAndDimensions(a.image_versions2)});return{user:{instagram_user_id:c.pk,username:c.username,name:c.full_name,profile_picture:{uri:c.profile_pic_url}},media:a}},_getMediaSharePayload:function(a){return a===null||a===void 0?null:{user:{instagram_user_id:a.user.pk,username:a.user.username,name:a.user.full_name,profile_picture:{uri:a.user.profile_pic_url}},media:this._getMediaShareSources(a),text:(a=(a=a)!=null?(a=a.caption)!=null?a.text:a:a)!=null?a:""}},_getUserFromShare:function(a){return a===null||a===void 0?null:{instagram_user_id:a.pk.toString(),username:a.username,name:a.full_name,profile_picture:{uri:a.profile_pic_url}}},_getStoryMedia:function(a){return a===null||a===void 0?null:[{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions),expiring_at:a.expiring_at,media_owner:this._getUserFromShare(a.user)}]},__getFelixShareMedia:function(a){return a===null||a===void 0?null:[{media_type:a.media_type,image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions)}]},_getStoryType:function(a){switch(a){case"user_reel":return"USER_STORY";case"highlight_reel":return"HIGHLIGHT_STORY";case"ads_reel":return"ADS_STORY"}},_getStorySharePayload:function(a){if(a===null||a===void 0)return null;var b=this._getStoryMedia(a.media);return{media:b,user:this._getUserFromShare((b=a)!=null?(b=b.media)!=null?b.user:b:b),story_type:this._getStoryType(a.reel_type),text:a.text,title:a.title,message:a.message}},_getFelixSharePayload:function(a){if(a===null||a===void 0)return null;var b=this.__getFelixShareMedia(a.video);return{media:b,user:this._getUserFromShare((b=a)!=null?(b=b.video)!=null?b.user:b:b),text:a.text,title:a.video.title}},_getReelSharePayload:function(a){__p&&__p();var b;if(a===null||a===void 0)return null;var c=this._getStoryMedia(a.media),d;switch(a.type){case"mention":b=a.mentioned_user_id===a.reel_owner_id?(b=c)!=null?(b=b.media_owner)!=null?b.username:b:b:"";d={instagram_user_id:a.mentioned_user_id.toString(),username:b};break;case"reply":d=(b=c)!=null?(b=b[0])!=null?b.media_owner:b:b}return{media:c,user:d,story_type:this._getStoryType(a.reel_type),type:a.type.toUpperCase(),text:a.text,title:a.title,message:a.message}},_getSharePayload:function(a){switch(a.item_type){case"media_share":return this._getMediaSharePayload(a.media_share);case"story_share":return this._getStorySharePayload(a.story_share);case"reel_share":return this._getReelSharePayload(a.reel_share);case"felix_share":return this._getFelixSharePayload(a.felix_share)}},_getActionLogPayload:function(a){return a===null||a===void 0||a.hide_in_thread===1?null:{description:a.description,bold:a.bold}},_getLinkPayload:function(a){return a===null||a===void 0?null:{client_context:a.client_context,text:a.text,link_context:this._getLinkContext(a.link_context)}},_getLinkContext:function(a){return a===null||a==void 0?null:{link_url:a.link_url,link_title:a.link_title,link_summary:a.link_summary,link_image_url:a.link_image_url}},_getRavenMediaPayload:function(a){var b=a.raven_media;if(b===null||b===void 0)return null;var c=this._getRavenMediaViewMode(a.view_mode),d;c==="PERMANENT"&&(b.expiring_at=b.url_expire_at_secs,d=[this._getMediaPayload(b)]);return{media_type:this._getMediaTypeString(b.media_type),media:d,seen_user_ids:a.seen_user_ids,view_mode:c,seen_count:a.seen_count}},_getVisualMediaPayload:function(a){a=a.visual_media;if(a===null||a===void 0)return null;var b=this._getRavenMediaViewMode(a.view_mode),c=[];b==="PERMANENT"&&(a.expiring_at=a.url_expire_at_secs,c.push(this._getMediaPayload(a)));return{media_type:this._getMediaTypeString(a.media.media_type),media:c,seen_user_ids:a.seen_user_ids,view_mode:b,seen_count:a.seen_count}},_getPlaceholderPayload:function(a){return a===null||a===void 0?null:{title:a.title,message:a.message}},_getAnimatedMediaPayload:function(a){var b;return!a?null:{width:(b=(b=a)!=null?(b=b.images)!=null?(b=b.fixed_height)!=null?b.width:b:b:b)!=null?b:null,height:(b=(b=a)!=null?(b=b.images)!=null?(b=b.fixed_height)!=null?b.height:b:b:b)!=null?b:null,uri:(a=(b=a)!=null?(b=b.images)!=null?(b=b.fixed_height)!=null?b.url:b:b:b)!=null?a:null}},_getVoiceMediaPayload:function(a){var b;return!a?null:{audio_src:(b=a)!=null?(b=b.media)!=null?(b=b.audio)!=null?b.audio_src:b:b:b,duration:(b=a)!=null?(b=b.media)!=null?(b=b.audio)!=null?b.duration:b:b:b}},getDeltaItem:function(a,b){return{token:a,item_id:b.item_id,sender_id:b.user_id.toString(),time_stamp:b.timestamp.toString(),ig_item_type:this._convertToItemTypeEnum(b.item_type),text:b.text,client_context:b.client_context,ig_placeholder:this._getPlaceholderPayload(b.placeholder),profileshare:this._getProfileSharePayload(b),ig_reaction:null,share:this._getSharePayload(b),action_log:this._getActionLogPayload(b.action_log),ig_thread_item_media:this._getMediaPayload(b.media),raven_media:this._getRavenMediaPayload(b)||this._getVisualMediaPayload(b),link_source:this._getLinkPayload(b.link),animated_media:this._getAnimatedMediaPayload(b.animated_media),voice_media:this._getVoiceMediaPayload(b.voice_media)}},processDeltaItem:function(a,c,d){__p&&__p();var e,f=d.value&&JSON.parse(d.value),j=this._getThreadIDFromPath(d.path);e=b("IGMessageInboxStore").getItemToken(a,j,(e=f==null?void 0:f.item_id)!=null?e:d==null?void 0:d.value);new(b("PagesCommsInboxTypedLogger"))().setFunnel("user_send_to_page").setCustomerID(j).setMessageID(e).setEvent("received_new_delta").setClientTime(Date.now()).setPageID(c).setMessagingPlatform("instagram_direct").log();switch(d.op){case g:var k=this.getDeltaItem(e,f);b("IGMessageDataMutateAction").createThreadItem(c,j,k);break;case h:if(this._getIsMarkAsSeenFromPath(d.path)){k=f.item_id;b("IGMessageDataMutateAction").markThreadAsSeen(c,j,k,f.timestamp.toString(),this._getUserIdFromPath(d.path));break}b("IGMessageDataMutateAction").updateThreadReadStatus(c,j,f.read_state===0);b("IGMessageDataMutateAction").updateThreadFollowUpStatus(c,j,f.thread_label===1);if(f.thread_id&&f.items&&f.items[0]){k=b("IGMessageInboxStore").getItemToken(a,f.thread_id,f.items[0].item_id);d=this.getDeltaItem(k,f.items[0]);b("IGMessageDataMutateAction").createThreadItem(c,j,d);break}a=this._getReactions(f.reactions,c,j);k=this._getRavenMediaPayload(f)||this._getVisualMediaPayload(f);b("IGMessageDataMutateAction").updateThreadItem(c,j,e,{ig_reaction:a,raven_media:k});break;case i:if(j&&!f){b("IGMessageDataMutateAction").deleteThread(c,j);break}b("IGMessageDataMutateAction").deleteThreadItem(c,j,e);break;default:return}}};e.exports=a}),null);
__d("PageInstagramDirectSyncProtocolEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MQTT_CONNECTED:"mqtt_connected",MQTT_ERROR_RECEIVED:"mqtt_error_received",AUTH_TOKEN_FETCHED:"auth_token_fetched",IRIS_CONNECTION_REQUEST:"iris_connection_request",IRIS_SUBSCRIPTION_PUBLISHED:"iris_subscription_published",IRIS_SUBSCRIPTION_RESPONSE_EMPTY:"iris_subscription_response_empty",IRIS_SUBSCRIPTION_RESPONSE_RECEIVED:"iris_subscription_response_received"})}),null);
__d("InstagramDirectMessageEventStream",["AssignedInstagramUserSerializedCryptoAuthTokenQuery","IGMessageDataMutateAction","IGMessagingLocalIDs","IGMqttChannel","InstagramDirectDeltaHandler","MercurySingletonProvider","MercurySyncDeltaHolder","MqttLogger","PageInstagramDirectSyncProtocolEvent","PageInstagramDirectSyncProtocolTypedLogger","PagesManagerInboxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AssignedInstagramUserSerializedCryptoAuthTokenQuery").getAssignedInstagramUserSerializedCryptoAuthToken;a=function(){__p&&__p();a.getForFBID=function(a){return h.getForFBID(a)};function a(a){__p&&__p();var c=this;this.$17=function(a){new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").AUTH_TOKEN_FETCHED).setInstagramUserID(c.$8).setPageID(c.$1).setSessionID(c.$11).log();a={seq_id:c.$5,snapshot_at_ms:c.$10!==null&&c.$10!==void 0?c.$10:Date.now(),subscription_type:"all_message",serialized_crypto_auth_token:a};c.$3.publish("/ig_sub_iris",JSON.stringify(a));new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").IRIS_SUBSCRIPTION_PUBLISHED).setInstagramUserID(c.$8).setPageID(c.$1).setSessionID(c.$11).log()};this.$4="Disconnected";this.$6=[];this.$2=b("MqttLogger").getInstance();this.$7=b("MercurySyncDeltaHolder").getForFBID(a);this.$5=0;this.$9=!1;this.$12=!1}var c=a.prototype;c.getLatestIrisSeqID=function(){return this.$5};c.addDeltaStreamListener=function(a){this.$6.push(a)};c.onInboxLoad=function(a,c,d,e,f,g){__p&&__p();var h=this;e===void 0&&(e=null);f===void 0&&(f=null);this.$5=a;this.$8=c;this.$1=d;this.$9=!1;this.$7.updateLastSeqIDAndClearHistory(a);this.$10=f;this.$12=g;(this.$3===null||this.$3===void 0)&&(this.$11=b("IGMessagingLocalIDs").generateOfflineThreadingID(Date.now()),this.$3=e||b("IGMqttChannel"),this.$3.subscribeChannelEvents({onMQTTStateChanged:function(a){h.$4!=="Connected"&&a==="Connected"&&(new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").MQTT_CONNECTED).setPageID(h.$1).setInstagramUserID(h.$8).setSessionID(h.$11).log(),h.$13()),h.$4=a},onJSError:function(a){new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").MQTT_ERROR_RECEIVED).setPageID(h.$1).addToExtraData("error",a.message).setInstagramUserID(h.$8).setSessionID(h.$11).log(),h.$14(a.message)}}),this.$3.subscribe("/ig_sub_iris_response",function(a){return h.$15(a)}),this.$3.subscribe("/ig_message_sync",function(a){return h.$16(a)}),this.$3.subscribe("/notify_disconnect",function(a){return h.$14(a)}))};c.$13=function(){if(this.$12){var a;a=(a=b("PagesManagerInboxStore").getBusinessInboxAppConfig())==null?void 0:(a=a.instagramDirectConfig)==null?void 0:a.chatToken;this.$17(a)}else g(this.$1,this.$17)};c.$18=function(a){var b=null;try{b=JSON.parse(a)}catch(a){this.$2.logError(a,"Unable to process data")}return b};c.$15=function(a){a=this.$18(a);if(a===null||a===void 0){new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").IRIS_SUBSCRIPTION_RESPONSE_EMPTY).setInstagramUserID(this.$8).setPageID(this.$1).setSessionID(this.$11).log();return}new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").IRIS_SUBSCRIPTION_RESPONSE_RECEIVED).setInstagramUserID(this.$8).setPageID(this.$1).setSessionID(this.$11).log()};c.$16=function(a){var b=this;a=this.$18(a);if(a===null||a===void 0)return;a.forEach(function(a){a.data.forEach(function(c){b.$7.push(a.seq_id,c),b.$19()})})};c.$19=function(){__p&&__p();if(this.$9)return;var a=this.$7.peek();if(a===null||a===void 0)return;a=a-this.$7.getLastSeqID();if(a===1){var c=this.$7.pop();if(!c)return;var d=c.seqID;c=c.delta;this.$5=d;this.$7.updateLastSeqID(d);b("InstagramDirectDeltaHandler").processDeltaItem(this.$8,this.$1,c);this.$19()}else a<=0?(this.$7.pop(),this.$19()):(this.$9=!0,b("IGMessageDataMutateAction").forceFetchInbox(this.$1,20,"TODO",!1,!1,null,this.$12))};c.$14=function(a){this.$4="Disconnected",this.$2.logWarn("_handleNotifyDisconnect","Disconnecting reason: "+a),this.$2.bumpCounter(a+"_request"),this.$6.forEach(function(b){return b.onStreamDisconnect(a)})};return a}();var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("PagesManagerInboxListFluxContainer.react",["cssVar","cx","fbt","BulkActionsContext","FluxContainer","Image.react","JSResource","MediaManagerInboxCustomTabMessageList.react","MediaManagerInboxCustomTabUtils","MediaManagerInboxPriorityMessageListContainer.react","MediaManagerUtils","PageCommItemFolder","PageCommItemIsReadStatus","PageCommItemStatusUtil","PageCommPlatform","PageManagerInboxLabelThreadSearch.react","PageManagerInboxThreadContentSearch.react","PagesManagerAction","PagesManagerInboxAwayInfoRoot.react","PagesManagerInboxConnectionState.react","PagesManagerInboxFilterStateView.react","PagesManagerInboxFilterStore","PagesManagerInboxListAction","PagesManagerInboxListLoading.react","PagesManagerInboxListRelayContainer.react","PagesManagerInboxListSearchResults.react","PagesManagerInboxMercuryUtil","PagesManagerInboxMessageListContainer.react","PagesManagerInboxMultiAdminSelectorRoot.react","PagesManagerInboxQueryRenderer.react","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","PagesManagerMessagingLogger","PagesManagerStore","PagesMessagingPerfTypedLogger","React","RelayModern","ResponsiveBlock.react","ScrollableArea.react","UnifiedInboxUnifiedThreadlistContainer.react","lazyLoadComponent","nullthrows","PagesManagerInboxListFluxContainerQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("MediaManagerUtils").isMediaManagerApp,l=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist;b("RelayModern").graphql;var m=47,n=b("lazyLoadComponent")(b("JSResource")("UnifiedInboxIGMessageListContainer.react").__setRef("PagesManagerInboxListFluxContainer.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore"),b("PagesManagerStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getConfig(),c=b("PagesManagerInboxStore").getBusinessInboxAppConfig(),d=b("PagesManagerInboxFilterStore").getActiveType(),e=d==="MESSENGER"||d==="INSTAGRAM_DIRECT"?b("PagesManagerInboxFilterStore").getActiveOwner():null,f=a.platformConfigs[d],g=d==="INSTAGRAM_DIRECT"?a.platformConfigs.MESSENGER.canManageComments:!1,h=b("PagesManagerInboxFilterStore").getActiveUTLFolder(),i=null;if(d==="INSTAGRAM_DIRECT"){i=c!=null?(d=c.instagramDirectConfig)==null?void 0:d.igAccountID:b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT.igAccountID}return{canShowConnectButton:b("PagesManagerInboxStore").getConfig().showConnectButton===!0,filterFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),filterOwner:e,filterType:b("PagesManagerInboxFilterStore").getActiveType(),isSearchActive:b("PagesManagerInboxFilterStore").getIsSearchActive(),pageCustomerID:b("PagesManagerInboxFilterStore").getPageCustomerID(),igAccountID:i,pageID:a.pageID,searchTerm:b("PagesManagerInboxFilterStore").getSearchTerm(),searchType:b("PagesManagerInboxFilterStore").getSearchType(),viewingItem:b("PagesManagerStore").getViewingListItem(),activeSearchLabels:b("PagesManagerInboxFilterStore").getCurrentSearchCustomLabels(),shouldShowPromoteButton:f.showPromoteButton,showNewFolder:b("PageCommItemStatusUtil").getFolderQECheck(),commentConnected:g,shouldUseUnifiedThreadlist:l(),bulkActionsContext:{selectedThreads:b("PagesManagerStore").getSelectedThreads().toArray(),showBulkSelection:b("PagesManagerInboxStore").shouldShowBulkActions()&&b("PagesManagerStore").isBulkSelectionMode()},messengerDisabled:b("PagesManagerInboxStore").getConfig().fbMessengerState==="DISABLED",shouldShowIGDirectAutomatedResponse:b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse,utlFolderType:h}};function c(b,c){return a.call(this,b)||this}var d=c.prototype;d.componentDidMount=function(){this.state.filterType==="MESSENGER"&&b("PagesManagerMessagingLogger").logMessagesSectionViewEvent(this.props.mailboxID,null,this.state.filterType),(this.state.filterType==="MESSENGER"||this.state.filterType==="WEC"||this.state.filterType==="INSTAGRAM_DIRECT")&&(b("PagesManagerMessagingLogger").logPageViewFolderEventForInbox(this.props.mailboxID,b("PagesManagerInboxFilterStore").getActiveFolder(),"new_message_tab"),this.state.isSearchActive||new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.mailboxID).setEventName("threadlist_load_more").setThreadOffset(0).log())};d.$1=function(a,c){a&&!c?b("PagesManagerInboxListAction").setInboxListResponseData(!0):!a&&!c&&b("PagesManagerInboxListAction").setInboxListResponseData(!1)};d.$2=function(){var a,c=b("PageCommItemStatusUtil").getIsFilter(this.state.filterFolder);a=((a=this.state.filterOwner)==null?void 0:a.id)!=null;c=this.state.showNewFolder&&(c||a)&&!k();return c?b("React").jsx(b("PagesManagerInboxFilterStateView.react"),{filterFolder:this.state.filterFolder,filterOwner:this.state.filterOwner,mailboxID:this.props.mailboxID,platform:this.state.filterType,shouldUseUnifiedThreadlist:this.state.shouldUseUnifiedThreadlist}):null};d.$3=function(){return b("React").jsx(b("ScrollableArea.react"),{height:this.props.height,children:this.state.searchTerm===""&&this.state.activeSearchLabels.length===0?b("React").jsxs("div",{className:"_7_fp",children:[b("React").jsx("div",{children:b("React").jsx(b("Image.react"),{src:"/images/pages/pages_manager/inbox/search-empty-state.png"})}),b("React").jsx("div",{className:"_7_fq",children:this.state.searchType==="CONTENT"?i._("Search your Messenger conversations for message content."):i._("Search for people and labels across Facebook, Messenger and Instagram. You also can search your Messenger conversations for message content.")})]}):null})};d.$4=function(a,c){b("PagesManagerAction").setListHeaderHeight(c)};d.$5=function(){return this.state.shouldShowIGDirectAutomatedResponse===!1?null:b("React").jsx(b("ResponsiveBlock.react"),{onResize:this.$4,children:b("React").jsx(b("PagesManagerInboxAwayInfoRoot.react"),{pageID:this.props.mailboxID,shouldShowUnifiedThreadlist:!1})})};d.render=function(){__p&&__p();var a=this;if(this.state.isSearchActive&&this.state.searchType==="ADMIN"){var c=this.state.filterOwner?this.state.filterOwner.id:null;return b("React").jsx(b("PagesManagerInboxMultiAdminSelectorRoot.react"),{filterType:this.state.filterType,height:this.props.height,pageID:this.props.mailboxID,searchTerm:this.state.searchTerm,selectedAdminID:c,shouldShowUnifiedThreadlist:this.state.shouldUseUnifiedThreadlist,threadManagementStatus:this.state.filterFolder})}if(this.state.isSearchActive&&this.state.searchType==="CONTENT")return this.state.searchTerm.length<3?this.$3():b("React").jsx(b("ScrollableArea.react"),{height:this.props.height,children:b("React").jsx(b("PageManagerInboxThreadContentSearch.react"),{filterType:this.state.filterType,height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,searchTerm:this.state.searchTerm,shouldShowPromoteButton:this.state.shouldShowPromoteButton})});if(this.state.isSearchActive&&this.state.searchType==="CUSTOMER"&&this.state.searchTerm!=="")return b("React").jsx(b("ScrollableArea.react"),{height:this.props.height,children:b("React").jsx(b("PagesManagerInboxListSearchResults.react"),{height:this.props.height,pageCustomerID:b("nullthrows")(this.state.pageCustomerID),useNewLabelSearch:this.state.searchType!=="CUSTOMER",viewingItem:this.state.viewingItem})});if(this.state.isSearchActive&&this.state.searchType==="LABEL")return this.state.isSearchActive&&this.state.activeSearchLabels.length===0?this.$3():b("React").jsx(b("ScrollableArea.react"),{height:this.props.height,children:b("React").jsx(b("BulkActionsContext").Provider,{value:this.state.bulkActionsContext,children:b("React").jsx(b("PageManagerInboxLabelThreadSearch.react"),{height:this.props.height,labels:this.state.activeSearchLabels})})});var d=b("PageCommItemStatusUtil").getFolderStatus(this.state.filterFolder);if(this.state.filterType==="WEC"&&!this.props.mailboxID)return b("React").jsx("div",{style:{backgroundColor:"#FFFFFF"},children:b("React").jsx(b("PagesManagerInboxConnectionState.react"),{filterType:"WEC",pageID:this.state.pageID,pageToken:""})});c=this.$2()===null?this.props.height:this.props.height-m;if(this.state.shouldUseUnifiedThreadlist&&this.state.utlFolderType==="ALL"&&(this.state.filterType==="INSTAGRAM_DIRECT"||this.state.filterType==="MESSENGER")){var e=null;this.state.filterOwner&&this.state.filterOwner.id&&(e=this.state.filterOwner.id);return b("React").jsxs("div",{children:[this.$2(),b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:this.props.height}),children:b("React").jsx(b("UnifiedInboxUnifiedThreadlistContainer.react"),{canShowConnectButton:this.state.canShowConnectButton,commItemOwnerID:e,height:c,igCommentConnected:(e=this.state.commentConnected)!=null?e:!1,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,mailboxID:this.props.mailboxID,messengerDisabled:this.state.messengerDisabled,paddingBottom:this.props.paddingBottom,pageID:this.state.pageID,shouldShowPromoteButton:this.state.shouldShowPromoteButton,threadManagementStatus:this.state.filterFolder,viewingItemToken:this.state.viewingItem})})]})}if(this.state.filterType==="INSTAGRAM_DIRECT"||this.state.shouldUseUnifiedThreadlist&&this.state.utlFolderType==="INSTAGRAM_DIRECT"&&b("PagesManagerInboxMercuryUtil").shouldUseMercury()){e=(e=this.state.commentConnected)!=null?e:!1;return b("React").jsxs("div",{children:[this.$2(),this.$5(),b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:this.props.height}),children:b("React").jsx(n,{commentConnected:e,filterOwner:this.state.filterOwner,height:c,igAccountID:this.state.igAccountID,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,mailboxID:this.props.mailboxID,paddingBottom:this.props.paddingBottom,pageID:this.state.pageID,showNewFolder:this.state.showNewFolder,threadManagementStatus:this.state.filterFolder,viewingItemToken:this.state.viewingItem})})]})}else if(b("PagesManagerInboxMercuryUtil").shouldUseMercury())return this.state.filterType==="MESSENGER"&&this.state.filterFolder===b("PageCommItemFolder").PRIORITY&&k()?b("React").jsxs("div",{children:[this.$2(),b("React").jsx(b("MediaManagerInboxPriorityMessageListContainer.react"),{height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,viewingItem:this.state.viewingItem})]}):b("React").jsxs("div",{children:[this.$2(),b("React").jsx(b("PagesManagerInboxMessageListContainer.react"),{commItemOwnerID:this.state.filterOwner?this.state.filterOwner.id:null,filterType:this.state.filterType,height:c,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,shouldShowPromoteButton:this.state.shouldShowPromoteButton,viewingItem:this.state.viewingItem})]});if(b("MediaManagerInboxCustomTabUtils").shouldShowMediaManagerCustomTab(this.state.filterType))return b("React").jsx(b("MediaManagerInboxCustomTabMessageList.react"),{height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,tab:this.state.filterType});var f=this.state.filterFolder===b("PageCommItemFolder").UNREAD?b("PageCommItemIsReadStatus").UNREAD:null,g=this.state.filterOwner?this.state.filterOwner.id:null;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{cacheConfig:{force:!0},query:j!==void 0?j:j=b("PagesManagerInboxListFluxContainerQuery.graphql"),render:function(c){var e=c.error;c=c.props;a.$1(c,e);return c&&!e?b("React").jsxs("div",{children:[a.$2(),b("React").jsx(b("PagesManagerInboxListRelayContainer.react"),{filterIsReadStatus:f,filterOwnerID:g,filterStatus:d,filterType:a.state.filterType,folder:a.state.filterFolder,height:a.props.height,isHighlightedComment:a.state.filterFolder===b("PageCommItemFolder").PRIORITY,loadEndEventLogged:a.props.loadEndEventLogged,loadStartTime:a.props.loadStartTime,logLoadEndEvent:a.props.logLoadEndEvent,paddingBottom:a.props.paddingBottom,page:c.page,pageID:a.props.mailboxID,shouldShowPromoteButton:a.state.shouldShowPromoteButton,showNewFolder:a.state.showNewFolder,viewingItem:a.state.viewingItem})]}):b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:a.props.height})},variables:{filterStatus:d,pageID:this.props.mailboxID,platformFilter:this.state.filterType,filterIsReadStatus:f,filterOwnerID:g,isHighlightedComment:this.state.filterFolder===b("PageCommItemFolder").PRIORITY}})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxMessengerRoot.react",["ErrorBoundary.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxLogger","PagesManagerInboxMessageBasicContainer.react","PagesManagerInboxQueryUtil","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderDetailView=function(a){var c=a.error;a=a.props;d.$1(a,c);return a&&!c?b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesManagerInboxMessageBasicContainer.react"),babelHelpers["extends"]({commSourceID:d.props.listItemKey,height:d.props.height,mailboxID:d.props.mailboxID,paddingBottom:d.props.paddingBottom},a))}):b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c){if(!this.props.listItemKey)return;a&&!c?b("PagesManagerInboxLogger").itemInitialDataLoaded(this.props.listItemKey):!a&&!c&&b("PagesManagerInboxLogger").startLoadingItem(this.props.listItemKey)};d.render=function(){return!this.props.listItemKey?this.props.isListLoading?b("React").jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.props.height}):null:b("PagesManagerInboxQueryUtil").renderWithMessengerThreadQuery(this.props.listItemKey,this.props.mailboxID,this.onRenderDetailView)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavListView.react",["cx","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAutomationToastContainer.react","PagesManagerInboxBanToastContainer.react","PagesManagerInboxBulkActionsNoticeContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxFolderChangeNoticeContainer.react","PagesManagerInboxListFluxContainer.react","PagesManagerInboxListHeaderTopNav.react","PagesManagerInboxOldListHeaderTopNav.react","PagesManagerInboxSavedRepliesUpsellToastContainer.react","PagesManagerInboxStore","React","ResponsiveBlock.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(){this.props.filterType==="INSTAGRAM_DIRECT"&&this.props.filterFolder===b("PageCommItemFolder").TODO&&b("PagesManagerAction").setListHeaderHeight(0)};d.$1=function(a,c){b("PagesManagerAction").setListNavigationHeight(c)};d.render=function(){var a=b("PagesManagerInboxStore").getMailboxID(this.props.filterType),c=this.props.selectedThreads?this.props.selectedThreads.count():0;return b("React").jsxs("div",{className:"_6j3i",children:[b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()&&this.props.isSearchActive?null:b("React").jsx(b("ResponsiveBlock.react"),{onResize:this.$1,children:this.props.showNewFolder||this.props.shouldShowUnifiedThreadlist&&(this.props.filterType==="INSTAGRAM_DIRECT"||this.props.filterType==="MESSENGER")?b("React").jsx(b("PagesManagerInboxListHeaderTopNav.react"),{allLabels:this.props.allLabels,allowBulkSelection:this.props.allowBulkSelection,filterOwner:this.props.filterOwner,filterType:this.props.filterType,folderSelected:this.props.filterFolder,isBulkSelectionMode:this.props.isBulkSelectionMode,isFilterChangeActive:this.props.isFilterChangeActive,isFolderChangeActive:this.props.isFolderChangeActive,isSearchActive:this.props.isSearchActive,mailboxID:a,pageID:this.props.pageID,searchTerm:this.props.searchTerm,searchType:this.props.searchType,selectedCommentView:this.props.selectedCommentView,selectedCustomerID:this.props.selectedCustomerID,selectedThreadsCount:c,shouldShowUnifiedThreadlist:this.props.shouldShowUnifiedThreadlist,showNewFolder:this.props.showNewFolder}):b("React").jsx(b("PagesManagerInboxOldListHeaderTopNav.react"),{allLabels:this.props.allLabels,allowBulkSelection:this.props.allowBulkSelection,filterOwner:this.props.filterOwner,filterType:this.props.filterType,folderSelected:this.props.filterFolder,isBulkSelectionMode:this.props.isBulkSelectionMode,isFolderChangeActive:this.props.isFolderChangeActive,isSearchActive:this.props.isSearchActive,mailboxID:a,pageID:this.props.pageID,searchTerm:this.props.searchTerm,searchType:this.props.searchType,selectedCommentView:this.props.selectedCommentView,selectedCustomerID:this.props.selectedCustomerID,selectedThreadsCount:c,showNewFolder:this.props.showNewFolder})}),b("React").jsxs("div",{className:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"_8daj":"_29xb",children:[b("React").jsx(b("PagesManagerInboxListFluxContainer.react"),{height:this.props.height,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,mailboxID:a,onSelectionChange:b("PagesManagerAction").handleSelectionMapChange,paddingBottom:0,pageName:this.props.pageName}),b("React").jsx(b("PagesManagerInboxFolderChangeNoticeContainer.react"),{pageID:a}),b("React").jsx(b("PagesManagerInboxBulkActionsNoticeContainer.react"),{}),b("React").jsx(b("PagesManagerInboxBanToastContainer.react"),{pageID:a}),b("React").jsx(b("PagesManagerInboxAutomationToastContainer.react"),{activeType:this.props.filterType,commItemFolder:this.props.filterFolder,pageID:a,selectedCustomerID:this.props.selectedCustomerID}),b("React").jsx(b("PagesManagerInboxSavedRepliesUpsellToastContainer.react"),{})]})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNewMessengerRoot.react",["ErrorBoundary.react","PagesManagerInboxLogger","PagesManagerInboxNewMessageBasicContainer.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.listItemKey!==null&&this.props.listItemKey!==void 0&&b("PagesManagerInboxLogger").startLoadingItem(this.props.listItemKey)};d.render=function(){return this.props.listItemKey===null||this.props.listItemKey===void 0||this.props.listItemKey===0?null:b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesManagerInboxNewMessageBasicContainer.react"),babelHelpers["extends"]({commSourceID:this.props.listItemKey,height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID},this.props))})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxRealtimeClock.react",["DateTime","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=6e4;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={currentTime:b("DateTime").now(c.timezoneID)};return d}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=setInterval(function(){return a.setState({currentTime:b("DateTime").now(a.props.timezoneID)})},g)};d.componentWillUnmount=function(){this.$1&&clearInterval(this.$1)};d.render=function(){return b("React").jsx("span",{children:this.state.currentTime.format("g:i A")})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxDeleteNoteMutation",["RelayAPIConfig","RelayFBEnvironment","RelayModern","PagesManagerInboxDeleteNoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxDeleteNoteMutation.graphql");function a(a,c){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,note_id:a.noteID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerPageCommItemDeleteSubscriptionHandler",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=0,i={_generateToken:function(){return"page_comm_item_delete_subscription_"+h++},addCallback:function(a){var b=i._generateToken();g.set(b,a);return b},removeCallback:function(a){g["delete"](a)},trigger:function(a){g.forEach(function(b){return b(a)})}};e.exports=i}),null);
__d("PagesManagerPageCommItemDeleteSubscription",["PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerPageCommItemDeleteSubscriptionHandler","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerPageCommItemDeleteSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription,j=g!==void 0?g:g=b("PagesManagerPageCommItemDeleteSubscription.graphql");function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.page_id);if(!d)return;c=c.getRootField("page_comm_item_delete_subscribe");if(!c)return;c=String(c.getValue("page_comm_item_id"));if(!c)return;d=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder()),with_comm_platform:b("PagesManagerInboxFilterStore").getActiveType(),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});d&&(b("PagesManagerAction").clearViewListItem(),h.deleteNode(d,c))},e=function(a){b("PagesManagerPageCommItemDeleteSubscriptionHandler").trigger(a),c&&c.onNext&&c.onNext(a)};return i(b("RelayFBEnvironment"),{subscription:j,variables:{input:a},updater:d,onCompleted:c&&c.onCompleted,onError:c&&c.onError,onNext:e})}e.exports={subscribe:a}}),null);
__d("PagesManagerPageCommItemEditSubscription",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","PagesManagerInboxStore","PagesManagerPageCommItemEditSubscriptionHandler","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerPageCommItemEditSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription,j=g!==void 0?g:g=b("PagesManagerPageCommItemEditSubscription.graphql");function k(a,b){a=a.getLinkedRecords("edges");if(!a)return null;var c=null;a.forEach(function(a){var d=a&&a.getLinkedRecord("node");d&&d.getValue("id")===b&&(c=a)});return c}function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.page_id);if(!d)return;var e=c.getRootField("page_comm_item_edit_subscribe");if(!e)return;e=e.getLinkedRecord("page_comm_item");if(!e)return;var f=String(e.getValue("id"));if(!f)return;var g=e.getValue("comm_status"),i=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder()),j=b("PagesManagerInboxStore").getConfig().platformConfigs,l=b("PagesManagerInboxFilterStore").getActiveType(),m=e.getLinkedRecord("comm_item_owners");m=m&&m.getLinkedRecords("nodes");m=m&&m[0]&&m[0].getLinkedRecord("admin");m=m&&m.getValue("id");var n=b("PagesManagerInboxFilterStore").getActiveOwner().id;d=h.getConnection(d,"PagesManagerInboxListRelayContainer_business_comm_items",{with_comm_status:i,with_comm_platform:e.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});if(d){var o=k(d,f);if(i!==g||n&&n!==m)h.deleteNode(d,f);else if(!o&&!j[l].selectedCommentView==="TOP_LEVEL_COMMENT"){i=h.createEdge(c,d,e,"PageBusinessCommItemsEdge");i&&h.insertEdgeBefore(d,i)}}},e=function(a){b("PagesManagerPageCommItemEditSubscriptionHandler").trigger(a),c&&c.onNext&&c.onNext(a)};return i(b("RelayFBEnvironment"),{subscription:j,variables:{input:a},updater:d,onCompleted:c&&c.onCompleted,onError:c&&c.onError,onNext:e})}e.exports={subscribe:a}}),null);
__d("PagesManagerPageCommItemPartDeleteSubscription",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerPageCommItemPartDeleteSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription,j=g!==void 0?g:g=b("PagesManagerPageCommItemPartDeleteSubscription.graphql");function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.page_id);if(!d)return;c=c.getRootField("page_comm_item_part_delete_subscribe");if(!c)return;c=String(c.getValue("page_comm_item_part_id"));if(!c)return;d=h.getConnection(d,"PagesManagerInboxListRelayContainer_business_comm_items",{with_comm_status:b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder()),with_comm_platform:b("PagesManagerInboxFilterStore").getActiveType(),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});d&&h.deleteNode(d,c)};return i(b("RelayFBEnvironment"),{subscription:j,variables:{input:a},updater:d,onCompleted:c&&c.onCompleted,onError:c&&c.onError})}e.exports={subscribe:a}}),null);
__d("PagesManagerPageCommItemPartEditSubscriptionHandler",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=0,i={_generateToken:function(){return"page_comm_item_part_edit_subscription_"+h++},addCallback:function(a){var b=i._generateToken();g.set(b,a);return b},removeCallback:function(a){g["delete"](a)},trigger:function(a){g.forEach(function(b){return b(a)})}};e.exports=i}),null);
__d("PagesManagerPageCommItemPartEditSubscription",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","PagesManagerPageCommItemPartEditSubscriptionHandler","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerPageCommItemPartEditSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription,j=g!==void 0?g:g=b("PagesManagerPageCommItemPartEditSubscription.graphql");function k(a,b){a=a.getLinkedRecords("edges");if(!a)return null;var c=null;a.forEach(function(a){var d=a&&a.getLinkedRecord("node");d&&d.getValue("id")===b&&(c=a)});return c}function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.page_id);if(!d)return;var e=c.getRootField("page_comm_item_part_edit_subscribe");if(!e)return;e=e.getLinkedRecord("page_comm_item_part");if(!e)return;var f=String(e.getValue("id"));if(!f)return;var g=e.getValue("is_important"),i=e.getValue("is_read"),j=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder());if(b("PagesManagerInboxFilterStore").getCommentsTab()==="highlighted"&&!g)return;if(b("PagesManagerInboxFilterStore").getCommentsTab()==="unread"&&i)return;g=h.getConnection(d,"PagesManagerInboxListRelayContainer_business_comm_items",{with_comm_status:j,with_comm_platform:e.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});if(g){i=k(g,f);if(!i){d=h.createEdge(c,g,e,"PageBusinessCommItemsEdge");d&&h.insertEdgeBefore(g,d)}}},e=function(a){b("PagesManagerPageCommItemPartEditSubscriptionHandler").trigger(a),c&&c.onNext&&c.onNext(a)};return i(b("RelayFBEnvironment"),{subscription:j,variables:{input:a},updater:d,onCompleted:c&&c.onCompleted,onError:c&&c.onError,onNext:e})}e.exports={subscribe:a}}),null);
__d("CRMEventsLogger",["CRMEventsTypedLogger"],(function(a,b,c,d,e,f){a={log:function(a,c,d,e,f,g){a=new(b("CRMEventsTypedLogger"))().setPageID(a).setEvent(c).setUIComponent(d).setUISurface(e).setPageContactID(f).setIsServerLog(!1);g!==null&&g!==void 0&&a.updateExtraData(g);a.logVital()}};e.exports=a}),null);
__d("ServicesAppointmentDialogButtonTexts",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Actions");b=g._("Approve");c=g._("Approve with notes");d=g._("Add Appointment");f=g._("Copy Booking Link");var h=g._("Copied"),i=g._("Archive"),j=g._("Archive Request"),k=g._("Back"),l=g._("Cancel Appointment"),m=g._("Cancel Appointment Only"),n=g._("Cancel Entire Series"),o=g._("Cancel This and Future Appointments"),p=g._("Delete Event"),q=g._("Confirm Appointment"),r=g._("Confirm Changes"),s=g._("Create Appointment"),t=g._("Decline Appointment"),u=g._("Decline"),v=g._("Delete"),w=g._("Done"),x=g._("Edit"),y=g._("Edit Appointment"),z=g._("Save"),A=g._("Schedule"),B=g._("Reschedule"),C=g._("Schedule Appointment"),D=g._("Skip For Now"),E=g._("Delete Personal Event"),F=g._("Delete Personal Event Only"),G=g._("Delete This and Future Personal Events"),H=g._("Update Appointment Only"),I={CALENDAR:{title:g._("Calendar")},CONTACTS:{title:g._("Contacts")},REQUESTS:{title:g._("Requests")},SETTINGS:{title:g._("Appointment Settings")}},J={REQUEST:"REQUEST",ARCHIVE:"ARCHIVE"};g={REQUEST:{label:g._("Pending Requests"),key:J.REQUEST},ARCHIVE:{label:g._("Archived Requests"),key:J.ARCHIVE}};e.exports={ACTIONS:a,ADD_APPOINTMENT:d,APPROVE:b,APPROVE_WITH_NOTES:c,ARCHIVE:i,ARCHIVE_REQUEST:j,BACK:k,CANCEL_APPOINTMENT:l,CANCEL_APPOINTMENT_ONLY:m,CANCEL_THIS_AND_FUTURE_APPOINTMENTS:o,CANCEL_ENTIRE_SERIES:n,COPIED_BOOKING_LINK:h,COPY_BOOKING_LINK:f,DELETE_PERSONAL_EVENT:E,DELETE_PERSONAL_EVENT_ONLY:F,DELETE_THIS_AND_FUTURE_PERSONAL_EVENTS:G,DELETE_EVENT:p,CONFIRM_APPOINTMENT:q,CONFIRM_CHANGES:r,CREATE_APPOINTMENT:s,DECLINE_APPOINTMENT:t,DECLINE:u,DELETE:v,DONE:w,EDIT:x,EDIT_APPOINTMENT:y,REQUEST_ARCHIVE_LABEL:g,RESCHEDULE:B,SCHEDULE:A,SCHEDULE_APPOINTMENT:C,SAVE:z,SIDEBAR_TABS:I,SKIP_FOR_NOW:D,UPDATE_APPOINTMENT_ONLY:H}}),null);
__d("ServicesUINoProfileImage.react",["cx","FDSText.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.size;a=a.letter;return b("React").jsx("div",{className:b("joinClasses")("_6ts_"+(d==="large"?" _6tt0":"")+(d==="small"?" _6tt1":"")+(d==="xsmall"?" _8jmv":"")+(d==="xlarge"?" _6-3z":""),c),children:b("React").jsx(b("FDSText.react"),{color:"white",size:"header2",children:a})})};return c}(b("React").Component);a.defaultProps={size:"small"};e.exports=a}),null);
__d("ServicesUIProfileImage.react",["cx","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","size"]);return b("React").jsx(b("Image.react"),babelHelpers["extends"]({className:b("joinClasses")("_6tsy"+(d==="large"?" _6tsz":"")+(d==="small"?" _6ts-":""),c)},a))};return c}(b("React").Component);a.defaultProps={size:"small"};e.exports=a}),null);
__d("XCRMManualContactCreationDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/crm/contact_creation/dialog/",{appointment_id:{type:"FBID"},contact_id:{type:"FBID"},first_name:{type:"String"},from_split_flow:{type:"Bool",defaultValue:!1},last_name:{type:"String"},page_id:{type:"FBID",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("XCRMContactImportCsvUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/crm/csv_import/",{page_id:{type:"FBID",required:!0}})}),null);
__d("ServicesClientsTabMainView.react",["CRMClientsMainView.react","CustomLabelUtils","PagesManagerCustomLabelsActions","PagesManagerCustomLabelsStore","React","RelayFBEnvironment","RelayModern","immutable","promiseDone","ServicesClientsTabMainViewLabelsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("CustomLabelUtils").mergeContactAndCustomerLabels,i=b("PagesManagerCustomLabelsActions").PagesManagerCustomLabelsActions,j=b("RelayModern").fetchQuery;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){__p&&__p();if(b("PagesManagerCustomLabelsStore").isInitialized())return;b("promiseDone")(j(b("RelayFBEnvironment"),g!==void 0?g:g=b("ServicesClientsTabMainViewLabelsQuery.graphql"),{pageID:this.props.pageID}),function(a){__p&&__p();var c;c=((c=a.page.custom_tags)==null?void 0:c.edges)||[];a=((a=a.page.custom_labels)==null?void 0:a.edges)||[];a=h(a,c);c=a.map(function(a){var b,c,d;b=(b=a.node)==null?void 0:b.id;c=(c=a.node)==null?void 0:c.name;a=((d=a.node)==null?void 0:d.label_color)||((d=a.node)==null?void 0:d.color);if(c!=null&&b!=null&&a!=null)return[c,{name:c,id:b,color:a}]});a=b("immutable").Map(c.filter(Boolean)||[]);i.initStore(a)})};d.render=function(){return b("React").jsx(b("CRMClientsMainView.react"),{contactID:this.props.contactID,pageID:this.props.pageID,height:this.props.height})};return c}(b("React").PureComponent);e.exports=a}),null);