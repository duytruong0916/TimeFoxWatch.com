if (self.CavalryLogger) { CavalryLogger.start_js(["lnSbi"]); }

__d("T4LoadingScreen.react",["cx","IntlSpinner.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_6iqj",children:b("React").jsx(b("IntlSpinner.react"),{size:"large"})})};return c}(b("React").Component);e.exports=a}),null);
__d("OnlyMeSharerSaveNux.react",["cx","fbt","AsyncRequest","Banzai","ContextualLayerBlind","CSS","DataStore","DOM","DOMScroll","Keys","Link.react","Parent","React","URI","XSavedForLaterNUXSeenController","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","XUIDialogButton.react","guid","nullthrows","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=null,k=null,l="OnlyMeSharerSaveNux_instance",m="OnlyMeSharerSaveNux_caretMenuLoaded",n="_5jmm",o="_54ne",p="impression",q="saved_for_later:click",r="only_me_sharer_nux",s="learn_more_link",t="only_me_sharer_nux",u="caret",v="dismiss_button",w="esc_button",x={paddingTop:0,paddingRight:0,paddingBottom:5,paddingLeft:7};a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isShown:!0},d.$2=function(a){var c=function(c){babelHelpers.inheritsLoose(b,c);function b(b){return c.call(this,b,a)||this}return b}(b("ContextualLayerBlind"));return c},d.$3=function(){if(d.props.shareType==="self"||d.props.shareType==="own")return h._("Share successful");else return h._("Message sent")},d.$1=function(a){__p&&__p();a=document.getElementById(d.props.storyContainerId);if(!a)return;var c=b("Parent").byClass(a,n);c&&b("DataStore").get(c,m)===!0&&window.setTimeout(function(){__p&&__p();var a=b("DOM").scry(document,"li.save_caret_menu_item"),d=function(d){__p&&__p();var e=a[d];d=b("Parent").byClass(e,"uiLayer");if(d&&b("CSS").shown(d)){b("CSS").addClass(e,o);d=b("DataStore").get(c,l);d.$4(u);d=b("DataStore").get(k,"Popover");d&&d.subscribeOnce("hide",function(){b("CSS").removeClass(e,o)});return"break"}};for(var e=0;e<a.length;e++){var f=d(e);if(f==="break")break}},0)},d.$5=function(a){a.keyCode===b("Keys").ESC&&d.state.isShown&&(document.removeEventListener("keyup",d.$5),d.$4(w))},d.$6=function(){d.$4(v)},d.$7=function(){b("Banzai").post(q,{og_object_id:d.props.objectId,collection_id:d.props.collectionId,surface:r,mechanism:s,event_id:b("guid")()},{retry:!0,delay:0})},d.$4=function(a){d.setState({isShown:!1}),b("Banzai").post(q,{og_object_id:d.props.objectId,collection_id:d.props.collectionId,surface:r,mechanism:a,event_id:b("guid")()},{retry:!0,delay:0})},d.$8=function(a){k!==null&&!a&&k.removeEventListener("click",d.$1);if(d.props.wrapper!=null){a=b("Parent").byClass(d.props.wrapper,"uiLayer");a&&b("CSS").hide(a)}},c)||babelHelpers.assertThisInitialized(d)}c.saveOptionLoaded=function(a){a=document.getElementById(a);if(a!=null){a=b("Parent").byClass(a,n);if(a){b("DataStore").set(a,m,!0);a=b("DataStore").get(a,l);a&&a.state.isShown&&a.$1()}}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){j=this.$2(babelHelpers["extends"]({},x)),k=document.getElementById(this.props.caretId)};d.componentDidMount=function(){__p&&__p();var a=document.getElementById(this.props.storyContainerId);if(a){a=b("Parent").byClass(a,n);a&&b("DataStore").set(a,l,this)}k&&k.addEventListener("click",this.$1);document.addEventListener("keyup",this.$5);window.setTimeout(function(){b("DOMScroll").ensureVisible(b("nullthrows")(k))},500);a=b("XSavedForLaterNUXSeenController").getURIBuilder().setEnum("surface","story").setEnum("mechanism",t).setEnum("collection_id",this.props.collectionId).setInt("object_id",this.props.objectId).setEnum("action",p).getURI();a=new(b("AsyncRequest"))(a);a.send()};d.render=function(){var a;return(a=b("React")).jsxs(b("XUIContextualDialog.react"),{shown:this.state.isShown,contextRef:function(){return k},position:"below",alignment:"right",behaviors:{grayedOutLayer:j},width:400,offsetX:-3,onToggle:this.$8,children:[a.jsx(b("XUIContextualDialogTitle.react"),{children:this.$3()}),a.jsx(b("XUIContextualDialogBody.react"),{children:h._("Want a faster way to save posts privately? Open this dropdown menu and click Save.")}),a.jsxs(b("XUIContextualDialogFooter.react"),{children:[a.jsx(b("Link.react"),{className:"_222f",href:new(i||(i=b("URI")))("/help/516581611792218"),target:"_blank",onClick:this.$7,children:h._("Learn More")}),b("React").jsx(b("XUIDialogButton.react"),{label:h._("Got it"),use:"confirm",action:"cancel",onClick:this.$6})]})]})};return c}(b("React").Component);a.propTypes={caretId:(c=b("prop-types")).string.isRequired,storyContainerId:c.string.isRequired,wrapper:c.any,collectionId:c.string.isRequired,objectId:c.string,shareType:c.string.isRequired};e.exports=a}),null);