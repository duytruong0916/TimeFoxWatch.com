if (self.CavalryLogger) { CavalryLogger.start_js(["9KuzM"]); }

__d("UFI2ViewOption",["qex"],(function(a,b,c,d,e,f){"use strict";a={isChronologicalOrder:function(a){var c=b("qex");if(a==="FRIENDS_COMMENTS"&&!c._("1080217"))return!1;switch(a){case"RECENT_ACTIVITY":case"RANKED_THREADED":case"RANKED_UNFILTERED":case"LIVE_STREAMING":case"RANKED_SUB_REPLIES":case"RANKED_REPLIES":return!1}return!0}};e.exports=a}),null);
__d("UFI2CommentsListState",["invariant","ErrorUtils","FBLogger","UFI2ViewOption","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){var b=a.count,c=a.direction,d=a.error,e=a.hasMore,f=a.isLoading,g=a.pageSize;a=a.totalCount;if(a!=null&&a===0)return null;if(b===0)return null;return!e?null:{__type:"PAGER",count:Math.min(b,g),direction:c,status:{error:d,pending:f}}}function i(a){var b=a.count,c=a.expanded;a=a.minCountToShowCollapser;if(!c)return null;if(a==null)return null;return b<=a?null:{__type:"REPLIES_COLLAPSER",count:b}}function j(a){var b=a.error,c=a.expanded,d=a.isLoading;a=a.totalCount;return c||a===0?null:{__type:"REPLIES_EXPANDER",count:a,status:{error:b,pending:d}}}function k(a){var b=a.direction;a=a.page;if(b==="forward"){b=Math.max(0,a.afterCount-1);return babelHelpers["extends"]({},a,{afterCount:b,hasNext:b>0})}b=Math.max(0,a.beforeCount-1);return babelHelpers["extends"]({},a,{beforeCount:b,hasPrevious:b>0})}function l(a,b){var c=m(a,b);a.__type!=="INITIAL_STATE"&&(b!=null||g(0,5935));return c}function m(a,c){__p&&__p();if(a.__type==="INITIAL_STATE"){var d,e=a.args,f=e.afterCount,l=e.beforeCount,m=e.canViewerComment,n=e.commentsByID,p=e.commentIDs,s=e.feedbackTargetID,u=e.hasNext,v=e.hasPrevious,w=e.hiddenCommentIDs,x=e.initiallyExpanded,y=e.pageSize,z=e.shouldRenderComposerPreemptively,A=e.topLevelFeedbackTargetID,B=e.totalCount;e=e.viewOption;d={backward:h({count:l,direction:"backward",error:null,hasMore:v,isLoading:(d=c==null?void 0:(d=c.pagers)==null?void 0:(d=d.backward)==null?void 0:(d=d.status)==null?void 0:d.pending)!=null?d:!1,pageSize:y,totalCount:B}),forward:h({count:f,direction:"forward",error:null,hasMore:u,isLoading:(d=c==null?void 0:(d=c.pagers)==null?void 0:(d=d.forward)==null?void 0:(d=d.status)==null?void 0:d.pending)!=null?d:!1,pageSize:y,totalCount:B})};var ba={};w.forEach(function(a){ba[a]="COLLAPSED"});w={canViewerComment:m,commentPages:p.length>0?[{__type:"COMMENTS_PAGE",afterCount:f,beforeCount:l,commentIDs:p,hasNext:u,hasPrevious:v,state:"VISIBLE"}]:[],commentsByID:n,commentsHiddenByViewer:ba,expanded:(y=c==null?void 0:c.expanded)!=null?y:x,feedbackTargetID:s,hasPaged:{backward:!1,forward:!1},locallyComposedCommentIDs:[],newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:d,shouldComposerRenderWhenListIsExpanded:z,topLevelFeedbackTargetID:A,viewOption:e};if(a.args.depth===0)return babelHelpers["extends"]({},w,{__type:"DEPTH_0",status:{error:null,pending:!1}});m=a.args.minCountToShowCollapser;f=null;c!=null&&c.__type==="DEPTH_1"&&(f=c.repliesExpander);return babelHelpers["extends"]({},w,{__type:"DEPTH_1",repliesCollapser:i({count:p.length,expanded:x,minCountToShowCollapser:m}),repliesExpander:j({error:null,expanded:(l=c==null?void 0:c.expanded)!=null?l:x,isLoading:(n=(u=f)==null?void 0:(v=u.status)==null?void 0:v.pending)!=null?n:!1,totalCount:B})})}c!=null||g(0,5935);switch(a.__type){case"COLLAPSE_LIST":y=a.args;s=y.depth;d=y.totalCount;if(c.expanded===!1)return c;if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{expanded:!1});z=t.getCommentsCount({depth:s,state:c})===0;A=d>0&&z===!0;A&&b("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): COLLAPSE_LIST: expected list not to be empty if connection is not empty");return babelHelpers["extends"]({},c,{expanded:!1,repliesCollapser:null,repliesExpander:j({error:c.repliesExpander?c.repliesExpander.status.error:null,expanded:!1,isLoading:!1,totalCount:d})});case"DELETE_COMMENT":e=a.args;var C=e.commentID;w=e.depth;p=c.commentPages;var D=c.newCommentsPage;m=c.locallyComposedCommentIDs;if(p.length===0&&D.commentIDs.length===0)return c;l=D.commentIDs.filter(function(a){return a!==C});x=t.getVisibleCommentsCount({depth:w,state:c});f=l.length<D.commentIDs.length;if(f){var ca={};l.forEach(function(a){ca[a]=D.visibleStates[a]});u=babelHelpers["extends"]({},D,{commentIDs:l,visibleStates:ca});v=p.map(function(a){return k({direction:"backward",page:a})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:v,newCommentsPage:u});a.args.depth!==0||g(0,18482);n=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:v,newCommentsPage:u,repliesCollapser:i({count:x-1,expanded:c.expanded,minCountToShowCollapser:n})})}var E=null,F=!1;B=p.map(function(a,b){__p&&__p();if(F)return k({direction:"backward",page:a});var c=a.commentIDs.filter(function(a){return a!==C});if(c.length<a.commentIDs.length){F=!0;E=b;return babelHelpers["extends"]({},a,{commentIDs:c})}return a}).map(function(a,b){return a&&E!=null&&b<E?k({direction:"forward",page:a}):a}).filter(Boolean);if(F===!1){b("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): Tried deleting a comment that isnt present");return c}y=m.filter(function(a){return a!==C});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:B,locallyComposedCommentIDs:y});a.args.depth!==0||g(0,18482);return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:B,locallyComposedCommentIDs:y,repliesCollapser:i({count:x-1,expanded:c.expanded,minCountToShowCollapser:a.args.minCountToShowCollapser})});case"EXPAND_HIDDEN_COMMENTS":s=a.args.commentIDs;var da=c.commentsHiddenByViewer,G=babelHelpers["extends"]({},da);s.forEach(function(a){var c=da[a];if(c==null){b("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): Tried expanding a comment that is not hidden");return}c==="COLLAPSED"&&(G[a]="EXPANDED")});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:G}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:G});case"EXPAND_LIST":z=a.args;A=z.depth;d=z.totalCount;e=c.commentPages;w=c.newCommentsPage;if(c.expanded===!0&&c.shouldComposerRenderWhenListIsExpanded===!0)return c;if(A!==0&&t.isRepliesExpanderLoading({depth:A,state:c}))return c;if(d===0)return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!0,repliesCollapser:null,repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});f=t.getVisibleCommentsCount({depth:A,state:c});if(f===0){l=t.getCommentsCount({depth:A,state:c})===0;if(l)return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0,status:{error:null,pending:!0}}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!1,repliesCollapser:null,repliesExpander:j({error:null,expanded:!1,isLoading:!0,totalCount:d})});v=e.length>0?e[0]:null;u=v!=null?[babelHelpers["extends"]({},v,{state:"VISIBLE"})].concat(e.slice(1)):e;var ea={};w.commentIDs.forEach(function(a){ea[a]="VISIBLE"});n=babelHelpers["extends"]({},w,{visibleStates:ea});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:u,expanded:!0,newCommentsPage:n,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth!==0||g(0,18482);p=(v!=null?v.commentIDs.length:0)+w.commentIDs.length;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:u,expanded:!0,newCommentsPage:n,repliesCollapser:i({count:p,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0})}if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth!==0||g(0,18482);return babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!0,repliesCollapser:i({count:f,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});case"HIDE_COMMENTS":m=a.args.commentIDs;B=c.commentsHiddenByViewer;var H=babelHelpers["extends"]({},B);m.forEach(function(a){H[a]="LOCALLY_HIDDEN"});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:H}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:H});case"RECEIVE_COMMENTS_PAGE":y=c.commentPages;var I=c.newCommentsPage;x=c.pagers;s=c.locallyComposedCommentIDs;z=a.args;var J=z.commentIDs;A=z.depth;l=z.direction;d=z.feedbackTargetID;e=z.hiddenCommentIDs;v=z.pageSize;w=I.commentIDs.filter(function(a){return!J.includes(a)});u=s.filter(function(a){return!J.includes(a)});var K={};w.forEach(function(a){K[a]=I.visibleStates[a]});n=babelHelpers["extends"]({},I,{commentIDs:w,visibleStates:K});var fa=new Set(y.reduce(function(a,b){return a.concat(b.commentIDs)},[]));p=J.filter(function(a){return!fa.has(a)});l==="forward"&&a.args.hasNext===!0&&a.args.afterCount===0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that has_next_page but after_count is 0");a.args.direction==="forward"&&a.args.hasNext===!1&&a.args.afterCount>0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that does NOT have next_page but after_count is > 0");a.args.direction==="backward"&&a.args.hasPrevious===!0&&a.args.beforeCount===0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that has_previous_page but before_count is 0");a.args.direction==="backward"&&a.args.hasPrevious===!1&&a.args.beforeCount>0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that does NOT have previous_page but before_count is > 0");var L=t.isPagerLoading({depth:A,direction:l,state:c})===!0;f=A!==0&&t.isRepliesExpanderLoading({depth:A,state:c});B=c.shouldComposerRenderWhenListIsExpanded===!0||L===!0||f===!0;var M=babelHelpers["extends"]({},c.commentsHiddenByViewer);e.forEach(function(a){Object.prototype.hasOwnProperty.call(M,a)||(M[a]="COLLAPSED")});m=fa.size;if(A!==0&&a.args.direction==="forward"&&m===0){z=a.args;s=z.afterCount;d=z.hasNext;l={backward:null,forward:h({count:s,direction:"forward",error:null,hasMore:d,isLoading:!1,pageSize:v})};var N=c.expanded||f?"VISIBLE":"HIDDEN";e={__type:"COMMENTS_PAGE",afterCount:s,beforeCount:w.length,commentIDs:p,hasNext:d,hasPrevious:!1,state:N};w.forEach(function(a){K[a]=N});n=babelHelpers["extends"]({},I,{commentIDs:w,visibleStates:K});a.args.depth!==0||g(0,18482);c.__type==="DEPTH_1"||g(0,18482);m=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[e],commentsHiddenByViewer:M,expanded:N==="VISIBLE",locallyComposedCommentIDs:u,newCommentsPage:n,pagers:l,repliesCollapser:i({count:p.length,expanded:f,minCountToShowCollapser:m}),repliesExpander:f?null:c.repliesExpander,shouldComposerRenderWhenListIsExpanded:B})}z=y[0];s=y[y.length-1];d=t.getVisibleCommentsCount({depth:A,state:c});if(a.args.direction==="backward"){L&&z!=null&&(z.state==="VISIBLE"||g(0,5938));e=a.args;l=e.beforeCount;m=e.hasPrevious;A=l<=w.length;A&&(K={},n.commentIDs.forEach(function(a){K[a]=L?"VISIBLE":"HIDDEN"}),n=babelHelpers["extends"]({},n,{visibleStates:K}));e=l-n.commentIDs.length-u.length;w=babelHelpers["extends"]({},x,{backward:L?h({count:e,direction:"backward",error:null,hasMore:m&&!A,isLoading:!1,pageSize:v}):x.backward});e={__type:"COMMENTS_PAGE",afterCount:((e=z==null?void 0:z.afterCount)!=null?e:0)+((z=z==null?void 0:(e=z.commentIDs)==null?void 0:e.length)!=null?z:0),beforeCount:l,commentIDs:p,hasNext:!0,hasPrevious:m,state:L||f?"VISIBLE":"HIDDEN"};if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[e].concat(y),commentsHiddenByViewer:M,locallyComposedCommentIDs:u,newCommentsPage:n,pagers:w,shouldComposerRenderWhenListIsExpanded:B});a.args.depth!==0||g(0,18482);z=a.args.minCountToShowCollapser;l=f?!0:c.expanded;m=d+(e.state==="VISIBLE"?p.length:0)+(A&&L?n.commentIDs.length:0);return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[e].concat(y),commentsHiddenByViewer:M,expanded:l,locallyComposedCommentIDs:u,newCommentsPage:n,pagers:w,repliesCollapser:i({count:m,expanded:l,minCountToShowCollapser:z}),repliesExpander:f?null:c.repliesExpander,shouldComposerRenderWhenListIsExpanded:B})}L&&s!=null&&(s.state==="VISIBLE"||g(0,5939));A=a.args;e=A.afterCount;w=A.hasNext;m=babelHelpers["extends"]({},x,{forward:L?h({count:e,direction:"forward",error:null,hasMore:w,isLoading:!1,pageSize:v}):x.forward});v={__type:"COMMENTS_PAGE",afterCount:e,beforeCount:((l=s==null?void 0:s.beforeCount)!=null?l:0)+((A=s==null?void 0:(z=s.commentIDs)==null?void 0:z.length)!=null?A:0),commentIDs:p,hasNext:w,hasPrevious:!0,state:L||f?"VISIBLE":"HIDDEN"};var O=0;x=f?y.map(function(a){a.state==="HIDDEN"&&(O+=a.commentIDs.length);return babelHelpers["extends"]({},a,{state:"VISIBLE"})}):y;if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[].concat(x,[v]),commentsHiddenByViewer:M,locallyComposedCommentIDs:u,newCommentsPage:n,pagers:m,shouldComposerRenderWhenListIsExpanded:B});a.args.depth!==0||g(0,18482);e=a.args.minCountToShowCollapser;l=v.state==="VISIBLE"?d+O+p.length:d+O;s=f?!0:c.expanded;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[].concat(x,[v]),commentsHiddenByViewer:M,expanded:s,locallyComposedCommentIDs:u,newCommentsPage:n,pagers:m,repliesCollapser:i({count:l,expanded:s,minCountToShowCollapser:e}),repliesExpander:f?null:c.repliesExpander,shouldComposerRenderWhenListIsExpanded:B});case"RECEIVE_NEW_COMMENT":z=a.args;var P=z.commentID;A=z.depth;w=z.pageSize;y=z.prevTotalCount;p=z.totalCount;d=c.commentPages;x=c.expanded;var Q=c.newCommentsPage;v=c.pagers;u=c.commentsByID;n=c.locallyComposedCommentIDs;m=c.viewOption;l=t.getCommentsCount({depth:A,state:c})===0;s=Object.prototype.hasOwnProperty.call(Q.visibleStates,P)||d.some(function(a){return a.commentIDs.includes(P)});if(s)return c;e=u[P]!=null&&u[P].is_locally_composed===!0;f=c.repliesExpander!=null?babelHelpers["extends"]({},c.repliesExpander,{count:Math.min(c.repliesExpander.count+1,p)}):null;var ga=(z=(B=u[P])==null?void 0:B.reply_comment_parent_fbid)!=null?z:(s=u[P])==null?void 0:(B=s.reply_parent_comment)==null?void 0:B.id;if(c.__type!=="DEPTH_0"&&a.args.depth!==0&&m==="RANKED_SUB_REPLIES"&&(ga!=null||d.length===0)){var R=!1;z=d.map(function(a){__p&&__p();if(!R){var b=a.commentIDs.indexOf(ga);if(b>=0){R=!0;var c=[].concat(a.commentIDs);c.splice(b+1,0,P);return babelHelpers["extends"]({},a,{commentIDs:c})}}return a});z.length===0&&(z.push({__type:"COMMENTS_PAGE",afterCount:0,beforeCount:0,commentIDs:[P],hasNext:!1,hasPrevious:!1,state:"VISIBLE"}),R=!0);s=e?[P].concat(n):n;if(R)return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:z,locallyComposedCommentIDs:s})}if(d.length===0){m=babelHelpers["extends"]({},Q,{commentIDs:[P].concat(Q.commentIDs),visibleStates:babelHelpers["extends"]({},Q.visibleStates,(B={},B[P]=x||e||A!==0&&l&&y===0?"VISIBLE":"HIDDEN",B))});s=((z=u[P])==null?void 0:z.is_locally_composed)===!0?[P].concat(n):n;if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",locallyComposedCommentIDs:s,newCommentsPage:m});a.args.depth!==0||g(0,18482);B=a.args.minCountToShowCollapser;u=l&&y===0?!0:x;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:u,locallyComposedCommentIDs:s,newCommentsPage:m,repliesCollapser:i({count:m.commentIDs.length,expanded:x,minCountToShowCollapser:B}),repliesExpander:f,shouldComposerRenderWhenListIsExpanded:!0})}z=d[0];l=q(c);if(e){var S=!1,T=babelHelpers["extends"]({},Q.visibleStates),ha=[],U=[];u=d.map(function(a){if(!S&&a.state==="VISIBLE"){S=!0;Q.commentIDs.forEach(function(a){T[a]==="VISIBLE"?(delete T[a],U.push(a)):ha.push(a)});return babelHelpers["extends"]({},a,{commentIDs:[P].concat(U,a.commentIDs)})}return S?babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1+U.length}):a});s=babelHelpers["extends"]({},Q,{commentIDs:ha,visibleStates:T});m=[P].concat(n);if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:u,locallyComposedCommentIDs:m,newCommentsPage:s});a.args.depth!==0||g(0,18482);B=a.args.minCountToShowCollapser;e=t.getVisibleCommentsCount({depth:A,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:u,locallyComposedCommentIDs:m,newCommentsPage:s,repliesCollapser:i({count:e+1,expanded:x,minCountToShowCollapser:B}),repliesExpander:f,shouldComposerRenderWhenListIsExpanded:!0})}else if(l&&aa(c)){n=d.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})});m=babelHelpers["extends"]({},Q,{commentIDs:[P].concat(Q.commentIDs),visibleStates:babelHelpers["extends"]({},Q.visibleStates,(u={},u[P]="VISIBLE",u))});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:n,newCommentsPage:m});a.args.depth!==0||g(0,18482);s=a.args.minCountToShowCollapser;e=t.getVisibleCommentsCount({depth:A,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:n,newCommentsPage:m,repliesCollapser:i({count:e+1,expanded:x,minCountToShowCollapser:s}),repliesExpander:f,shouldComposerRenderWhenListIsExpanded:!0})}else if(l&&Q.commentIDs.length===0){B=v.backward!=null?babelHelpers["extends"]({},v,{backward:babelHelpers["extends"]({},v.backward,{count:Math.min(v.backward.count+1,w)})}):v;u=z.commentIDs.length<w;if(u){A=[babelHelpers["extends"]({},z,{commentIDs:[P].concat(z.commentIDs)})].concat(d.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:A,pagers:B}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:A,pagers:B,repliesExpander:f})}n=[{__type:"COMMENTS_PAGE",afterCount:z.afterCount+z.commentIDs.length,beforeCount:0,commentIDs:[P],hasNext:!0,hasPrevious:!1,state:"HIDDEN"},babelHelpers["extends"]({},z,{beforeCount:1,hasPrevious:!0})].concat(d.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:n,pagers:B}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:n,pagers:B,repliesExpander:f})}else{m=p<=y;e=m?d:d.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1,hasPrevious:!0})});x=v.backward!=null?babelHelpers["extends"]({},v,{backward:babelHelpers["extends"]({},v.backward,{count:m?v.backward.count:Math.min(v.backward.count+1,w)})}):v;l=babelHelpers["extends"]({},Q,{commentIDs:[P].concat(Q.commentIDs),visibleStates:babelHelpers["extends"]({},Q.visibleStates,(s={},s[P]="HIDDEN",s))});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:e,newCommentsPage:l,pagers:x}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:e,newCommentsPage:l,pagers:x,repliesExpander:f})}case"RECEIVE_REFETCH_LIST":u=a.args.depth;A=c.feedbackTargetID;z=c.topLevelFeedbackTargetID;n=c.viewOption;u===0||g(0,5940);t.isListLoading({depth:u,state:c})||g(0,5941);B=o.getInitialState({args:babelHelpers["extends"]({},a.args,{depth:0,feedbackTargetID:A,initiallyExpanded:!0,topLevelFeedbackTargetID:z,viewOption:n}),state:null});B.__type==="DEPTH_0"||g(0,5940);return babelHelpers["extends"]({},B,{__type:"DEPTH_0",expanded:c.expanded,status:{error:null,pending:!1}});case"REQUEST_COMMENTS_PAGE":p=a.args;y=p.depth;d=p.direction;m=p.pageSize;w=c.commentPages;v=c.expanded;s=c.newCommentsPage;e=c.pagers;v||g(0,5942);t.isPagerLoading({depth:y,direction:d,state:c})&&g(0,5943);y===0&&(t.isListLoading({depth:y,state:c})&&g(0,5944));y!==0&&(t.isRepliesExpanderLoading({depth:y,state:c})&&g(0,5945));if(d==="backward"){l=w.findIndex(function(a){return a.state==="VISIBLE"});x=-1;if(l>-1){f=w[l];f.hasPrevious===!1&&b("FBLogger")("ufi2").mustfix("UFI2CommentsList.updater(...): REQUEST_COMMENTS_PAGE - Can't request previous comments if there are no more comments available, feedbackID: %s",c.topLevelFeedbackTargetID);f.hasPrevious===!0||g(0,5946);x=l-1}else l===-1&&w.length>0&&(x=0);u=w[x];A=q(c)&&r(c,"HIDDEN");if(u&&u.state==="HIDDEN"){z=[].concat(w);z[x]=babelHelpers["extends"]({},u,{state:"VISIBLE"});n=babelHelpers["extends"]({},e,{backward:h({count:u.beforeCount,direction:"backward",error:null,hasMore:u.hasPrevious,isLoading:!1,pageSize:m})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:z,hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:n,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth!==0||g(0,18482);B=a.args.minCountToShowCollapser;p=t.getVisibleCommentsCount({depth:y,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:z,hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:n,repliesCollapser:i({count:p+u.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:B}),shouldComposerRenderWhenListIsExpanded:!0})}else if(A){var ia={};s.commentIDs.forEach(function(a){ia[a]="VISIBLE"});v=babelHelpers["extends"]({},s,{visibleStates:ia});d=babelHelpers["extends"]({},e,{backward:null});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),newCommentsPage:v,pagers:d,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth!==0||g(0,18482);f=a.args.minCountToShowCollapser;l=t.getVisibleCommentsCount({depth:y,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),newCommentsPage:v,pagers:d,repliesCollapser:i({count:l+v.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:f}),shouldComposerRenderWhenListIsExpanded:!0})}else{x=babelHelpers["extends"]({},e,{backward:babelHelpers["extends"]({},e.backward,{status:{error:null,pending:!0}})});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:x}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:x})}}z=[].concat(w).reverse().findIndex(function(a){return a.state==="VISIBLE"});n=-1;if(z>-1){p=w.length-1-z;u=w[p];u.hasNext===!0||g(0,5946);n=p+1}else z===-1&&w.length>0&&(n=w.length-1);B=w[n];if(B&&B.state==="HIDDEN"){A=[].concat(w);A[n]=babelHelpers["extends"]({},B,{state:"VISIBLE"});s=babelHelpers["extends"]({},e,{forward:h({count:B.afterCount,direction:"forward",error:null,hasMore:B.hasNext,isLoading:!1,pageSize:m})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:A,hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:s,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth!==0||g(0,18482);d=a.args.minCountToShowCollapser;l=t.getVisibleCommentsCount({depth:y,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:A,hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:s,repliesCollapser:i({count:l+B.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:d}),shouldComposerRenderWhenListIsExpanded:!0})}else{v=babelHelpers["extends"]({},e,{forward:babelHelpers["extends"]({},e.forward,{status:{error:null,pending:!0}})});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:v}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:v})}case"REQUEST_REFETCH_LIST":f=a.args.depth;f===0&&c.__type==="DEPTH_0"||g(0,5940);t.isListLoading({depth:f,state:c})&&g(0,5941);return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[],expanded:!0,hasPaged:{backward:!1,forward:!1},locallyComposedCommentIDs:[],newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:{backward:null,forward:null},status:{error:null,pending:!0}});case"SET_CAN_VIEWER_COMMENT":x=a.args.canViewerComment;return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",canViewerComment:x}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",canViewerComment:x});case"SET_COMMENTS_BY_ID":u=a.args.commentsByID;return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsByID:u}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsByID:u});case"SET_SERVER_COMMENT_ID":p=a.args;var V=p.clientCommentID,W=p.serverCommentID;z=c.commentPages;var X=c.newCommentsPage;w=c.locallyComposedCommentIDs;var Y=!1,Z={};n=X.commentIDs.map(function(a){if(a===V){Y=!0;Z[W]=X.visibleStates[a];return W}Z[a]=X.visibleStates[a];return a});if(Y){m=w.map(function(a){return a===V?W:a});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",locallyComposedCommentIDs:m,newCommentsPage:babelHelpers["extends"]({},c.newCommentsPage,{commentIDs:n,visibleStates:Z})}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",locallyComposedCommentIDs:m,newCommentsPage:babelHelpers["extends"]({},c.newCommentsPage,{commentIDs:n,visibleStates:Z})})}y=z.map(function(a){if(Y)return a;var b=a.commentIDs.map(function(a){if(a===V){Y=!0;return W}return a});return Y?babelHelpers["extends"]({},a,{commentIDs:b}):a});if(!Y)return c;A=w.map(function(a){return a===V?W:a});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:y,locallyComposedCommentIDs:A}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:y,locallyComposedCommentIDs:A});case"UNHIDE_COMMENTS":s=a.args.commentIDs;l=c.commentsHiddenByViewer;var $=babelHelpers["extends"]({},l);s.forEach(function(a){delete $[a]});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:$}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:$});case"INITIAL_STATE":default:a.__type;throw new Error("UFI2CommentsListState: Invalid action type: "+a.__type)}}function n(c,d){__p&&__p();try{var e=l(c,d);return e}catch(g){e=(a||(a=b("ErrorUtils"))).normalizeError(g);e=e.message;var f=c.__type==="REQUEST_COMMENTS_PAGE"||c.__type==="RECEIVE_COMMENTS_PAGE"?c.args.direction:"Unknown";b("FBLogger")("ufi2").catching(g).addMetadata("UFI","COMMENTS_LIST_ACTION",c.__type).addMetadata("UFI","COMMENTS_LIST_DEPTH",""+c.args.depth).addMetadata("UFI","COMMENTS_LIST_DIRECTION",f).mustfix("UFI2CommentsListState.updater(...): "+e);b("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&c.__type!=="SET_COMMENTS_BY_ID"&&console.groupEnd();if(!d)throw g;return d}}function c(a,b){return l(a,b)}function d(a,b){return l(a,b)}var o={collapseList:function(a){var b=a.args;a=a.state;return n({__type:"COLLAPSE_LIST",args:b},a)},deleteComment:function(a){var b=a.args;a=a.state;return n({__type:"DELETE_COMMENT",args:b},a)},expandHiddenComments:function(a){var b=a.args;a=a.state;return n({__type:"EXPAND_HIDDEN_COMMENTS",args:b},a)},expandList:function(a){var b=a.args;a=a.state;return n({__type:"EXPAND_LIST",args:b},a)},getInitialState:function(a){var b=a.args;a=a.state;return n({__type:"INITIAL_STATE",args:b},a)},hideComments:function(a){var b=a.args;a=a.state;return n({__type:"HIDE_COMMENTS",args:b},a)},receiveCommentsPage:function(a){var b=a.args;a=a.state;return n({__type:"RECEIVE_COMMENTS_PAGE",args:b},a)},receiveNewComment:function(a){var b=a.args;a=a.state;return n({__type:"RECEIVE_NEW_COMMENT",args:b},a)},receiveRefetchList:function(a){var b=a.args;a=a.state;return n({__type:"RECEIVE_REFETCH_LIST",args:b},a)},requestCommentsPage:function(a){var b=a.args;a=a.state;return n({__type:"REQUEST_COMMENTS_PAGE",args:b},a)},requestRefetchList:function(a){var b=a.args;a=a.state;return n({__type:"REQUEST_REFETCH_LIST",args:b},a)},setCanViewerComment:function(a){var b=a.args;a=a.state;return n({__type:"SET_CAN_VIEWER_COMMENT",args:b},a)},setCommentsByID:function(a){var b=a.args;a=a.state;return n({__type:"SET_COMMENTS_BY_ID",args:b},a)},setServerCommentID:function(a){var b=a.args;a=a.state;return n({__type:"SET_SERVER_COMMENT_ID",args:b},a)},unhideComments:function(a){var b=a.args;a=a.state;return n({__type:"UNHIDE_COMMENTS",args:b},a)}};function p(a){var b=a.direction;a=a.state;b=b==="forward"?[].concat(a.commentPages).reverse():a.commentPages;return b.find(function(a){return a.state==="VISIBLE"})}function q(a){var b=a.commentPages;a=a.newCommentsPage;b=b[0];return!b?a.commentIDs.length>0:b.beforeCount-a.commentIDs.length===0}function aa(a){var b=a.commentPages;b=b[0];return!b?q(a)&&r(a,"VISIBLE"):q(a)&&b.state==="VISIBLE"&&r(a,"VISIBLE")}function r(a,b){var c=a.newCommentsPage;return c.commentIDs.every(function(a){return c.visibleStates[a]===b})}function s(a){var c=a.__type,d=a.commentPages,e=a.newCommentsPage;a=a.viewOption;c=c==="DEPTH_1"&&!b("UFI2ViewOption").isChronologicalOrder(a);a=d.filter(function(a){return a.state==="VISIBLE"}).reduce(function(a,b){return a.concat(b.commentIDs)},[]);d=e.commentIDs.filter(function(a){return e.visibleStates[a]==="VISIBLE"});return c?[].concat(a,d.reverse()):[].concat(d,a)}var t={canFetchInDirection:function(a){__p&&__p();var b=a.depth,c=a.direction,d=a.state;a=a.totalCount;if(a===0)return!1;a=d.commentPages;var e=d.newCommentsPage,f=t.isPagerLoading({depth:b,direction:c,state:d});if(f)return!1;f=b===0&&t.isListLoading({depth:b,state:d});if(f)return!1;f=b!==0&&t.isRepliesExpanderLoading({depth:b,state:d});if(f)return!1;if(a.length===0&&c==="forward")return!0;else if(a.length===0&&c==="backward")return!1;f=a[0];a=a[a.length-1];b=t.getPagerCount({depth:b,direction:"backward",state:d});b=b===e.commentIDs.length&&r(d,"HIDDEN");return c==="backward"?f.state!=="HIDDEN"&&!b&&f.hasPrevious:a.state!=="HIDDEN"&&a.hasNext},getCommentsCount:function(a){a.depth;a=a.state;var b=a.commentPages;a=a.newCommentsPage;return a.commentIDs.concat(b.reduce(function(a,b){return a.concat(b.commentIDs)},[])).length},getCountForFetch:function(a){__p&&__p();var b=a.depth,c=a.direction,d=a.pageSize;a=a.state;c=t.getPagerCount({depth:b,direction:c,state:a});if(c!=null)return c;if(b!==0){d!=null||g(0,5947);c=t.getRepliesExpanderCount({depth:b,state:a});if(c!=null)return Math.min(c,d)}return null},getHiddenStateForComment:function(a){var b=a.commentID;a.depth;a=a.state;a=a.commentsHiddenByViewer;return a[b]||null},getPagerCount:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.count:null},getPagerError:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.status.error:null},getRepliesCollapserCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesCollapser;return b!=null?b.count:null},getRepliesExpanderCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.count:null},getRepliesExpanderError:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.status.error:null},getVisibleComments:function(a){__p&&__p();a.depth;a=a.state;var c=a.commentsByID,d=a.newCommentsPage,e=a.locallyComposedCommentIDs,f=a.viewOption;a=s(a);var g=a.map(function(a){var d=c[a];if(!d){b("FBLogger")("ufi2").warn("UFI2CommentsListState.getVisibleComments: Could not find comment locally: %s",a);return null}return d}).filter(Boolean);a.length>0&&g.length===0&&b("FBLogger")("ufi2").warn("UFI2CommentsListState.getVisibleComments: Could not find ANY of the %s comments locally",a.length);return!e.length&&d.commentIDs.length>0&&!(b("gkx")("1098171")&&!b("UFI2ViewOption").isChronologicalOrder(f))?g.sort(function(a,b){return((b=b.created_time)!=null?b:0)-((b=a.created_time)!=null?b:0)}):g},getVisibleCommentsCount:function(a){a.depth;a=a.state;return s(a).length},getVisibleCommentsGroupedByCollapsedState:function(a){__p&&__p();var b=a.depth,c=a.reverse,d=a.shouldCollapseComment;a=a.state;b=t.getVisibleComments({depth:b,state:a});a=c?b.slice().reverse():b;return a.reduce(function(a,b){__p&&__p();var c=d(b)?"COLLAPSED":"VISIBLE";if(a.length===0)return[{comments:[b],state:c}];var e=a[a.length-1],f=e.comments[e.comments.length-1];if(!f)return a;f=e.state;if(f===c){e.comments.push(b);return a}return[].concat(a,[{comments:[b],state:c}])},[])},getVisibleCommentsWithHiddenCommentsCollapsed:function(a){var b=a.depth,c=a.reverse,d=a.state;return t.getVisibleCommentsGroupedByCollapsedState({depth:b,reverse:c,shouldCollapseComment:function(a){return t.getHiddenStateForComment({commentID:a.id,depth:b,state:d})==="COLLAPSED"},state:d})},hasLastPageLeftInDirection:function(a){a.depth;var b=a.direction,c=a.pageSize,d=a.state;a=a.totalCount;d=p({direction:b,state:d});if(!d)return b==="forward"?a<=c:!1;return b==="forward"?d.afterCount<=c:d.beforeCount<=c},hasMoreInDirection:function(a){a.depth;var b=a.direction,c=a.state;a=a.totalCount;c=p({direction:b,state:c});if(!c)return b==="forward"?a>0:!1;return b==="forward"?c.hasNext:c.hasPrevious},hasPagedInDirection:function(a){a.depth;var b=a.direction;a=a.state;a=a.hasPaged;return a[b]},hasVisibleComments:function(a){var b=a.depth;a=a.state;return t.getVisibleComments({depth:b,state:a}).length>0},isCommentHiddenByViewer:function(a){return t.getHiddenStateForComment(a)!=null},isComposerVisible:function(a){a.depth;a=a.state;return a.canViewerComment&&a.expanded&&a.shouldComposerRenderWhenListIsExpanded},isListExpanded:function(a){a.depth;a=a.state;return a.expanded},isListLoading:function(a){var b=a.depth;a=a.state;return b!==0||a.__type!=="DEPTH_0"?!1:a.status.pending},isPagerLoading:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null?a.status.pending:!1},isPagerVisible:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null},isRepliesCollapserVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesCollapser;return b!=null},isRepliesExpanderLoading:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null?b.status.pending:!1},isRepliesExpanderVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null}};e.exports={_updaterDepth0_DO_NOT_USE:c,_updaterDepth1_DO_NOT_USE:d,Selectors:t,StateUpdaters:o}}),null);
__d("isUFI2ClientID",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.startsWith("client:")}e.exports=a}),null);
__d("UFI2CommentsProviderState",["FBLogger","gkx","isUFI2ClientID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a!=null&&(a.is_locally_composed===!0||a.is_created_from_subscription===!0||a.optimistic_error!=null||a.optimistic_action!=null)}function h(a){return!a||a.spam_display_mode==null?!1:(a==null?void 0:a.spam_display_mode)!=="none"}function a(a){a=(a=a.feedback.display_comments)==null?void 0:a.before_count;return typeof a==="number"?a:null}function i(a){return a.filter(function(a){return b("isUFI2ClientID")(a)})}function j(a){__p&&__p();var c={};a=a?a.map(function(a){__p&&__p();if(!a){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received null edge from comments connection.");return null}a=a.node;if(!a){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received null comment from comments connection.");return null}var d=a.id;a=babelHelpers.objectWithoutPropertiesLoose(a,["id"]);if(typeof d!=="string"||d==null){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received comment with null id from comments connection.");return null}c[d]=babelHelpers["extends"]({},a,{id:d});return d}).filter(Boolean):[];if(a.length>Object.keys(c).length){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received duplicate comments from comments connection");var d=new Set();return{commentIDs:a.filter(function(a){if(d.has(a))return!1;d.add(a);return!0}),commentsByID:c}}return{commentIDs:a,commentsByID:c}}function k(a,c){var d=Object.keys(a),e=Object.keys(c),f=d.length,g=e.length;if(g>=f)return[];e.every(function(b){return Object.prototype.hasOwnProperty.call(a,b)})||b("FBLogger")("ufi2").warn("UFI2CommentsProvider: Expected next comments to be a subset of previous comments when removing a comment");g=d.filter(function(a){return!Object.prototype.hasOwnProperty.call(c,a)});return g}function l(a,c,d,e){__p&&__p();var f=[];d=a.filter(function(a){return!b("isUFI2ClientID")(a)});var g=function(){__p&&__p();if(i){if(j>=h.length)return"break";a=h[j++]}else{j=h.next();if(j.done)return"break";a=j.value}var b=a,d=e[b],g=d&&d.client_id!=null?d.client_id:null;g!=null&&c.find(function(a){return a===g})&&f.push({clientID:g,serverID:b})};for(var h=d,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){d=g();if(d==="break")break}return f}function m(a,c,d){__p&&__p();if(d.length<=c.length)return[];var e=a[d[0]];if(!e){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getNewlyCreatedCommentIDs(...): Next most recent comment not found");return[]}e=c.filter(function(b){return g(a[b])});c=d.filter(function(b){return g(a[b])});d=c.length-e.length>0;if(!d)return[];if(e.length===0){c.length>1&&b("FBLogger")("ufi2").info("UFI2CommentsProviderState.getNewlyCreatedCommentIDs(...): Received more than 1 new comment in a single update");return c}var f=new Set(e);return c.filter(function(a){return!f.has(a)})}function n(a,b){return b.filter(function(b){b=a[b];return b!=null&&h(b)})}function o(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&h(d)===!1&&h(c)===!0})}function p(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&h(d)===!0&&h(c)===!1})}function c(a,c){__p&&__p();var d=a.depth,e=c.commentsByID,f=c.commentIDs;a=j(a.edges);var g=a.commentIDs;a=a.commentsByID;var h=f.length,q=c.clientCommentIDs,r=g.length,s=i(g),t=c.selectedViewOption;c=c.isRefetchingConnection;var u=n(a,g),v=o(e,a,g),w=p(e,a,g);q=l(g,q,s,a);var x=r>h;h=h>r;r=x?m(a,f,g):[];x=h&&!c;f=x?k(e,a):[];h={clientCommentIDs:s,commentIDs:g,commentIDsUpdatedToServerIDs:q,commentsByID:a,hiddenCommentIDs:u,isRefetchingConnection:c,newlyCreatedCommentIDs:r,newlyHiddenCommentIDs:v,newlyUnhiddenCommentIDs:w,removedCommentIDs:f,selectedViewOption:t};b("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&(console.groupCollapsed("%cUFI2 Relay Comments Connection Update at depth "+d+":",";background-color:#75DBCD;color:#1F2D3D;opacity:0.7;font-weight:bold;"),console.groupEnd());return h}function d(a){a=a.edges;a=j(a);var b=a.commentIDs;a=a.commentsByID;var c=i(b),d=n(a,b);return{clientCommentIDs:c,commentIDs:b,commentIDsUpdatedToServerIDs:[],commentsByID:a,hiddenCommentIDs:d,isRefetchingConnection:!1,newlyCreatedCommentIDs:[],newlyHiddenCommentIDs:[],newlyUnhiddenCommentIDs:[],removedCommentIDs:[],selectedViewOption:null}}e.exports={getBeforeCount:a,getClientCommentIDs:i,getCommentIDsUpdatedToServerIDs:l,getCommentsFromEdges:j,getDerivedStateFromProps:c,getHiddenCommentIDs:n,getInitialState:d,getNewlyCreatedCommentIDs:m,getNewlyHiddenCommentIDs:o,getNewlyUnhiddenCommentIDs:p,getRemovedCommentIDs:k}}),null);
__d("LoadingDialogDimensions",[],(function(a,b,c,d,e,f){a=Object.freeze({HEIGHT:96,WIDTH:300});e.exports=a}),null);
__d("DialogPosition",["Vector"],(function(a,b,c,d,e,f){__p&&__p();var g=40,h;a={calculateTopMargin:function(a,c,d,e){__p&&__p();d===void 0&&(d=null);e===void 0&&(e=!1);var f=b("Vector").getViewportDimensions(),i=!1;e&&d&&(i=d+c>f.y);if(d!=null&&!i)return d;if(h)return h;e=Math.floor((f.x+a)*(f.y-c)/(4*f.x));return Math.max(e,g)},setFixedTopMargin:function(a){h=a}};e.exports=a}),null);
__d("Layer",["invariant","KeyStatus","ArbiterMixin","BehaviorsMixin","BootloadedReact","ContextualThing","CSS","DataStore","DOM","Event","FBLogger","HTML","KeyEventController","Parent","Style","ge","isNode","mixin","removeFromArray","setImmediate"],(function(a,b,c,d,e,f,g){__p&&__p();b("KeyStatus");var h=[],i=function(c){"use strict";__p&&__p();babelHelpers.inheritsLoose(a,c);function a(a,d){__p&&__p();var e;e=c.call(this)||this;e._config=a||{};if(d){e._configure(e._config,d);a=e._config.addedBehaviors||[];e.enableBehaviors(e._getDefaultBehaviors().concat(a))}else b("FBLogger")("layer").warn("The markup param wasn't provided to the Layer constructor");return e}var d=a.prototype;d.init=function(a){this._configure(this._config,a);a=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(a));this._initialized=!0;return this};d._configure=function(a,c){__p&&__p();var d=this;if(c){var e=b("isNode")(c),f=typeof c==="string"||b("HTML").isHTML(c);this.containsReactComponent=b("BootloadedReact").isValidElement(c);!e&&!f&&!this.containsReactComponent&&b("FBLogger")("layer").warn("Layer must be init with HTML, DOM node or React instance");if(f)c=b("HTML")(c).getRootNode();else if(this.containsReactComponent){e=document.createElement("div");var g=!0;b("BootloadedReact").render(c,e,function(){d.inform("reactshow"),g||d.updatePosition()});g=!1;c=this._reactContainer=e}}this._root=this._buildWrapper(a,c);a.attributes&&b("DOM").setAttributes(this._root,a.attributes);a.classNames&&a.classNames.forEach(b("CSS").addClass.bind(null,this._root));b("CSS").addClass(this._root,"uiLayer");a.causalElement&&(this._causalElement=b("ge")(a.causalElement));a.permanent&&(this._permanent=a.permanent);a.isStrictlyControlled&&(this._isStrictlyControlled=a.isStrictlyControlled);b("DataStore").set(this._root,"layer",this);return this};d._getDefaultBehaviors=function(){return[]};d.getCausalElement=function(){return this._causalElement};d.setCausalElement=function(a){this._causalElement=a;return this};d.getInsertParent=function(){return this._insertParent||document.body};d.getRoot=function(){this._root||(this._destroyed?b("FBLogger")("layer").warn("No root node for this Layer. It has either not yet been set or the Layer has been destroyed.  This layer has been destroyed."):b("FBLogger")("layer").warn("No root node for this Layer. It has probably not been set."));return this._root};d.getContentRoot=function(){return this.getRoot()};d._buildWrapper=function(a,b){return b};d.setInsertParent=function(a){a&&(this._shown&&a!==this.getInsertParent()&&(b("DOM").appendContent(a,this.getRoot()),this.updatePosition()),this._insertParent=a);return this};d.showAfterDelay=function(a){window.setTimeout(this.show.bind(this),a)};d.show=function(){__p&&__p();var c=this;if(this._shown)return this;var d=this.getRoot();d!=null||g(0,5142);this.inform("beforeshow");b("Style").set(d,"visibility","hidden");b("Style").set(d,"overflow","hidden");b("CSS").show(d);b("DOM").appendContent(this.getInsertParent(),d);this.updatePosition()!==!1?(this._shown=!0,this.inform("show"),a.inform("show",this),this._permanent||window.setTimeout(function(){c._shown&&h.push(c)},0)):b("CSS").hide(d);b("Style").set(d,"visibility","");b("Style").set(d,"overflow","");b("Style").set(d,"opacity","1");this.inform("aftershow");return this};d.hide=function(a){if(this._isStrictlyControlled){this._shown&&this.inform("runhide",a);return this}return this._hide()};d._hide=function(){if(this._hiding||!this._shown||this.inform("beforehide")===!1)return this;this._hiding=!0;this.inform("starthide")!==!1&&this.finishHide();return this};d.conditionShow=function(a){return a?this.show():this._hide()};d.finishHide=function(){__p&&__p();if(this._shown){this._permanent||b("removeFromArray")(h,this);this._hiding=!1;this._shown=!1;var c=this.getRoot();c!=null||g(0,5143);b("CSS").hide(c);this.inform("hide");a.inform("hide",this)}};d.isShown=function(){return this._shown};d.updatePosition=function(){return!0};d.destroy=function(){__p&&__p();this.containsReactComponent&&b("BootloadedReact").unmountComponentAtNode(this._reactContainer);this.finishHide();var c=this.getRoot();b("DOM").remove(c);this.destroyBehaviors();this.inform("destroy");a.inform("destroy",this);b("DataStore").remove(c,"layer");this._root=this._causalElement=null;this._destroyed=!0};a.init=function(a,b){a.init(b)};a.initAndShow=function(a,b){a.init(b).show()};a.show=function(a){a.show()};a.showAfterDelay=function(a,b){a.showAfterDelay(b)};a.getTopmostLayer=function(){return h[h.length-1]};a.informBlur=function(a){__p&&__p();j=null;k=null;var c=h.length;if(!c)return;while(c--){var d=h[c],e=d.getContentRoot();e!=null||g(0,5144);if(b("ContextualThing").containsIncludingLayers(e,a))return;if(d.inform("blur",{target:a})===!1||d.isShown())return}};return a}(b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));Object.assign(i,b("ArbiterMixin"));Object.assign(i.prototype,{_destroyed:!1,_initialized:!1,_root:null,_shown:!1,_hiding:!1,_causalElement:null,_reactContainer:null});b("Event").listen(document.documentElement,"keydown",function(a){if(b("KeyEventController").filterEventTargets(a,"keydown"))for(var c=h.length-1;c>=0;c--)if(h[c].inform("key",a)===!1)return!1;return!0},b("Event").Priority.URGENT);var j;b("Event").listen(document.documentElement,"mousedown",function(a){j=a.getTarget()});var k;b("Event").listen(document.documentElement,"mouseup",function(a){k=a.getTarget(),b("setImmediate")(function(){j=null,k=null})});b("Event").listen(document.documentElement,"click",function(a){__p&&__p();var c=j,d=k;j=null;k=null;var e=h.length;if(!e)return;e=a.getTarget();if(e!==d||e!==c)return;if(!b("DOM").contains(document.documentElement,e))return;if(e.offsetWidth!=null&&!e.offsetWidth)return;if(b("Parent").byClass(e,"generic_dialog"))return;i.informBlur(e)});e.exports=i}),null);
__d("focusWithinLayer",["DOMQuery","Focus","TabbableElements","getActiveElement"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){__p&&__p();var d=b("DOMQuery").scry(a,".autofocus")[0],e=!0;if(!d){var f=b("getActiveElement")();if(b("DOMQuery").isNodeOfType(f,["input","textarea"]))return;f=b("TabbableElements").find(a);for(var g=0;g<f.length;g++){var h=f[g];if(h.tagName!=="A"||h.getAttribute("role")==="button"){d=f[g];break}}}else d.tabIndex!==0&&(e=!1);d?e?b("Focus").set(d,c):b("Focus").setWithoutOutline(d):a.offsetWidth||(a.tabIndex=-1,b("Focus").setWithoutOutline(a))}e.exports=a}),null);
__d("LayerAutoFocus",["focusWithinLayer"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._subscription=null,this._layer=a,this._subscription=null}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe("aftershow",this._focus.bind(this))};c.disable=function(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null};c._focus=function(){var a=this._layer.getRoot();a&&b("focusWithinLayer")(a,!0)};return a}();e.exports=a}),null);
__d("Button",["csx","cx","CSS","DataStore","DOM","Event","Parent","emptyFunction","isNode"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i="uiButtonDisabled",j="uiButtonDepressed",k="_42fr",l="_42fs",m="button:blocker",n="href",o="ajaxify";function p(a,c){var d=b("DataStore").get(a,m);c?d&&(d.remove(),b("DataStore").remove(a,m)):d||b("DataStore").set(a,m,b("Event").listen(a,"click",b("emptyFunction").thatReturnsFalse,b("Event").Priority.URGENT))}function q(a){a=b("Parent").byClass(a,"uiButton")||b("Parent").bySelector(a,"._42ft");if(!a)throw new Error("invalid use case");return a}function r(a){return b("DOM").isNodeOfType(a,"a")}function s(a){return b("DOM").isNodeOfType(a,"button")}function t(a){return b("CSS").matchesSelector(a,"._42ft")}var u={getInputElement:function(a){a=q(a);if(r(a))throw new Error("invalid use case");return s(a)?a:b("DOM").find(a,"input")},isEnabled:function(a){return!(b("CSS").hasClass(q(a),i)||b("CSS").hasClass(q(a),k))},setEnabled:function(a,c){__p&&__p();a=q(a);var d=t(a)?k:i;b("CSS").conditionClass(a,d,!c);if(r(a)){d=a.getAttribute("href");var e=a.getAttribute("ajaxify"),f=b("DataStore").get(a,n,"#"),g=b("DataStore").get(a,o);c?(d||a.setAttribute("href",f),!e&&g&&a.setAttribute("ajaxify",g),a.removeAttribute("tabIndex")):(d&&d!==f&&b("DataStore").set(a,n,d),e&&e!==g&&b("DataStore").set(a,o,e),a.removeAttribute("href"),a.removeAttribute("ajaxify"),a.setAttribute("tabIndex","-1"));p(a,c)}else{f=u.getInputElement(a);f.disabled=!c;p(f,c)}},setDepressed:function(a,c){a=q(a);var d=t(a)?l:j;b("CSS").conditionClass(a,d,c)},isDepressed:function(a){a=q(a);var c=t(a)?l:j;return b("CSS").hasClass(a,c)},setLabel:function(a,c){__p&&__p();a=q(a);if(t(a)){var d=[];c&&d.push(c);var e=b("DOM").scry(a,".img");for(var f=0;f<e.length;f++){var g=e[f],h=g.parentNode;h.classList&&(h.classList.contains("_4o_3")||h.classList.contains("_-xe"))?a.firstChild===h?d.unshift(h):d.push(h):a.firstChild==g?d.unshift(g):d.push(g)}b("DOM").setContent(a,d)}else if(r(a)){h=b("DOM").find(a,"span.uiButtonText");b("DOM").setContent(h,c)}else u.getInputElement(a).value=c;g=t(a)?"_42fv":"uiButtonNoText";b("CSS").conditionClass(a,g,!c)},getIcon:function(a){a=q(a);return b("DOM").scry(a,".img")[0]},setIcon:function(a,c){if(c&&!b("isNode")(c))return;var d=u.getIcon(a);if(!c){d&&b("DOM").remove(d);return}b("CSS").addClass(c,"customimg");d!=c&&(d?b("DOM").replace(d,c):b("DOM").prependContent(q(a),c))}};e.exports=u}),null);
__d("LayerHideSources",[],(function(a,b,c,d,e,f){a=Object.freeze({BLUR:"blur",ESCAPE:"escape",LAYER_CANCEL_BUTTON:"layerCancelButton",LAYER_HIDE_BUTTON:"layerHideButton",TRANSITION:"transition"});e.exports=a}),null);
__d("LayerButtons",["csx","Button","Event","LayerHideSources","Parent"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._listener=b("Event").listen(this._layer.getRoot(),"click",this._handle.bind(this))};c.disable=function(){this._listener.remove(),this._listener=null};c._handle=function(a){__p&&__p();var c=a.getTarget(),d=b("Parent").byClass(c,"layerHide");if(d){this._layer.hide(b("LayerHideSources").LAYER_HIDE_BUTTON);return}d=b("Parent").byClass(c,"layerConfirm");if(d){if(this._isButton(d)&&!b("Button").isEnabled(d))return;if(this._isInNestedLayer(d))return;this._layer.inform("confirm",d)===!1&&a.prevent();return}d=b("Parent").byClass(c,"layerCancel");if(d){if(this._isButton(d)&&!b("Button").isEnabled(d))return;if(this._isInNestedLayer(d))return;this._layer.inform("cancel",d)!==!1&&this._layer.hide(b("LayerHideSources").LAYER_CANCEL_BUTTON);a.prevent();return}d=b("Parent").byClass(c,"layerButton");if(d){if(this._isButton(d)&&!b("Button").isEnabled(d))return;if(this._isInNestedLayer(d))return;this._layer.inform("button",d)===!1&&a.prevent()}};c._isInNestedLayer=function(a){a=b("Parent").byClass(a,"uiLayer");var c=this._layer.getRoot();return!!(a&&c!==a)};c._isButton=function(a){return!!(b("Parent").byClass(a,"uiButton")||b("Parent").bySelector(a,"._42ft"))};return a}();a.prototype._listener=null;e.exports=a}),null);
__d("LayerFormHooks",["Event"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a}var c=a.prototype;c.enable=function(){var a=this._layer.getRoot();this._subscriptions=[b("Event").listen(a,"submit",this._onSubmit.bind(this)),b("Event").listen(a,"success",this._onSuccess.bind(this)),b("Event").listen(a,"error",this._onError.bind(this))]};c.disable=function(){this._subscriptions.forEach(function(a){a.remove()}),this._subscriptions=null};c._onSubmit=function(a){this._layer.inform("submit",a)===!1&&a.kill()};c._onSuccess=function(a){this._layer.inform("success",a)===!1&&a.kill()};c._onError=function(a){var b=a.getData();this._layer.inform("error",{response:b.response})===!1&&a.kill()};return a}();Object.assign(a.prototype,{_subscriptions:null});e.exports=a}),null);
__d("LayerRefocusOnHide",["ContextualThing","DOM","DOMQuery","Focus","Parent","getActiveElement","nullthrows"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe("hide",this._handle.bind(this))};c.disable=function(){b("nullthrows")(this._subscription).unsubscribe(),this._subscription=null};c._handle=function(){__p&&__p();var a=b("getActiveElement")();if(a===document.body||b("DOMQuery").contains(this._layer.getRoot(),a)){a=this._layer.getCausalElement();while(a&&!a.offsetWidth){var c=b("Parent").byClass(a,"uiToggle");if(c&&c.offsetWidth)a=b("DOM").scry(c,'[rel="toggle"]')[0];else{c=b("ContextualThing").getContext(a);c?a=c:a=a.parentNode}}a&&(a=a,b("Focus").set(a))}};return a}();Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("TabIsolation",["Event","Focus","Keys","TabbableElements","containsNode"],(function(a,b,c,d,e,f){__p&&__p();var g=[],h=0;a=function(){"use strict";__p&&__p();function a(a){this.$3=a,this.$1=null,this.$2=h++}var c=a.prototype;c.enable=function(){var a=this;this.disable();g.unshift(this.$2);this.$1=b("Event").listen(window,"keydown",function(b){g[0]===a.$2&&a.$4(b)},b("Event").Priority.URGENT)};c.disable=function(){if(this.$1){var a=g.indexOf(this.$2);a>-1&&g.splice(a,1);this.$1.remove();this.$1=null}};c.$4=function(a){__p&&__p();if(b("Event").getKeyCode(a)!==b("Keys").TAB)return;var c=a.getTarget();if(!c)return;var d=b("TabbableElements").find(this.$3),e=d[0];d=d[d.length-1];var f=a.getModifiers();f=f.shift;f&&c===e?(a.preventDefault(),b("Focus").set(d)):(!f&&c===d||!b("containsNode")(this.$3,c))&&(a.preventDefault(),b("Focus").set(e))};return a}();e.exports=a}),null);
__d("LayerTabIsolation",["TabIsolation"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a,this._tabIsolation=null,this._subscriptions=null}var c=a.prototype;c.enable=function(){var a=this._layer.getRoot();if(a==null)return;a=new(b("TabIsolation"))(a);this._tabIsolation=a;this._subscriptions=[this._layer.subscribe("show",a.enable.bind(a)),this._layer.subscribe("hide",a.disable.bind(a))]};c.disable=function(){while(this._subscriptions&&this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._tabIsolation&&this._tabIsolation.disable();this._tabIsolation=null};return a}();Object.assign(a.prototype,{_subscriptions:[]});e.exports=a}),null);
__d("LayerTogglerContext",["Toggler"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._root=this._layer.getRoot(),b("Toggler").createInstance(this._root).setSticky(!1)};c.disable=function(){b("Toggler").destroyInstance(this._root),this._root=null};return a}();e.exports=a}),null);
__d("ModalLayer",["csx","cx","Arbiter","ArbiterMixin","CSS","DataStore","DOM","DOMDimensions","DOMQuery","Event","Scroll","ScrollAwareDOM","Style","UserAgent","Vector","debounceAcrossTransitions","ge","getDocumentScrollElement","isAsyncScrollQuery","removeFromArray","setTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=[],j=null,k=null,l=null;function m(){l||(l=b("DOMQuery").scry(document.body,"._li")[0]||b("ge")("FB4BResponsiveMain"));return l}function n(a){__p&&__p();var c={position:b("Vector").getScrollPosition(),listener:void 0},d=a.offsetTop-c.position.y;b("CSS").addClass(a,"_31e");m().id!=="FB4BResponsiveMain"&&b("Style").set(a,"top",d+"px");b("Arbiter").inform("reflow");c.listener=b("ScrollAwareDOM").subscribe("scroll",function(d,e){if(b("DOMQuery").contains(a,e.target)){d=a.offsetTop-e.delta.y;b("Style").set(a,"top",d+"px");c.position=c.position.add(e.delta);return!1}return!0});b("DataStore").set(a,"ModalLayerData",c)}function o(a,c){__p&&__p();var d=b("DataStore").get(a,"ModalLayerData");if(d){var e=function(){__p&&__p();b("CSS").removeClass(a,"_31e");b("Style").set(a,"top","");if(c){var e=b("getDocumentScrollElement")();b("Scroll").setTop(e,d.position.y);b("Scroll").getTop(e)!==d.position.y&&(b("Scroll").setTop(e,d.position.y+1),b("Scroll").setTop(e,d.position.y))}b("Arbiter").inform("reflow");d.listener.unsubscribe();d.listener=null;b("DataStore").remove(a,"ModalLayerData")};if(c&&b("isAsyncScrollQuery")()){var f=b("DOM").create("div",{className:"_42w"});b("Style").set(f,"height",a.offsetHeight+"px");b("DOM").appendContent(document.body,f);var g=b("getDocumentScrollElement")();b("Scroll").setTop(g,d.position.y);c=!1;b("setTimeout")(function(){e(),b("DOM").remove(f)},0)}else e()}}function p(){var a=m();a!=null&&!b("CSS").matchesSelector(a,"._31e")&&n(a)}function q(){i.length||o(m(),!0)}function r(){__p&&__p();var a=i.length;while(a--){var c=i[a],d=c.getLayerRoot();if(d){s(d,0);c=c.getLayerContentRoot();if(c){c=c.offsetWidth+b("DOMDimensions").measureElementBox(c,"width",!1,!1,!0);s(d,c)}}}}function s(a,c){b("Style").set(a,"min-width",c+(c?"px":""))}a=function(){"use strict";__p&&__p();function a(a){this._layer=a,this._enabled=!1}var c=a.prototype;c.enable=function(){if(!m())return;this._subscription=this._layer.subscribe(["show","hide"],function(a){a=="show"?this._addModal():this._removeModal()}.bind(this));this._layer.isShown()&&this._addModal();this._enabled=!0};c.disable=function(){if(!m())return;this._subscription&&this._subscription.unsubscribe();this._layer.isShown()&&this._removeModal();this._enabled=!1};c._addModal=function(){__p&&__p();var c=this.getLayerRoot();b("CSS").addClass(c,"_3qw");this._wash=b("DOM").create("div",{className:"_3ixn"});b("DOM").prependContent(c,this._wash);c=i[i.length-1];c?n(c.getLayerRoot()):p();c=b("getDocumentScrollElement")();b("Scroll").setTop(c,0);if(!i.length){c=b("debounceAcrossTransitions")(r,100);j=b("Event").listen(window,"resize",c);k=b("Arbiter").subscribe("reflow",c)}i.push(this);a.inform("show",this);b("setTimeout")(r,0)};c._removeModal=function(){__p&&__p();var c=this,d=this.getLayerRoot();b("CSS").removeClass(d,"_3qw");b("DOM").remove(this._wash);this._wash=null;s(d,0);var e=this===i[i.length-1];b("removeFromArray")(i,this);i.length||(j&&j.remove(),j=null,k&&k.unsubscribe(),k=null);var f;b("UserAgent").isBrowser("Safari")&&(d=b("Event").listen(document.documentElement,"mousewheel",b("Event").prevent),f=d.remove.bind(d));b("setTimeoutAcrossTransitions")(function(){var d=i[i.length-1];d?(o(d.getLayerRoot(),e),a.inform("show",d)):(q(),a.inform("hide",c));i.length&&b("setTimeout")(r,0);b("UserAgent").isBrowser("Safari")&&b("setTimeout")(function(){f()},0)},200)};c.getLayerRoot=function(){return this._enabled?this._layer.getRoot():null};c.getLayerContentRoot=function(){return this._enabled?this._layer.getContentRoot():null};a.getTopmostModalLayer=function(){return i[i.length-1]};return a}();Object.assign(a,b("ArbiterMixin"));e.exports=a}),null);
__d("DialogX",["cx","fbt","Arbiter","CSS","DialogPosition","DOMQuery","Event","JSXDOM","Layer","LayerAutoFocus","LayerButtons","LayerFormHooks","LayerRefocusOnHide","LayerTabIsolation","LayerTogglerContext","ModalLayer","Style","Vector","debounce","getOrCreateDOMID","goURI","shield"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d._configure=function(c,d){__p&&__p();a.prototype._configure.call(this,c,d);b("CSS").addClass(this.getRoot(),"_4-hy");if(c.autohide)var e=this.subscribe("show",function(){e.unsubscribe(),window.setTimeout(b("shield")(this.hide,this),c.autohide)}.bind(this));if(c.redirectURI)var f=this.subscribe("hide",function(){f.unsubscribe(),b("goURI")(c.redirectURI)});this._fixedTopPosition=c.fixedTopPosition;this._ignoreFixedTopInShortViewport=c.ignoreFixedTopInShortViewport};d._getDefaultBehaviors=function(){return a.prototype._getDefaultBehaviors.call(this).concat([i,b("ModalLayer"),b("LayerAutoFocus"),b("LayerButtons"),b("LayerFormHooks"),b("LayerTabIsolation"),b("LayerTogglerContext"),b("LayerRefocusOnHide")])};d._buildWrapper=function(a,c){__p&&__p();var d=a.xui?"_4t2a":"_t",e=a.xui?"_59s7":"_1yv";this._innerContent=b("JSXDOM").div(null,c);c={className:e,role:"dialog"};if(a.labelledBy)c["aria-labelledby"]=a.labelledBy;else if(a.label)c["aria-label"]=a.label;else if(a.titleID)c["aria-labelledby"]=a.titleID;else if(a.titleClass){e=b("DOMQuery").scry(this._innerContent,a.titleClass);if(e.length){e=b("getOrCreateDOMID")(e[0]);c["aria-labelledby"]=e}else c["aria-label"]=this._getDefaultLabel()}else c["aria-label"]=this._getDefaultLabel();e={className:d};a["data-testid"]&&(e["data-testid"]=a["data-testid"]);this._wrapper=b("JSXDOM").div(c,b("JSXDOM").div(e,this._innerContent));a.width!=null&&this.setWidth(a.width);a.height!=null&&this.setHeight(a.height);return b("JSXDOM").div({className:"_10"},this._wrapper)};d._getDefaultLabel=function(){return h._("Dialog content")};d.getContentRoot=function(){return this._wrapper};d.getInnerContent=function(){return this._innerContent};d.updatePosition=function(){var a=b("Vector").getElementDimensions(this._wrapper);a=b("DialogPosition").calculateTopMargin(a.x,a.y,this._fixedTopPosition,this._ignoreFixedTopInShortViewport);b("Style").set(this._wrapper,"margin-top",a+"px");this.inform("update_position",{type:"DialogX",top:a})};d.setWidth=function(a){a=Math.floor(a);if(a===this._width)return;this._width=a;b("Style").set(this._wrapper,"width",a+"px")};d.getWidth=function(){return this._width};d.setHeight=function(a){a=Math.floor(a);if(a===this._height)return;this._height=a;b("Style").set(this._wrapper,"height",a+"px")};d.getFixedTopPosition=function(){return this._fixedTopPosition};d.shouldIgnoreFixedTopInShortViewport=function(){return this._ignoreFixedTopInShortViewport};return c}(b("Layer"));var i=function(){"use strict";__p&&__p();function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe(["show","hide"],function(a){a==="show"?(this._attach(),b("Arbiter").inform("layer_shown",{type:"DialogX"})):(this._detach(),b("Arbiter").inform("layer_hidden",{type:"DialogX"}))}.bind(this))};c.disable=function(){this._subscription.unsubscribe(),this._subscription=null,this._resize&&this._detach()};c._attach=function(){this._layer.updatePosition(),this._resize=b("Event").listen(window,"resize",b("debounce")(this._layer.updatePosition.bind(this._layer)))};c._detach=function(){this._resize.remove(),this._resize=null};return a}();Object.assign(i.prototype,{_subscription:null,_resize:null});e.exports=a}),null);
__d("LayerHideOnBlur",["LayerHideSources","requestAnimationFrame"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscriptions=[this._layer.subscribe("show",this._attach.bind(this)),this._layer.subscribe("hide",this._detach.bind(this))],this._layer.isShown()&&this._attach()};c.disable=function(){this._detach();while(this._subscriptions&&this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null};c._detach=function(){this._onBlur&&this._onBlur.unsubscribe(),this._onBlur=null};c._attach=function(){var a=this;this._onBlur=this._layer.subscribe("blur",function(){b("requestAnimationFrame")(function(){a._layer.hide(b("LayerHideSources").BLUR)});return!1})};return a}();Object.assign(a.prototype,{_subscriptions:null,_onBlur:null});e.exports=a}),null);
__d("LayerHideOnEscape",["Event","Keys","LayerHideSources"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe("key",this.handle.bind(this))};c.disable=function(){this._subscription!=null&&this._subscription.unsubscribe(),this._subscription=null};c.handle=function(a,c){if(b("Event").getKeyCode(c)===b("Keys").ESC){this._layer.hide(b("LayerHideSources").ESCAPE);return!1}return void 0};return a}();Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("LayerFadeOnShow",["Bootloader","Run","emptyFunction","ifRequired"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a,b("Run").onAfterLoad(function(){b("Bootloader").loadModules(["CSSFade"],b("emptyFunction"),"LayerFadeOnShow")})}var c=a.prototype;c.enable=function(){this._subscriptions=[this._layer.subscribe("show",this._animate.bind(this))]};c.disable=function(){if(this._subscriptions){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null}};c._getDuration=function(){return 100};c._animate=function(){var a=this,c=this._layer.getRoot();b("ifRequired")("CSSFade",function(b){b.show(c,{duration:a._getDuration()})},function(){})};a.forDuration=function(c){var d=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a);d.prototype._getDuration=b("emptyFunction").thatReturns(c);return d};return a}();Object.assign(a.prototype,{_subscriptions:null});e.exports=a}),null);
__d("UFI2LazyCodedErrorDialog.react",["FBLogger","JSResource","LoadingDialog.react","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("lazyLoadComponent")(b("JSResource")("UFI2CodedErrorDialog.react").__setRef("UFI2LazyCodedErrorDialog.react"));function a(a){var c=a.error;a=babelHelpers.objectWithoutPropertiesLoose(a,["error"]);if(Object.prototype.hasOwnProperty.call(c,"code")!=null&&Object.prototype.hasOwnProperty.call(c,"description")!=null&&Object.prototype.hasOwnProperty.call(c,"summary")!=null){var d,e=c;return(d=b("React")).jsx(d.Suspense,{fallback:d.jsx(b("LoadingDialog.react"),{}),children:d.jsx(g,babelHelpers["extends"]({},a,{codedError:e,width:445}))})}else{b("FBLogger")("ufi2").warn("A `UFI2LazyCodedError` was constructed with an `Error` object that doesn't conform to `CodedError`. Error: %s",String(c));return null}}e.exports=a}),null);
__d("ActorURI",["ActorURIConfig","URI"],(function(a,b,c,d,e,f){var g;a={create:function(a,c){return new(g||(g=b("URI")))(a).addQueryData(b("ActorURIConfig").PARAMETER_ACTOR,c)},PARAMETER_ACTOR:b("ActorURIConfig").PARAMETER_ACTOR};e.exports=a}),null);
__d("getConsumerFacebookUFI2ComposerPlugins",["requireCond","JSResource","RelayModern","UFI2Config","createUFI2AssociateReplyWithParentComposerPlugin","cr:1197524","createUFI2ComposerStateSnapshotComposerPlugin","createUFI2ComposerTipPlugin","cr:1004781","cr:1004782","createUFI2EmojiComposerPlugin","createUFI2EmoticonsComposerPlugin","createUFI2GIFComposerPlugin","createUFI2HashtagComposerPlugin","createUFI2MediaUploadComposerPlugin","createUFI2MentionsComposerPlugin","createUFI2PrefillMentionComposerPlugin","createUFI2SetReplyClickedComposerPlugin","cr:1101374","createUFI2StarsComposerPlugin","createUFI2StickersComposerPlugin","cr:1004783","getConsumerFacebookUFI2ComposerPlugins_feedback.graphql","getConsumerFacebookUFI2ComposerPlugins_group.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;b("RelayModern").graphql;var i=b("JSResource")("createUpgradedUFI2GroupMentionsComposerPlugin").__setRef("getConsumerFacebookUFI2ComposerPlugins"),j=b("JSResource")("createUpgradedUFI2MentionsComposerPlugin").__setRef("getConsumerFacebookUFI2ComposerPlugins");g!==void 0?g:g=b("getConsumerFacebookUFI2ComposerPlugins_feedback.graphql");h!==void 0?h:h=b("getConsumerFacebookUFI2ComposerPlugins_group.graphql");function a(a){__p&&__p();var c,d=a.environment,e=a.feedback,f=a.group;a=a.pluginsToInsertBeforePositions;var g=e.mentions_datasource_js_constructor_args_json;return[e.composer_tip!=null?b("createUFI2ComposerTipPlugin")({composer_tip:e.composer_tip}):null,b("cr:1004783")&&b("UFI2Config").shouldShowWritingHelp?b("cr:1004783")():null,f?b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:g,typeaheadViewProps:{__type:"GroupMentions",sortFn:function(a,b){__p&&__p();var c=a.getAuxiliaryData().renderType,d=b.getAuxiliaryData().renderType;if(c===d){var e=a.getAuxiliaryData().indexRank,f=b.getAuxiliaryData().indexRank;if(e===-1&&f!==-1)return-1;else if(e!==-1&&f===-1)return 1;else return a.getOrder()-b.getOrder()}e={bot:1,member:0,non_member:2,place:3};return e[c]-e[d]},viewProps:{bot:{aux:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.bot_aux:c:c,title:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.bot_title:c:c},member:{aux:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.member_aux:c:c,title:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.member_title:c:c},nonMember:{aux:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.nonmember_aux:c:c,title:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.nonmember_title:c:c}}},upgradedPluginResource:i}):b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:g,typeaheadViewProps:{},upgradedPluginResource:j})].concat(e.can_viewer_comment_with_stars===!0?b("createUFI2StarsComposerPlugin")({environment:d,feedbackID:(f=e)!=null?f.id:f}):[],[b("createUFI2HashtagComposerPlugin")(),b("cr:1004782")?b("cr:1004782")({size:10}):null],a?a["1"]||[]:[],b("createUFI2EmojiComposerPlugin")({size:16}),a?a["2"]||[]:[],[b("createUFI2EmoticonsComposerPlugin")({size:16}),b("cr:1004781")?b("cr:1004781")({environment:d,ftentidentifier:e==null?void 0:e.id,trackingID:null}):null],a?a["3"]||[]:[],[e.can_viewer_comment_with_photo===!0&&e.can_viewer_comment_with_video===!0?b("createUFI2MediaUploadComposerPlugin")({feedback:e}):null],a?a["4"]||[]:[],e.can_viewer_comment_with_gif===!0?b("createUFI2GIFComposerPlugin")({ftentidentifier:e==null?void 0:e.id}):[],a?a["5"]||[]:[],e.can_viewer_comment_with_sticker===!0?b("createUFI2StickersComposerPlugin")({environment:d,targetID:(c=e)!=null?(c=c.owning_profile)!=null?c.id:c:c}):[],[b("cr:1197524")!=null&&(e==null?void 0:(g=e.viewer_actor)==null?void 0:(f=g.user_avatar)==null?void 0:f.has_fb_app_avatar)===!0?b("cr:1197524")({}):null,b("createUFI2PrefillMentionComposerPlugin")(),b("createUFI2AssociateReplyWithParentComposerPlugin")(),b("createUFI2SetReplyClickedComposerPlugin")(),e.can_see_voice_switcher===!0||e.flat_threading_config!=null?b("createUFI2ComposerStateSnapshotComposerPlugin")():null,b("cr:1101374")!=null?b("cr:1101374")({environment:d,ftentidentifier:e==null?void 0:e.id,surface:"newsfeed_comment_www"}):null]).filter(Boolean)}e.exports=a}),null);
__d("forEachUFI2DisplayCommentsConnection",["UFI2CommentsConnectionHandler"],(function(a,b,c,d,e,f){"use strict";var g=b("UFI2CommentsConnectionHandler").unstable_getAllConnectionsWithKey;function a(a,b,c){var d=!1;a=g(a,b,"UFI2CommentsProvider_feedback_display_comments");a!=null&&a.length>0&&(a.forEach(c),d=!0);return d}e.exports=a}),null);
__d("displayCommentsConnectionCountUpdater",["FBLogger","forEachUFI2DisplayCommentsConnection"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){__p&&__p();var c=a.feedbackId;a.feedbackSource;var d=a.modifier,e=a.store,f=a.topLevelFeedbackId,g=a.totalCommentCountModifier;function h(a){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",f||c||"UNKNOWN").addMetadata("UFI","RAW_DATA","comment_feedback_id;"+(c||"UNKNOWN")+", comments_count_modifier;"+(g||d)+", conn_count_modifier;"+d).warn(a)}a=e.get(c);if(a==null){h("could not find feedback record");return}b("forEachUFI2DisplayCommentsConnection")(e,a,function(a){var b=Math.max(0,Number(a.getValue("count"))+d);a.setValue(b,"count")});a=e.get(f||c);if(a==null){h("could not find top level feedback record");return}e=a.getLinkedRecord("top_level_comments");if(e==null){h("could not find top level comments");return}h=e.getValue("total_count");h=Math.max(0,Number(h)+(g||d));e.setValue(h,"total_count");e=a.getValue("comment_count_reduced");Number(e).toString()===e&&a.setValue(h.toString(),"comment_count_reduced")}g.decrement=function(a){return g(babelHelpers["extends"]({},a,{modifier:-1}))};g.increment=function(a){return g(babelHelpers["extends"]({},a,{modifier:1}))};e.exports=g}),null);
__d("getRenderableBodyFromCommentMessage",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){__p&&__p();if(a==null)return a;var c=a.ranges==null?[]:a.ranges.filter(Boolean);return{__typename:"TextWithEntities",aggregated_ranges:[],delight_ranges:[],image_ranges:[],inline_style_ranges:[],ranges:c.map(function(a){__p&&__p();var c=b[a.entity.id];if(c){c=c.getData();var d=c.isWeak,e=c.type;c=c.uri;return{__typename:"EntityAtRange",entity:babelHelpers["extends"]({},a.entity,{__typename:e==null?"Actor":e.replace(/([A-Z])/g," $1").replace(/(\s+\w)/g,function(a,b){return b.toUpperCase()}).replace(/^./,function(a){return a.toUpperCase()}),url:c}),entity_is_weak_reference:!!d,length:a.length,offset:a.offset}}return null}).filter(Boolean),text:a.text,translation_type:null}}e.exports=a}),null);
__d("makeUFI2ClientID",[],(function(a,b,c,d,e,f){"use strict";var g=0;function a(a){return a!=null&&a.startsWith("client:")?a:a!=null?"client:"+a:"client:feedback_comment:"+g++}e.exports=a}),null);
__d("UFI2CreateCommentMutation",["invariant","requireCond","Bootloader","ChannelClientID","CurrentUser","FBLogger","FeedbackSourceType","JSEnumValueToGraphQLKey","RelayModern","RelayRuntime","ServerTime","SiteData","displayCommentsConnectionCountUpdater","forEachUFI2DisplayCommentsConnection","getRenderableBodyFromCommentMessage","makeUFI2ClientID","cr:1088250","UFI2CreateCommentMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=b("RelayRuntime").ConnectionHandler,k=b("RelayRuntime").applyOptimisticMutation,l=b("SiteData").pr,m=h!==void 0?h:h=b("UFI2CreateCommentMutation.graphql"),n={};function o(a){__p&&__p();var c=a.actorID,d=a.commentProfilePictureSizeDepth0,e=a.commentProfilePictureSizeDepth1,f=a.containerMapping,h=a.environment,s=a.entitiesByID,t=a.feedbackSource,u=a.feedLocation,v=a.focusCommentID,w=a.input,x=a.isComet,y=a.onCompleted,z=a.onError,A=a.topLevelFeedbackId,B=a.updater,C=a.useDefaultActor,D=a.usedWritingHelpToCompose,E=a.UFI2CommentsProvider_commentsKey,F=b("makeUFI2ClientID")(a.clientID),G=a.retryID||F;f=babelHelpers["extends"]({},f,{commentProfilePictureSizeDepth0:d,commentProfilePictureSizeDepth1:e,feedLocation:u,feedbackSource:t,focusCommentID:v,input:babelHelpers["extends"]({},w,{actor_id:c,feedback_source:b("JSEnumValueToGraphQLKey")(b("FeedbackSourceType"),t),idempotence_token:G,session_id:b("ChannelClientID").getID()}),isComet:x,scale:l,useDefaultActor:C,UFI2CommentsProvider_commentsKey:E});var H=function(a){__p&&__p();return function(d){__p&&__p();var e=d.getRootField("comment_create");if(e){var f=e.getLinkedRecord("feedback_comment_edge");if(f){e=d.get(w.feedback_id);if(e!=null){b("forEachUFI2DisplayCommentsConnection")(d,e,function(a){j.insertEdgeBefore(a,f)});if(B){var h=A==null||A===e.getDataID()?null:d.get(A);B(e,f,h)}}}}e=d.get(c);e||g(0,455,c);h=d.get(G);h||g(0,456,G);h.setLinkedRecord(e,"author");h.setValue("ADD","optimistic_action");if(a&&a.toString){h.setValue(a.toString(),"optimistic_error");e=a.code;typeof e==="number"&&h.setValue(e,"optimistic_error_code")}else h.setValue(!0,"is_locally_composed");h.setValue(F,"client_id");h.setValue(w.reply_comment_parent_fbid,"reply_comment_parent_fbid");e=w.reply_comment_parent_fbid!=null?d.get(w.reply_comment_parent_fbid):null;e=e!=null?e.getValue("depth"):null;typeof e==="number"&&h.setValue(e+1,"depth");b("displayCommentsConnectionCountUpdater").increment({feedbackId:w.feedback_id,feedbackSource:t,store:d,topLevelFeedbackId:A})}},I={mutation:m,optimisticResponse:q(w,G,s),optimisticUpdater:H(),variables:f},J=null,K=i(h,babelHelpers["extends"]({},I,{onCompleted:function(a){p(a),y&&y(a),r(w)},onError:function(c){n[G]=function(){if(!n[G]){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",G).warn("Tried to call a create comment mutation retry handle that was already removed.");return}K&&K.dispose();K=null;o(babelHelpers["extends"]({},a,{retryID:G}));delete n[G]},K=k(h,babelHelpers["extends"]({},I,{optimisticResponse:q(w,G,s),optimisticUpdater:H(c)})),z&&z(c)},updater:function(a){__p&&__p();var c=a.getRootField("comment_create");c||g(0,457);var d=c.getLinkedRecord("feedback_comment_edge");d||g(0,458);c=d.getLinkedRecord("node");c||g(0,459);c.setValue(!0,"is_locally_composed");c.setValue(F,"client_id");c.setValue(D===!0,"used_writing_help_to_compose");b("displayCommentsConnectionCountUpdater").increment({feedbackId:w.feedback_id,feedbackSource:t,store:a,topLevelFeedbackId:A});c=a.get(w.feedback_id);if(c!=null){b("forEachUFI2DisplayCommentsConnection")(a,c,function(a){j.insertEdgeBefore(a,d)});if(B){a=A==null||A===c.getDataID()?null:a.get(A);B(c,d,a)}}}}));return{dispose:function(){J&&J.remove(),J=null,K&&K.dispose(),K=null,delete n[G]}}}function p(a){var c=(a=a.comment_create)==null?void 0:(a=a.survey_primer_attributes)==null?void 0:a.ajaxify;c&&b("Bootloader").loadModules(["AsyncRequest"],function(a){new a(c).send()},"UFI2CreateCommentMutation")}function q(a,c,d){return{comment_create:{detection_analytics_enabled:null,feedback_comment_edge:{cursor:null,node:{attached_story:null,attachments:[],author:null,body:null,can_see_constituent_badge_upsell:null,can_show_multiple_identity_badges:!1,can_viewer_disable_preview:null,can_viewer_share:null,chat_to_buy:null,comment_menu_items:[],comment_menu_tooltip:null,comment_parent:null,create_detailed_report_uri:null,created_time:Math.round(b("ServerTime").getMillis()/1e3),edit_history:null,feedback:{associated_group:null,associated_video:null,can_viewer_comment:null,can_viewer_comment_with_marker:null,can_viewer_react:!0,comment_composer_placeholder:null,comment_count:null,comment_share_context:null,display_comments:null,id:null,page_private_reply:null,political_figure_data:null,reactors:null,share_fbid:null,subscription_target_id:null,supported_reactions:[],top_reactions:null,viewer_actor:null,viewer_feedback_reaction_info:null},file_marker:null,flat_threading_depth:null,group_comment_info:null,has_constituent_badge:null,id:c,identity_badges_web:[],inline_survey_config:null,insights_data_point:null,is_author_banned_by_content_owner:null,is_author_bot:null,is_author_non_coworker:null,is_author_original_poster:null,is_author_weak_reference:null,is_hidden_by_content_owner:null,is_markdown_enabled:null,legacy_fbid:void 0,legacy_token:null,living_room_content_item:a.living_room_content_item_id?{id:a.living_room_content_item_id}:null,page_admin_actor_info:null,parent_feedback:null,parent_post_story:null,preferred_body:b("getRenderableBodyFromCommentMessage")(a.message,d),private_reply_context:null,should_show_comment_menu:!1,spam_display_mode:"none",sub_reply_parent_above_comment_author_context:null,sub_reply_parent_preview_context:null,synced_intern_qa_answer:null,timestamp_in_video:void 0,translatability_for_viewer:null,translation_available_for_viewer:null,url:null,us_structured_reporting_enabled:null,written_while_video_was_live:void 0,www_layout_renderer:null}},survey_primer_attributes:null}}}function a(a){var c=n[a];if(!c){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",a).warn("No comment create mutation retry handler found.");return null}return c}function r(a){if(!b("CurrentUser").isWorkUser())return;if(a.tracking==null)return;a=a.tracking[0];a=(a=JSON.parse((a=a)!=null?a:""))==null?void 0:a.top_level_post_id;a&&b("cr:1088250")&&b("cr:1088250")(a)}e.exports={commit:o,getRetryFn:a}}),null);
__d("UFI2RemovePreviewMutation",["RelayModern","UFI2RemovePreviewMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("UFI2RemovePreviewMutation.graphql");function a(a,b){var c={comment_id:b.commentID};c={input:babelHelpers["extends"]({},c,{actor_id:b.actorID})};b={comment_delete_attachment:{comment:{attached_story:null,attachments:[],can_viewer_disable_preview:!1,id:b.commentID}}};return h(a,{mutation:i,optimisticResponse:b,variables:c})}e.exports={commit:a}}),null);
__d("getMutationTrackingPropertyFromTrackingData",["URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a){a=a(["ft"]);a=a==null?void 0:a.ft;var c=(g||(g=b("URI"))).getMostRecentURI().getQueryData(),d=c.notif_id;c=c.notif_t;d=d!=null?{alert_id:d,notif_source:"notif_jewel",notif_type:c}:null;c=a!=null||d!=null?babelHelpers["extends"]({},a,d):null;return c?[JSON.stringify(c)]:null}e.exports=a}),null);
__d("getCommentCreateMutationPropertiesFromTrackingData",["getMutationTrackingPropertyFromTrackingData","getReferrerURI"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("getReferrerURI")();return{feedback_referrer:c?c.getPath():void 0,tracking:b("getMutationTrackingPropertyFromTrackingData")(a)}}e.exports=a}),null);
__d("useTrackingCodeFnForBlue",["getCommentCreateMutationPropertiesFromTrackingData"],(function(a,b,c,d,e,f){"use strict";a=function(){return b("getCommentCreateMutationPropertiesFromTrackingData")};e.exports=a}),null);
__d("useTrackingCodeFnForBlueOrComet",["requireCond","cr:886520"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:886520")}),null);
__d("AccessibleLayer",["fbt","DOM","Event","Focus"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a,this._listener=null}var c=a.prototype;c.enable=function(){this._afterShowSubscription=this._layer.subscribe("aftershow",this._onAfterShow.bind(this)),this._afterHideSubscription=this._layer.subscribe("hide",this._onAfterHide.bind(this))};c.disable=function(){this._listener&&this._listener.remove(),this._afterShowSubscription.unsubscribe(),this._listener=this._afterShowSubscription=null};c._closeListener=function(a){a=this._layer.getCausalElement();a&&(a.tabIndex==null?(a.tabIndex=-1,b("Focus").setWithoutOutline(a)):b("Focus").set(a));this._layer.hide()};c._setupCloseButton=function(){var a=this._layer.getContentRoot(),c=b("DOM").scry(a,".layer_close_elem")[0];c||(c=b("DOM").create("a",{className:"accessible_elem layer_close_elem",href:"#",role:"button"},[g._("Close popup and return")]),b("DOM").appendContent(a,c));this._listener=b("Event").listen(c,"click",this._closeListener.bind(this))};c._onAfterShow=function(){this._listener||this._setupCloseButton()};c._onAfterHide=function(){this._listener&&this._listener.remove(),this._listener=null};return a}();e.exports=a}),null);
__d("ContextualDialogARIA",["DOM","getOrCreateDOMID"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe("beforeshow",this._addAriaAttribute.bind(this))};c.disable=function(){this._subscription.unsubscribe(),this._subscription=null};c._addAriaAttribute=function(){var a=this._layer.getCausalElement();if(!a)return;var c=b("DOM").scry(this._layer.getRoot(),".accessible_elem");c.length&&a.setAttribute("aria-describedby",b("getOrCreateDOMID")(c[0]))};return a}();e.exports=a}),null);
__d("AbstractContextualDialogArrowBehavior",["cx","CSS","DOM","Locale","Style","Vector","abstractMethod"],(function(a,b,c,d,e,f,g){__p&&__p();var h={bottom:"_53ik",top:"_53il",right:"_53im",left:"_53in"},i={above:"bottom",below:"top",left:"right",right:"left"};a=function(){"use strict";__p&&__p();function a(a){this.__layer=this._layer=a}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe(["adjust","reposition"],this._handle.bind(this))};c.disable=function(){this._subscription.unsubscribe(),this._subscription=null};c.__getArrow=function(){return b("abstractMethod")("AbstractContextualDialogArrowBehavior","__getArrow")};c._handle=function(a,b){a==="adjust"?this._repositionArrow(b):this._repositionRoot(b)};c._repositionRoot=function(a){__p&&__p();var c=a.getAlignment();if(c=="center")return;var d=this._layer.getRoot(),e=this._layer.getContext();a=a.isVertical();var f=this._layer.getArrowDimensions(),g=f.offset;f=f.length;e=b("Vector").getElementDimensions(e);e=a?e.x:e.y;if(e>=f+g*2)return;f=f/2+g;g=e/2;e=parseInt(f-g,10);if(a){f=null;c=="left"?f=b("Locale").isRTL()?"right":"left":f=b("Locale").isRTL()?"left":"right";g=parseInt(b("Style").get(d,f),10);b("Style").set(d,f,g-e+"px")}else{a=parseInt(b("Style").get(d,"top"),10);b("Style").set(d,"top",a-e+"px")}};c._repositionArrow=function(c){__p&&__p();var d=this._layer.getContentRoot(),e=c.getPosition(),f=i[e];for(var g in h)b("CSS").conditionClass(d,h[g],f===g);if(e=="none")return;this._arrow||(this._arrow=this.__getArrow());b("DOM").contains(d,this._arrow)||b("DOM").appendContent(d,this._arrow);b("Style").set(this._arrow,"top","");b("Style").set(this._arrow,"left","");b("Style").set(this._arrow,"right","");b("Style").set(this._arrow,"margin","");f=a.getOffsetPercent(c);e=a.getOffset(c,f,this._layer);d=a.getOffsetSide(c);b("Style").set(this._arrow,d,f+"%");b("Style").set(this._arrow,"margin-"+d,e+"px")};a.getOffsetPercent=function(a){var b=a.getAlignment();a=a.getPosition();if(a=="above"||a=="below")if(b=="center")return 50;else if(b=="right")return 100;return 0};a.getOffsetSide=function(a){a=a.isVertical();return a?b("Locale").isRTL()?"right":"left":"top"};a.getOffset=function(a,b,c){c=c.getArrowDimensions();var d=c.offset;c=c.length;a=a.getAlignment();d=a=="center"?0:d;d+=c*b/100;a!="left"&&(d*=-1);return d};return a}();e.exports=a}),null);
__d("ContextualDialogArrow",["cx","AbstractContextualDialogArrowBehavior","CSS","JSXDOM"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getArrow=function(){return b("JSXDOM").i({className:"_53io"})};d.enable=function(){a.prototype.enable.call(this);var c=this.__layer.getContentRoot();b("CSS").addClass(c,"_5v-0")};d.disable=function(){a.prototype.disable.call(this);var c=this.__layer.getContentRoot();b("CSS").removeClass(c,"_5v-0")};return c}(b("AbstractContextualDialogArrowBehavior"));e.exports=a}),null);
__d("ContextualDialogDefaultTheme",["cx"],(function(a,b,c,d,e,f,g){a={wrapperClassName:"_53ip",arrowDimensions:{offset:15,length:16}};e.exports=a}),null);
__d("ContextualDialogFitInViewport_PUSHSAFE",["Style","Vector"],(function(a,b,c,d,e,f){__p&&__p();var g=50,h=10;a=function(){"use strict";__p&&__p();function a(a){this._layer=a,this._contentHeight=null,this._contextY=null}var c=a.prototype;c.enable=function(){var a=this._layer.getArrowDimensions();this._arrowOffset=a.offset;a=a.length;this._arrowBuffer=this._arrowOffset+a;this._subscription=this._layer.subscribe(["reposition"],function(a,b){if(!this._layer.isFixed()||b.isVertical())return;this._adjustPosition()}.bind(this))};c.disable=function(){this._subscription.unsubscribe(),this._subscription=null};c._getContentHeight=function(){return b("Vector").getElementDimensions(this._layer._contentWrapper).y};c._getContextY=function(){return b("Vector").getElementPosition(this._layer.getContext(),"viewport").y};c._adjustPosition=function(){var a=this._getContextY(),c=this._getContentHeight();if(a===this._contextY&&c===this._contentHeight)return;this._contextY=a;this._contentHeight=c;var d=b("Vector").getViewportDimensions().y;d=Math.min(Math.max(0,a+c+h-d),Math.max(0,a-g),c-this._arrowOffset-this._arrowBuffer);b("Style").set(this._layer.getContent(),"top",-d+"px")};return a}();e.exports=a}),null);
__d("LayerBounds",["Locale","Rect","ViewportBounds","containsNode","ge","getOverlayZIndex"],(function(a,b,c,d,e,f){a={getViewportRectForContext:function(a){var c=b("ge")("globalContainer");c=c&&b("containsNode")(c,a)||b("getOverlayZIndex")(a)<300;a=b("Rect").getViewportWithoutScrollbarsBounds();c&&(a.t+=b("ViewportBounds").getTop(),b("Locale").isRTL()?(a.r-=b("ViewportBounds").getLeft(),a.l+=b("ViewportBounds").getRight()):(a.r-=b("ViewportBounds").getRight(),a.l+=b("ViewportBounds").getLeft()));return a}};e.exports=a}),null);
__d("ContextualLayerDimensions",["LayerBounds","Locale","Rect","Vector"],(function(a,b,c,d,e,f){__p&&__p();a={getViewportRect:function(a){return b("LayerBounds").getViewportRectForContext(a.getContext())},getLayerRect:function(a,c){__p&&__p();var d=a.getContextBounds("viewport"),e=a.simulateOrientation(c,function(){return b("Vector").getElementDimensions(a.getContentRoot())}),f=d.t+c.getOffsetY();c.getPosition()==="above"?f-=e.y:c.getPosition()==="below"&&(f+=d.b-d.t);var g=d.l+c.getOffsetX();d=d.r-d.l;if(c.isVertical()){var h=c.getAlignment();h==="center"?g+=(d-e.x)/2:h==="right"!==b("Locale").isRTL()?g+=d-e.x+c.getArrowOffset():g-=c.getArrowOffset()}else c.getPosition()==="right"!==b("Locale").isRTL()?g+=d:g-=e.x;return new(b("Rect"))(f,g+e.x,f+e.y,g,"viewport")}};e.exports=a}),null);
__d("AbstractContextualDialogKeepInViewportBehavior",["ContextualLayerDimensions","Event","Vector","abstractMethod","throttle"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a,this._listeners=[],this._subscription=null,this._minimumTop=null}var c=a.prototype;c.enable=function(){var a=this._layer.getArrowDimensions();this._arrowOffset=a.offset;a=a.length;this._arrowBuffer=this._arrowOffset+a;this._subscription=this._layer.subscribe(["show","hide","reposition"],function(a,b){if(this._layer.isFixed())return;a=="reposition"?(this._calculateMinimumTop(b),this._adjustForScroll()):a=="show"?(this._attachScroll(),this._adjustForScroll()):this._detachScroll()}.bind(this));this._layer.isShown()&&this._attachScroll()};c.disable=function(){this._layer.isShown()&&this._detachScroll(),this._subscription.unsubscribe(),this._subscription=null};c.__adjustForScroll=function(a,c){return b("abstractMethod")("AbstractContextualDialogArrowBehavior","__adjustForScroll")};c._attachScroll=function(){var a=b("throttle")(this._adjustForScroll.bind(this)),c=this._layer.getContextScrollParent()||window;this._listeners=[b("Event").listen(c,"scroll",a),b("Event").listen(window,"resize",a)]};c._detachScroll=function(){while(this._listeners.length)this._listeners.pop().remove();this._listeners=[]};c._getContentHeight=function(){return!this._layer._contentWrapper?0:b("Vector").getElementDimensions(this._layer._contentWrapper).y};c._getContextY=function(){return b("Vector").getElementPosition(this._layer.getContext()).y};c._calculateMinimumTop=function(a){if(a.isVertical())return;this._minimumTop=this._getContextY()-(this._getContentHeight()-this._arrowBuffer)+a.getOffsetY()};c._adjustForScroll=function(){__p&&__p();var a=this._layer.getOrientation(),c=this._layer.getContent();if(a.isVertical()||!c)return;a=b("ContextualLayerDimensions").getViewportRect(this._layer);c=a.b-this._minimumTop;if(c<0)return;a=this._getContentHeight();var d=a-(this._arrowBuffer+this._arrowOffset);d=Math.max(0,Math.min(d,d-(c-a)));this.__adjustForScroll(this._layer,d)};return a}();e.exports=a}),null);
__d("ContextualDialogKeepInViewport",["AbstractContextualDialogKeepInViewportBehavior","Style"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__adjustForScroll=function(a,c){a=a.getContent();b("Style").set(a,"top",-c+"px")};return c}(b("AbstractContextualDialogKeepInViewportBehavior"));e.exports=a}),null);
__d("SVGChecker",[],(function(a,b,c,d,e,f){e.exports={isSVG:function(a){return!!a.ownerSVGElement||a.tagName.toLowerCase()==="svg"},isDisplayed:function(a){try{a=a.getBBox();if(a&&(a.height===0||a.width===0))return!1}catch(a){return!1}return!0}}}),null);
__d("ContextualLayer",["invariant","requireCond","Arbiter","ARIA","Bootloader","ContextualLayerAlignmentEnum","ContextualLayerPositionEnum","ContextualThing","CSS","DataStore","DOM","Event","Layer","cr:971473","Locale","Parent","Rect","Scroll","Style","SVGChecker","Vector","containsNode","emptyFunction","getOffsetParent","getOrCreateDOMID","getOverlayZIndex","getOwnObjectValues","isElementNode","removeFromArray","throttle"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){return a.getPosition()==="left"||a.isVertical()&&a.getAlignment()==="right"}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d._configure=function(b,c){b.dialogRole!=="dialog"&&(this._dialogRole=b.dialogRole),b.shouldSetARIAProperties===!1&&(this._shouldSetARIAProperties=b.shouldSetARIAProperties),b.label&&(this._label=b.label),b.labelledBy&&(this._labelledBy=b.labelledBy),a.prototype._configure.call(this,b,c),b.context?this.setContext(b.context):b.contextID?this._setContextID(b.contextID):b.contextSelector&&(this._setContextSelector(b.contextSelector),this._setARIAProperties()),this.setPosition(b.position),this.setAlignment(b.alignment),this.setOffsetX(b.offsetX),this.setOffsetY(b.offsetY),this.setArrowDimensions(b.arrowDimensions),this._content=c};d._getDefaultBehaviors=function(){var d=c.getDefaultBehaviorsAsObject();return a.prototype._getDefaultBehaviors.call(this).concat(b("getOwnObjectValues")(d))};d._buildWrapper=function(a,c){this._contentWrapper=b("DOM").create("div",{className:"uiContextualLayer"},c);this._dialogRole&&this._contentWrapper.setAttribute("role",this._dialogRole);this._labelledBy?this._contentWrapper.setAttribute("aria-labelledby",this._labelledBy):this._label&&this._contentWrapper.setAttribute("aria-label",this._label);this._dialogRole==="alert"&&this._contentWrapper.setAttribute("aria-atomic","true");return b("DOM").create("div",{className:"uiContextualLayerPositioner","data-testid":a["data-testid"]},this._contentWrapper)};d.getInsertParent=function(){var c=this._insertParent;if(!c){var d=this.getContext();d&&(c=b("Parent").byClass(d,"uiContextualLayerParent"))}return c||a.prototype.getInsertParent.call(this)};d.setContent=function(a){this._content=a;b("DOM").setContent(this._contentWrapper,this._content);this._shown&&this.updatePosition();return this};d.setContext=function(a){return this.setContextWithBounds(a,null)};d.setContextWithBounds=function(a,c){__p&&__p();if(this._contextNode===a&&c&&this._contextBounds&&c.isEqualTo(this._contextBounds))return this;this._contextNode=a;var d=c&&this._contextBounds&&c.t===this._contextBounds.t&&c.r===this._contextBounds.r&&c.b===this._contextBounds.b&&c.l===this._contextBounds.l;if(d)return this;this._contextBounds=c||null;this._contextSelector="#"+b("getOrCreateDOMID")(a);this._contextScrollParent=null;this._shown&&(b("ContextualThing").register(this.getRoot(),this._contextNode),this.updatePosition());this._setParentSubscription();this._setARIAProperties();return this};d.shouldSetARIAProperties=function(a){this._shouldSetARIAProperties=a;return this};d._setARIAProperties=function(){if(!this._shouldSetARIAProperties)return this;this._dialogRole==="dialog"?b("ARIA").setPopup(this.getCausalElement(),this.getRoot()):this._dialogRole==="region"&&b("Bootloader").loadModules(["ContextualLayerInlineTabOrder"],function(a){this.hasBehavior(a)||this.enableBehavior(a)}.bind(this),"ContextualLayer");return this};d._setContextID=function(a){this._contextSelector="#"+a,this._contextNode=null};d._setContextSelector=function(a){this._contextSelector=a,this._contextNode=null};d.getCausalElement=function(){return a.prototype.getCausalElement.call(this)||this.getContext()};d._setParentSubscription=function(){__p&&__p();var a=this.getContext(),c=null;while(a!=null){c=b("DataStore").get(a,"layer");if(c)break;a=a.parentNode}if(c===this._parentLayer)return;this._parentLayer&&this._parentSubscription&&(this._parentLayer.unsubscribe(this._parentSubscription),this._parentSubscription=null);c&&(this._parentSubscription=c.subscribe("hide",this.hide.bind(this)));this._parentLayer=c};d.setPosition=function(a){this.getOrientation().setDefaultPosition(a)&&(this._shown&&this.updatePosition());return this};d.setAlignment=function(a){this.getOrientation().setDefaultAlignment(a)&&(this._shown&&this.updatePosition());return this};d.setOffsetX=function(a){this.getOrientation().setDefaultOffsetX(a)&&(this._shown&&this.updatePosition());return this};d.setArrowDimensions=function(a){a&&this.getOrientation().setArrowOffset(a.offset)&&(this._shown&&this.updatePosition());return this};d.setOffsetY=function(a){this.getOrientation().setDefaultOffsetY(a)&&(this._shown&&this.updatePosition());return this};d.getPosition=function(){return this.getOrientation().getPosition()};d.getOrientation=function(){this._orientation||(this._orientation=new l());return this._orientation};d.getContentRoot=function(){return this._contentWrapper};d.getContent=function(){return this._content};d.getContext=function(){this._contextNode||(this._contextSelector!=null||g(0,11711),this._contextNode=b("DOM").find(document,this._contextSelector));return this._contextNode};d.getContextBounds=function(a){if(this._contextBounds)return this._contextBounds.convertTo(a);var c=this.getContext();return b("Rect").newFromVectors(b("Vector").getElementPosition(c,a),b("Vector").getElementDimensions(c))};d.getContextScrollParent=function(){!this._contextScrollParent?this._contextScrollParent=b("Style").getScrollParent(this.getContext()):b("isElementNode")(this._contextScrollParent)&&!b("containsNode")(document.documentElement,this._contextScrollParent)&&(this._contextScrollParent=b("Style").getScrollParent(this.getContext()));return this._contextScrollParent};d.setInsertParent=function(b){this._insertScrollParent=null;return a.prototype.setInsertParent.call(this,b)};d.getInsertScrollParent=function(){this._insertScrollParent||(this._insertScrollParent=b("Style").getScrollParent(this.getInsertParent()));return this._insertScrollParent};d.show=function(){var c=this;if(this._shown)return this;a.prototype.show.call(this);b("Arbiter").inform("contextualLayer/toggle",{show:!0,contentRoot:this.getRoot()});this._shown&&(b("ContextualThing").register(this.getRoot(),this.getContext()),i.push(this),this._resizeListener=this._resizeListener||b("Event").listen(window,"resize",b("throttle")(function(){c._shown&&c.updatePosition()})));return this};d.finishHide=function(){b("removeFromArray")(i,this);this._resizeListener&&this._resizeListener.remove();this._resizeListener=null;this._insertScrollParent=null;b("Arbiter").inform("contextualLayer/toggle",{show:!1,contentRoot:this.getRoot()});return a.prototype.finishHide.call(this)};d.isFixed=function(){return b("Style").isFixed(this.getContext())&&!b("Style").isFixed(this.getInsertParent())};d.updatePosition=function(){__p&&__p();var a=this.getContext();if(!a)return!1;var c=this.isFixed();if(!c&&!(a.offsetParent||b("SVGChecker").isSVG(a)&&b("SVGChecker").isDisplayed(a)))return!1;var d=this.getRoot();b("Style").set(d,"width",b("Vector").getViewportDimensions().x+"px");var e=this.getOrientation();this.inform("adjust",e.reset());if(!e.isValid())return!1;this._updateWrapperPosition(e);this._updateWrapperClass(e);b("CSS").conditionClass(d,"uiContextualLayerPositionerFixed",c);var f,g,i=c?"viewport":"document";c=c?document.documentElement:b("getOffsetParent")(d);if(c===document.documentElement)f=new(b("Vector"))(0,0),g=document.documentElement.clientWidth;else if(!d.offsetParent)return!1;else f=b("Vector").getElementPosition(c,i),g=c.offsetWidth,c!==document.body&&(f=f.sub(new(b("Vector"))(b("Scroll").getLeft(c),b("Scroll").getTop(c))));c=this.getContextBounds(i);i=c.l-f.x;f=c.t-f.y;var j=c.h();c=c.w();var k=b("Locale").isRTL();e.getPosition()==="below"&&(f+=j);(e.getPosition()==="right"||e.isVertical()&&e.getAlignment()==="right")!=k&&(i+=c);j=e.getOffsetX();e.isVertical()&&e.getAlignment()==="center"&&(j+=(c-this.getContentRoot().offsetWidth)/2);k&&(j*=-1);c="left";i=Math.floor(i+j);h(e)!==k&&(c="right",i=g-i);b("Style").set(d,c,i+"px");b("Style").set(d,c==="left"?"right":"left","");j=this.getInsertScrollParent();k=0;j!==window?(g=j.clientWidth,k=b("Vector").getElementPosition(j).x):g=document.documentElement.clientWidth;i=b("Vector").getElementPosition(d).x-k;c==="left"&&g-i>0?b("Style").set(d,"width",g-i+"px"):c==="right"&&i+d.offsetWidth>0?b("Style").set(d,"width",i+d.offsetWidth+"px"):b("Style").set(d,"width","");b("Style").set(d,"top",f+e.getOffsetY()+"px");j=b("getOverlayZIndex")(a,this.getInsertParent());b("Style").set(d,"z-index",j>200?j:"");this.inform("reposition",e);return!0};d._updateWrapperPosition=function(a){var c=a.getPosition()==="above";b("Style").set(this._contentWrapper,"bottom",c?"0":null);c=b("Locale").isRTL()?"left":"right";a=h(a);b("Style").set(this._contentWrapper,c,a?"0":null)};d._updateWrapperClass=function(a){a=a.getClassName();if(a===this._orientationClass)return;this._orientationClass&&b("CSS").removeClass(this._contentWrapper,this._orientationClass);this._orientationClass=a;b("CSS").addClass(this._contentWrapper,a)};d.simulateOrientation=function(a,c){__p&&__p();a=a.getClassName();if(a===this._orientationClass)return c();else{this._orientationClass&&b("CSS").removeClass(this._contentWrapper,this._orientationClass);b("CSS").addClass(this._contentWrapper,a);c=c();b("CSS").removeClass(this._contentWrapper,a);this._orientationClass&&b("CSS").addClass(this._contentWrapper,this._orientationClass);return c}};d.destroy=function(){a.prototype.destroy.call(this);this._contentWrapper=null;this._content=null;return this};d.getArrowDimensions=function(){return this._config.arrowDimensions||{offset:0,length:0}};c.getDefaultBehaviorsAsObject=function(){return b("cr:971473")==null?{}:{LayerHideOnTransition:b("cr:971473")}};return c}(b("Layer"));var i=[];b("Arbiter").subscribe("reflow",function(){i.forEach(function(a){a.updatePosition()===!1&&a.hide()})});Object.assign(a.prototype,{_contentWrapper:null,_content:null,_contextNode:null,_contextBounds:null,_contextSelector:null,_dialogRole:"dialog",_label:null,_labelledBy:[],_parentLayer:null,_parentSubscription:null,_orientation:null,_orientationClass:null,_shouldSetARIAProperties:!0});var j=b("emptyFunction").thatReturnsArgument,k=b("emptyFunction").thatReturnsArgument,l=function(){"use strict";__p&&__p();function a(){this._default={_position:"above",_alignment:"left",_offsetX:0,_offsetY:0,_valid:!0,_preferMoreContentShownRect:!1},this.reset()}var b=a.prototype;b.setPosition=function(a){this._position=j(a);return this};b.setAlignment=function(a){this._alignment=k(a);return this};b.getOppositePosition=function(){return a.OPPOSITE[this.getPosition()]};b.invalidate=function(){this._valid=!1;return this};b.getPosition=function(){return this._position||"above"};b.getAlignment=function(){return this._alignment||"left"};b.getOffsetX=function(){var a=this._offsetX||0;!this.isVertical()?this._default._position!==this._position&&(a*=-1):this._default._alignment!==this._alignment&&(a*=-1);return a};b.getOffsetY=function(){var a=this._offsetY||0;this.isVertical()&&this._default._position!==this._position&&(a*=-1);return a};b.getClassName=function(){__p&&__p();var a=this.getAlignment(),b=this.getPosition();if(b==="below")if(a==="left")return"uiContextualLayerBelowLeft";else if(a==="right")return"uiContextualLayerBelowRight";else return"uiContextualLayerBelowCenter";else if(b==="above")if(a==="left")return"uiContextualLayerAboveLeft";else if(a==="right")return"uiContextualLayerAboveRight";else return"uiContextualLayerAboveCenter";else if(b==="left")return"uiContextualLayerLeft";else return"uiContextualLayerRight"};b.isValid=function(){return this._valid};b.isVertical=function(){return this.getPosition()==="above"||this.getPosition()==="below"};b.reset=function(){Object.assign(this,this._default);return this};b.setDefaultPosition=function(a){var b=this._default._position;this._default._position=j(a);return b!==a};b.setDefaultAlignment=function(a){var b=this._default._alignment;this._default._alignment=k(a);return b!==a};b.setDefaultOffsetX=function(a){var b=this._default._offsetX;this._default._offsetX=a;return b!==a};b.setArrowOffset=function(a){var b=this._default._arrowOffset;this._default._arrowOffset=a;return b!==a};b.getArrowOffset=function(){return this._default._arrowOffset||0};b.setDefaultOffsetY=function(a){var b=this._default._offsetY;this._default._offsetY=a;return b!==a};b.setPreferMoreContentShownRect=function(a){var b=this._default._preferMoreContentShownRect;this._default._preferMoreContentShownRect=a;return b!==a};b.getPreferMoreContentShownRect=function(){return this._default._preferMoreContentShownRect};return a}();l.OPPOSITE={above:"below",below:"above",left:"right",right:"left"};e.exports=a}),null);
__d("LayerMouseHooks",["Arbiter","ContextualThing","Event","Layer"],(function(a,b,c,d,e,f){__p&&__p();var g=new(b("Arbiter"))();a=function(){"use strict";__p&&__p();function a(a){this._layer=a,this._subscriptions=[],this._currentlyActive=!1}var c=a.prototype;c.enable=function(){this._subscriptions=[g.subscribe("mouseenter",this._handleActive.bind(this)),g.subscribe("mouseleave",this._handleInactive.bind(this)),this._layer.subscribe("hide",function(){this._currentlyActive=!1}.bind(this))]};c.disable=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=[];this._currentlyActive=!1};c._handleActive=function(a,b){!this._currentlyActive&&this._isNodeWithinStack(b)&&(this._layer.inform("mouseenter",b),this._currentlyActive=!0)};c._handleInactive=function(a,b){this._currentlyActive&&((!b||!this._isNodeWithinStack(b))&&(this._layer.inform("mouseleave",b),this._currentlyActive=!1))};c._isNodeWithinStack=function(a){return b("ContextualThing").containsIncludingLayers(this._layer.getContentRoot(),a)};return a}();b("Layer").subscribe("show",function(a,c){var d=c.getContentRoot(),e=[b("Event").listen(d,"mouseenter",function(){g.inform("mouseenter",d)}),b("Event").listen(d,"mouseleave",function(a){g.inform("mouseleave",a.getRelatedTarget())})],f=c.subscribe("hide",function(){while(e.length)e.pop().remove();f.unsubscribe();e=f=null})});e.exports=a}),null);
__d("ContextualDialog",["csx","cx","invariant","requireCond","AccessibleLayer","ContextualDialogARIA","ContextualDialogArrow","ContextualDialogDefaultTheme","ContextualDialogFitInViewport_PUSHSAFE","ContextualDialogKeepInViewport","ContextualLayer","CSS","DOM","Event","JSXDOM","LayerButtons","LayerFormHooks","cr:971473","LayerMouseHooks","LayerRefocusOnHide","Style","removeFromArray","shield"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=0,k=300;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b._footer=null;return b}var d=c.prototype;d._configure=function(c,d){Object.assign(c,c.theme||b("ContextualDialogDefaultTheme"));var e=c.arrowBehavior||b("ContextualDialogArrow");c.addedBehaviors=c.addedBehaviors||[];c.addedBehaviors.push(e);a.prototype._configure.call(this,c,d);this._footer=b("DOM").scry(d,"div._572u")[0];this._footer&&(this._footer.children.length===1&&this._footer.children[0].nodeName==="DIV"&&this._footer.children[0].children.length===0?this._footer.parentNode.removeChild(this._footer):b("CSS").addClass(this.getContentRoot(),"_kc"));c.hoverContext&&this._registerHoverHandlers(c.hoverContext,c.hoverShowDelay,c.hoverHideDelay)};d._registerHoverHandlers=function(a,c,d){__p&&__p();var e=this,f=c,g=d;f==null&&(f=j);g==null&&(g=k);var h,i;c=function(a){window.clearTimeout(i),h=window.setTimeout(b("shield")(e.show,e),f)};d=function(a){if(e._isHoverLocked())return;window.clearTimeout(h);i=window.setTimeout(e.hide.bind(e),g)};var l=b("Event").listen(a,"mouseenter",c),m=b("Event").listen(a,"mouseleave",d),n=this.subscribe("mouseenter",c),o=this.subscribe("mouseleave",d);this.subscribe("destroy",function(){window.clearTimeout(i),window.clearTimeout(h),l.remove(),m.remove(),n.unsubscribe(),o.unsubscribe()})};d._getDefaultBehaviors=function(){var c=a.prototype._getDefaultBehaviors.call(this);b("cr:971473")!=null&&b("removeFromArray")(c,b("cr:971473"));return c.concat([b("AccessibleLayer"),b("LayerRefocusOnHide"),b("ContextualDialogKeepInViewport"),b("ContextualDialogFitInViewport_PUSHSAFE"),b("LayerButtons"),b("LayerFormHooks"),b("LayerMouseHooks"),b("ContextualDialogARIA")])};d._buildWrapper=function(c,d){__p&&__p();this._innerWrapper=b("JSXDOM").div(null,d);var e=a.prototype._buildWrapper.call(this,c,this._innerWrapper);if(c.wrapperClassName){var f=c.wrapperClassName.split(/\s+/);for(var f=f,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(h>=f.length)break;j=f[h++]}else{h=f.next();if(h.done)break;j=h.value}j=j;b("CSS").addClass(e,j)}}this.replaceEntireLayerContents(d);this.getContent()===d||i(0,5783);this.setWidth(c.width);return e};d.getContentRoot=function(){!this._innerWrapper&&i(0,5784);return this._innerWrapper};d.setContent=function(a){i(0,5785)};d.replaceEntireLayerContents=function(a){this._content=null,b("DOM").empty(this.getContentRoot()),this.setInnerContent(a)};d.setInnerContent=function(a){b("CSS").addClass(a,"_53ij"),this.getContent()?b("DOM").replace(this.getContent(),a):b("DOM").appendContent(this.getContentRoot(),a),this._content=a,this.isShown()&&this.updatePosition()};d.setWidth=function(a){b("Style").set(this.getContentRoot(),"width",a?Math.floor(a)+"px":"");return this};d.getFooter=function(){return this._footer};d.lockHover=function(){this._hoverLocked=!0;return this};d.unlockHover=function(){this._hoverLocked=!1;return this};d._isHoverLocked=function(){return!!this._hoverLocked};c.setContext=function(a,b){a.setContext(b)};return c}(b("ContextualLayer"));e.exports=a}),null);
__d("XUIAmbientNUXDarkTheme",["cx"],(function(a,b,c,d,e,f,g){a={wrapperClassName:"_6dh- _2x6q",arrowDimensions:{offset:14,length:18}};e.exports=a}),null);
__d("XUIAmbientNUXTheme",["cx"],(function(a,b,c,d,e,f,g){a={wrapperClassName:"_2x6q",arrowDimensions:{offset:14,length:18}};e.exports=a}),null);
__d("UFI2CommentShareNux.react",["AsyncRequest","BasicFBNux","Random","React","XBasicFBNuxGenShouldShowController","XUIAmbientNUX.react","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=7643,h=2e3,i=6e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.state={shouldShow:!1},d.closeNUX=function(){b("BasicFBNux").onDismiss(g),d.setState({shouldShow:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;this.$1=!0;var c=b("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",g).setBool("should_log_view",!1).getURI();b("setTimeout")(function(){new(b("AsyncRequest"))().setURI(c).setHandler(function(c){if(c.payload&&a.$1){c=c.payload.should_show_nux;b("BasicFBNux").onView(g);a.setState({shouldShow:c})}}).send()},b("Random").random()*(i-h)+h)};d.componentWillUnmount=function(){this.$1=!1};d.render=function(){return b("React").jsx(b("XUIAmbientNUX.react"),babelHelpers["extends"]({alignment:"right",onCloseButtonClick:this.closeNUX,position:"below",shown:this.state.shouldShow},this.props))};return c}(b("React").Component);e.exports=a}),null);
__d("UFI2GIFNUX.react",["fbt","AsyncRequest","React","XFeedNUXSaveSeenStateController","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=b("XFeedNUXSaveSeenStateController").getURIBuilder().setString("key","gif_comments").setBool("seen",!0).getURI();new(b("AsyncRequest"))(a).send()};d.render=function(){var a=this.props,c=a.onClose;a=a.contextRef;return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:a,onCloseButtonClick:c,position:"above",shown:!0,children:g._("You can now add GIFs to comments")})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("getUFI2CommentsPagerLabel",["fbt","NumberFormat"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.labelType;a=a.numCommentsToShow;switch(c){case"view_one":return g._("View 1 comment");case"view_more":return g._("View more comments");case"view_one_more":return g._("View 1 more comment");case"view_more_explicit":return g._({"*":{"*":"View {count} more comments","_1":"View {count} more comment"}},[g._param("count",b("NumberFormat").formatInteger(a),[0,a]),g._plural(a)]);case"view_previous":return g._("View previous comments");case"view_previous_explicit":return g._({"*":{"*":"View {count} previous comments","_1":"View {count} previous comment"}},[g._param("count",b("NumberFormat").formatInteger(a),[0,a]),g._plural(a)]);case"view_comments_indeterminate":default:return g._("View comments")}}e.exports=a}),null);
__d("getUFI2RepliesPagerLabel",["fbt","NumberFormat"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.labelType,d=a.numCommentsToShow;a=a.numCommentsTotal;switch(c){case"view_one":return g._("View 1 reply");case"view_more":return g._("View more replies");case"view_one_more":return g._("View 1 more reply");case"view_more_explicit":return g._({"*":{"*":"View {count} more replies","_1":"View {count} more reply"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_previous":return g._("View previous replies");case"view_previous_explicit":return g._({"*":{"*":"View {count} previous replies","_1":"View {count} previous reply"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_comments_indeterminate":return g._("View replies");case"view_all":default:return g._({"*":"View all {count} replies"},[g._param("count",b("NumberFormat").formatInteger(a),[0,a])])}}e.exports=a}),null);
__d("getUFI2PagerLabel",["invariant","UFI2ViewOption","getUFI2CommentsPagerLabel","getUFI2RepliesPagerLabel"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){__p&&__p();var c=a.Selectors,d=a.depth,e=a.direction,f=a.listState,g=a.pageSize,h=a.pagerCount,i=a.summaryTotalNumComments,j=a.totalCount;a=a.viewOption;var k=c.getVisibleCommentsCount({depth:d,state:f});c=c.hasLastPageLeftInDirection({depth:d,direction:e,pageSize:g,state:f,totalCount:j});f=b("UFI2ViewOption").isChronologicalOrder(a);j=f&&e==="backward"||!f&&e==="forward";if(k===0){if(h===1&&i===1)return"view_one";if(d>0)return"view_all";else return"view_comments_indeterminate"}else if(c&&h<=g)if(h===1)return"view_one_more";else return"view_more_explicit";if(j)return"view_more";else return"view_previous"}function a(a){var c=a.Selectors,d=a.depth,e=a.direction,f=a.listState,i=a.totalCount,j=c.isPagerVisible({depth:d,direction:e,state:f});if(!j)return null;j=c.getPagerCount({depth:d,direction:e,state:f});j!=null||g(0,4513);c=h(babelHelpers["extends"]({},a,{pagerCount:j}));e=d>0;return e?b("getUFI2RepliesPagerLabel")({labelType:c,numCommentsToShow:j,numCommentsTotal:i}):b("getUFI2CommentsPagerLabel")({labelType:c,numCommentsToShow:j})}e.exports=a}),null);
__d("UFI2FeedbackSubscriptionTopicProvider",["FBLogger","RelayRTIGraphQLSubscriptionTopicProvider","RelayRuntime","relay-runtime/query/GraphQLTag"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayRuntime").getRequest,h=b("relay-runtime/query/GraphQLTag").isRequest,i={};function j(a){return function(b){var c;b=(c=(c=b.input)==null?void 0:c.feedback_id)!=null?c:(c=b.input)==null?void 0:c.top_level_feedback_id;c=i[b];return c==null?null:a+c}}function a(a,c){if(h(a)===!1){b("FBLogger")("ufi2").warn("The `subscription` passed to `registerProvider()` must be a `ConcreteRequest`.");return}a=g(a);a=a.params.id;a!=null&&(a!=null&&typeof a==="string"&&b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(a,j(c)))}function c(a,b){i[a]=b}e.exports={addSubscriptionTargetIDForFeedbackID:c,registerProvider:a}}),null);
__d("UFI2FeedbackCommentReactSubscription",["RelayModern","UFI2FeedbackSubscriptionTopicProvider","UFI2FeedbackCommentReactSubscription_feedback.graphql","UFI2FeedbackCommentReactSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription;g!==void 0?g:g=b("UFI2FeedbackCommentReactSubscription_feedback.graphql");var j=h!==void 0?h:h=b("UFI2FeedbackCommentReactSubscription.graphql");b("UFI2FeedbackSubscriptionTopicProvider").registerProvider(j,"gqls/comment_like_subscribe/top_level_feedback_id_");function a(a,c,d,e,f){b("UFI2FeedbackSubscriptionTopicProvider").addSubscriptionTargetIDForFeedbackID(c.top_level_feedback_id,e);return i(a,{subscription:j,variables:{input:c,isComet:f,useDefaultActor:d}})}e.exports={subscribe:a}}),null);
__d("UFI2FeedbackReactSubscription",["RelayModern","UFI2FeedbackSubscriptionTopicProvider","UFI2FeedbackReactSubscription_feedback.graphql","UFI2FeedbackReactSubscription_liker.graphql","UFI2FeedbackReactSubscription_viewer.graphql","UFI2FeedbackReactSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i,j;b("RelayModern").graphql;var k=b("RelayModern").requestSubscription;g!==void 0?g:g=b("UFI2FeedbackReactSubscription_feedback.graphql");h!==void 0?h:h=b("UFI2FeedbackReactSubscription_liker.graphql");i!==void 0?i:i=b("UFI2FeedbackReactSubscription_viewer.graphql");var l=j!==void 0?j:j=b("UFI2FeedbackReactSubscription.graphql");b("UFI2FeedbackSubscriptionTopicProvider").registerProvider(l,"gqls/feedback_like_subscribe/feedback_id_");function a(a,c,d,e){__p&&__p();b("UFI2FeedbackSubscriptionTopicProvider").addSubscriptionTargetIDForFeedbackID(c.feedback_id,e);return k(a,{subscription:l,updater:function(a,b){__p&&__p();var c,d;c=(c=b.feedback_like_subscribe)==null?void 0:(c=c.liker)==null?void 0:c.id;d=(d=b.feedback_like_subscribe)==null?void 0:(d=d.viewer)==null?void 0:(d=d.actor)==null?void 0:d.id;if(c!==d){b=(c=b.feedback_like_subscribe)==null?void 0:(d=c.feedback)==null?void 0:d.id;if(b){c=a.get(b);c&&c.setValue(!0,"is_unseen")}}},variables:{input:c,useDefaultActor:d}})}e.exports={subscribe:a}}),null);
__d("UFI2ToggleCommentPermissionSubscription",["RelayModern","UFI2FeedbackSubscriptionTopicProvider","UFI2ToggleCommentPermissionSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription,i=g!==void 0?g:g=b("UFI2ToggleCommentPermissionSubscription.graphql");b("UFI2FeedbackSubscriptionTopicProvider").registerProvider(i,"gqls/feedback_comment_permission_toggle_subscribe/feedback_id_");function a(a,c,d,e){b("UFI2FeedbackSubscriptionTopicProvider").addSubscriptionTargetIDForFeedbackID(c.feedback_id,e);return h(a,{subscription:i,variables:{input:c,useDefaultActor:d}})}e.exports={subscribe:a}}),null);
__d("RelayUFI2Environment",["invariant","requireCond","ActorURIConfig","PinnedCommentEventsConnectionHandler","RelayAPIConfig","RelayFBOperationLoader","RelayRuntime","UFI2CommentsConnectionHandler","VideoTimestampedCommentsConnectionHandler","cr:1121434","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction","relayFBGetDataID","resolveImmediate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=(c=b("RelayRuntime")).ConnectionHandler,i=c.Environment,j=c.QueryResponseCache,k=c.RecordSource,l=c.Store,m=10,n=5*60*1e3,o={};a(b("RelayAPIConfig").actorID);function p(a){switch(a){case"connection":return h;case"video_timestamped_comments":return b("VideoTimestampedCommentsConnectionHandler");case"pinned_comment_events":return b("PinnedCommentEventsConnectionHandler");case"ufi2_comments":return b("UFI2CommentsConnectionHandler")}g(0,11762,a)}function a(a){__p&&__p();if(!Object.prototype.hasOwnProperty.call(o,a)){var c=new j({size:m,ttl:n});c=b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")(babelHelpers["extends"]({},a!=null?{actorID:a,getAdditionalData:function(){var c;return c={},c[b("ActorURIConfig").PARAMETER_ACTOR]=a,c}}:null,{queryResponseCache:c})),b("createRelayFBSubscribeFunction")({queryResponseCache:c}));var d=new k();d=new l(d,{UNSTABLE_DO_NOT_USE_getDataID:b("relayFBGetDataID"),gcReleaseBufferSize:10,gcScheduler:b("resolveImmediate"),operationLoader:b("RelayFBOperationLoader")});o[a]=new i({UNSTABLE_DO_NOT_USE_getDataID:b("relayFBGetDataID"),configName:"RelayUFI2Environment(actor:"+String(a)+")",handlerProvider:p,log:b("cr:1121434")!=null?b("cr:1121434")():null,network:c,operationLoader:b("RelayFBOperationLoader"),store:d})}return o[a]}e.exports={forActor:a,handlerProvider:p}}),null);
__d("UFI2AbstractButtonWrapper.react",["requireCond","cr:829648"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:829648")}),null);
__d("UFI2ActiveLayerMonitor",["ErrorUtils","Parent","SubscriptionsHandler","UserActivity","getDocumentScrollElement"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=[],i=!1,j=b("getDocumentScrollElement")(),k=[],l;function m(a){i=!0;k.push.apply(k,h);while(k.length){var c=k.shift();(g||(g=b("ErrorUtils"))).applyWithGuard(c,null,[a],null,"UFI2ActiveLayerMonitor")}i=!1}function n(a){j!==a&&(j=a,m(a))}a={getLastActiveLayer:function(){return j},subscribe:function(a){__p&&__p();h.push(a);i&&k.push(a);l==null&&(l=new(b("SubscriptionsHandler"))(),l.addSubscriptions(b("UserActivity").subscribe(function(a,c){a=c.event;n(b("Parent").byClass(a.target,"uiLayer")||b("getDocumentScrollElement")())})));var c=!1;return{remove:function(){__p&&__p();if(c)return;var b=h.indexOf(a);b!==-1&&h.splice(b,1);if(i){b=k.indexOf(a);b!==-1&&k.splice(b,1)}h.length===0&&(l&&(l.release(),l=null));c=!0}}}};e.exports=a}),null);
__d("UFI2BluePrimerDialog.react",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){var c=a.Component;a=a.props;return b("React").jsx(c,babelHelpers["extends"]({},a))}}),null);
__d("UFI2CometRelayCreateFragmentContainer",["requireCond","cr:936168","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=b("relay-runtime").graphql;e.exports={createFragmentContainer:b("cr:936168").createFragmentContainer,graphql:a}}),null);
__d("UFI2LocalUserAction",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("EventEmitter"))()}),null);
__d("UFI2PrimerDialogWrapper.react",["requireCond","cr:828359"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:828359")}),null);
__d("UFI2ScaleRect",["invariant","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){return h(a,!0)}function c(a){return h(a,!1)}function h(a,c){__p&&__p();var d=a.srcHeight,e=a.srcWidth,f=a.maxHeight,h=a.maxWidth;a=a.gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero;!1===a?(d>0||g(0,5272,d),e>0||g(0,5273,e)):(d===0||e===0)&&b("FBLogger")("ufi2").warn("Scaling UFI2 rect with invalid zero height or width: height=%s / width=%s",String(d),String(e));f>0||g(0,5274,f);h>0||g(0,5275,h);d=a&&d===0?f:d;a=a&&e===0?h:e;e=h/a;h=f/d;f=c?Math.min(e,h):Math.min(e,h,1);return{height:Math.round(d*f),width:Math.round(a*f)}}e.exports={scaleToContain:a,shrinkToContain:c}}),null);
__d("UFI2SubscriptionManager",["cancelIdleCallback","requestIdleCallbackAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=new Set(),this.$2=new Set(),this.$3=!1}var c=a.prototype;c.add=function(a){var b=this;this.$1.add(a);this.$3&&a.subscribe();return{dispose:function(){a.unsubscribe(),b.$1&&b.$1["delete"](a)}}};c.subscribeAll=function(){__p&&__p();if(!this.$3){this.$3=!0;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.subscribe()}}};c.subscribeAllOnIdle=function(){__p&&__p();var a=this;if(!this.$3){this.$3=!0;var c=function(){__p&&__p();if(e){if(f>=d.length)return"break";g=d[f++]}else{f=d.next();if(f.done)return"break";g=f.value}var c=g,h=null;h=b("requestIdleCallbackAcrossTransitions")(function(){h!=null&&(a.$2["delete"](h),h=null),a.$3&&c.subscribe()});a.$2.add(h)};for(var d=this.$1,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g,h=c();if(h==="break")break}}};c.unsubscribeAll=function(){__p&&__p();if(this.$3){this.$3=!1;for(var a=this.$2,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b("cancelIdleCallback")(e)}for(var e=this.$1,d=Array.isArray(e),c=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(c>=e.length)break;a=e[c++]}else{c=e.next();if(c.done)break;a=c.value}a=a;a.unsubscribe()}}};c.reset=function(){this.unsubscribeAll(),this.$1=new Set()};return a}();e.exports=a}),null);
__d("UFI2UserActivityIdleTimeout",[],(function(a,b,c,d,e,f){"use strict";e.exports=3e4}),null);
__d("UFI2UserActivityMonitor",["ErrorUtils","Event","ExecutionEnvironment","SubscriptionsHandler","UFI2UserActivityIdleTimeout","UserActivity","Visibility","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=[],i,j=!1,k=b("ExecutionEnvironment").canUseDOM&&b("UserActivity").isOnTab()&&b("UserActivity").isActive(b("UFI2UserActivityIdleTimeout"))?"ACTIVE":"INACTIVE",l=[],m;function n(a){j=!0;l.push.apply(l,h);var c=function(){var c=l.shift();(g||(g=b("ErrorUtils"))).applyWithGuard(function(){return c(a)},null,null,null,"UFI2UserActivityMonitor")};while(l.length)c();j=!1}function o(a){b("clearTimeout")(i),a>0&&(i=b("setTimeoutAcrossTransitions")(function(){p("INACTIVE")},a))}function p(a){var b=k;k=a;b!==a&&n(a)}a={getActivityState:function(){return k},init:function(){m==null&&(o(Math.max(0,b("UFI2UserActivityIdleTimeout")-(Date.now()-b("UserActivity").getLastActive()))),m=new(b("SubscriptionsHandler"))(),m.addSubscriptions(b("UserActivity").subscribe(function(a,c){a=c.event;if(/^mouse(enter|leave|move|over|out)$/.test(a.type)&&b("UserActivity").isOnTab()===!1)return;p("ACTIVE");o(Math.max(0,b("UFI2UserActivityIdleTimeout")-(Date.now()-b("UserActivity").getLastActive())))}),b("Event").listen(window,"blur",function(){p("INACTIVE"),b("clearTimeout")(i)}),b("Visibility").addListener(b("Visibility").HIDDEN,function(){p("INACTIVE"),b("clearTimeout")(i)})))},subscribe:function(a){__p&&__p();h.push(a);j&&l.push(a);var c=!1;return{remove:function(){__p&&__p();if(c)return;var d=h.indexOf(a);d!==-1&&h.splice(d,1);if(j){d=l.indexOf(a);d!==-1&&l.splice(d,1)}h.length===0&&b("clearTimeout")(i);c=!0}}}};b("ExecutionEnvironment").canUseDOM&&a.init();e.exports=a}),null);
__d("getSharedStopwatch",["invariant","UFIStopWatch","uuid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={};function a(a){__p&&__p();var c=b("uuid")();if(h[a]==null){var d=new(b("UFIStopWatch"))();h[a]={runningClientMap:{},stopwatch:d,totalClients:0}}h[a].totalClients+=1;var e=!1;function f(){e===!1||g(0,6067)}var i={dispose:function(){if(e)return;i.pause();h[a].totalClients-=1;h[a].totalClients===0&&delete h[a];e=!0},getMilliseconds:function(){f();return h[a].stopwatch.milliseconds()},isRunning:function(){f();return h[a].stopwatch.state()===b("UFIStopWatch").COUNTING},isSharedWithOtherClients:function(){f();return h[a].totalClients>1},pause:function(){f(),delete h[a].runningClientMap[c],Object.keys(h[a].runningClientMap).length===0&&h[a].stopwatch.pause()},start:function(){f(),h[a].runningClientMap[c]=!0,h[a].stopwatch.start()}};return i}e.exports=a}),null);
__d("getUFI2CommentHighlightClasses",["cx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return"_3iub"+(a?" _3iuc":"")}e.exports=a}),null);
__d("getViewportViewDurationPropertiesFromTrackingData",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;a=a(["ft"],["data-referrer"]);return{isPageComment:(a==null?void 0:(b=a.ft)==null?void 0:b.page_id)!=null,isSponsored:!!(a==null?void 0:(b=a.ft)==null?void 0:b.is_sponsored),mfStoryKey:(a==null?void 0:(b=a.ft)==null?void 0:b.mf_story_key)||void 0,pageInsights:(a==null?void 0:(b=a.ft)==null?void 0:b.page_insights)||void 0,qid:(a==null?void 0:(b=a.ft)==null?void 0:b.qid)||void 0,referrerSource:(a==null?void 0:(b=a.normal)==null?void 0:b["data-referrer"])||void 0}}e.exports=a}),null);
__d("URITruncator",["fbt","URI"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=3,j=g._("..."),k=j.length||j.toString().length;function a(a,c){__p&&__p();if(!a||c===void 0||a.length<=c||c<=k||a.toString().length<=k)return a;var d=(h||(h=b("URI"))).tryParseURI(a);if(!d)return a.substring(0,c-k)+j;a=d.getOrigin();if(a.length>c-k)return a.substring(0,c-k)+j;var e=!1;if(d.getFragment()){e=!0;d.setFragment("");if(d.toString().length<=c-k)return d.toString()+j}var f=d.getQueryData();if(f){f=Object.keys(f);if(f.length>0){e=!0;for(var g=f.length-1;g>=0;g--){d.removeQueryData(f[g]);if(d.toString().length<=c-k)return d.toString()+j}}}g=d.getPath()+(e?j:"");f=g.split("/");d=a.length+g.length-c;e=0;while(d>0&&f.length>e+1){g=e+1;var l=f[g];if(d+k+i<=l.length){var m=l.length-1,n=l.length-d-k,o=/[a-zA-Z0-9]/;d+=k;while(d>0){while(m>0&&o.test(l[m]))m--,d--;while(m>0&&!o.test(l[m]))m--,d--}m===0&&(m=n-1);f[g]=l.substring(0,m+1)+j}else e++,d-=l.length,e===1?d+=k:d--}e>0&&(f[f.length-1].length===0&&f.length===e+2&&e++,f.splice(1,e,j));o=a+f.join("/");o.length>c&&(o=o.substring(0,c-k)+j);return o}e.exports=a}),null);
__d("interpolateUFI2TextWithRange",["cx","fbt","FBLogger","React","RelayModern","TextDelightRange.react","UFI2CommentBodyTextWithEntitiesConfig","UFI2LinkWrapper.react","UFI2ProfileLink.react","UFI2VideoTimeIndexLink.react","URI","URITruncator","isFacebookURI","isLinkshimURI","isRTL","nullthrows","interpolateUFI2TextWithRange_textWithEntities.graphql","interpolateUFI2TextWithRange_delightRange.graphql","interpolateUFI2TextWithRange_range.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l;b("RelayModern").graphql;i!==void 0?i:i=b("interpolateUFI2TextWithRange_textWithEntities.graphql");j!==void 0?j:j=b("interpolateUFI2TextWithRange_delightRange.graphql");k!==void 0?k:k=b("interpolateUFI2TextWithRange_range.graphql");function m(a){if(a.url==null)return null;a=new(l||(l=b("URI")))(a.url);b("isFacebookURI")(a)&&!b("isLinkshimURI")(a)&&a.addQueryData({hc_location:"ufi"});return a}function a(a,c){__p&&__p();switch(c.__typename){case"DelightAtRange":var d=b("nullthrows")(c.campaign,"Expected a `campaign` property to be present on a range of type `DelightAtRange`.");return b("React").jsx(b("TextDelightRange.react"),{campaignID:d.id,delightStyles:d.delight_styles.map(function(a){return{style:a.style,value:a.value}}),surface:"comment",children:a});case"EntityAtRange":d=b("nullthrows")(c.entity,"Expected an `entity` property to be present on a range of type `EntityAtRange`.");var e=m(d);switch(d.__typename){case"ExternalUrl":var f=b("URITruncator")(a,b("UFI2CommentBodyTextWithEntitiesConfig").uriTruncationThreshold);if(e)return b("React").jsx(b("UFI2LinkWrapper.react"),{dir:b("isRTL")(a)?"rtl":null,href:e,s:d.can_skip_redirect?"1":void 0,target:"_blank",children:f});else return f;case"Hashtag":if(e)return b("React").jsxs(b("UFI2LinkWrapper.react"),{className:"_3l3r",dir:b("isRTL")(a)?"rtl":null,href:e,children:[b("React").jsx("span",{"aria-label":h._("hashtag"),className:"_3l3v",children:a.substring(0,1)}),b("React").jsx("span",{className:"_3l3w",children:a.substring(1)})]});else return a;case"VideoTimeIndex":f=d.time_index;var g=d.video;g=g==null?void 0:g.id;if(g==null){b("FBLogger")("video").warn("When trying to render a link to a time index of a video the video id was missing. Investigate why the query failed to materialize the video id.");return a}if(f==null){b("FBLogger")("video").warn("When trying to render a link to a time index of a video the time index was missing. Investigate why the query failed to materialize the time index.");return a}return b("React").jsx(b("UFI2VideoTimeIndexLink.react"),{text:a,timeIndex:f,videoId:g});default:f=c.entity_is_weak_reference;if(e)return b("React").jsx(b("UFI2ProfileLink.react"),{className:f?"_2-5h":"",dir:b("isRTL")(a)?"rtl":null,href:String(e),uid:d.id||"",children:a});else return a}default:return a}}e.exports=a}),null);
__d("isCommentFresh",["RelayModern","isCommentFresh_comment.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;g!==void 0?g:g=b("isCommentFresh_comment.graphql");function a(a){return a.is_locally_composed===!0||a.is_created_from_subscription===!0}e.exports=a}),null);
__d("isCommentTokenOrFBID",["RelayModern","isCommentTokenOrFBID_comment.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;g!==void 0?g:g=b("isCommentTokenOrFBID_comment.graphql");function a(a,b){return a!=null&&(a===b.id||a===b.legacy_fbid)}e.exports=a}),null);
__d("isNotOutlierReaction",["RelayModern","qex","isNotOutlierReaction_feedback.graphql","isNotOutlierReaction_topReactionsEdge.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;b("RelayModern").graphql;g!==void 0?g:g=b("isNotOutlierReaction_feedback.graphql");h!==void 0?h:h=b("isNotOutlierReaction_topReactionsEdge.graphql");function a(a){__p&&__p();var c,d;c=(c=a==null?void 0:(c=a.reactors)==null?void 0:c.count)!=null?c:0;d=(d=b("qex")._("1133283"))!=null?d:0;var e=Math.ceil(c*d);return function(b){var c;if(((c=a.viewer_feedback_reaction_info)==null?void 0:c.key)!==((c=b.node)==null?void 0:c.key)){return((c=b.reaction_count)!=null?c:0)>=e}else return!0}}e.exports=a}),null);
__d("isStandaloneEmoji",["EmojiRenderer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=14,h=3;function a(a){if(!a||a.length>g*h)return!1;var c=b("EmojiRenderer").parse(a);if(!c)return!1;var d=0;c.forEach(function(a){d+=a.length});return a.length==d&&c.length<=h}e.exports=a}),null);
__d("logCommentViewportViewDuration",["Banzai","WebSession","gkx"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.commentID,d=a.isLivePinnedComment,e=a.isPageComment,f=a.isReply,g=a.isSponsored,h=a.mfStoryKey,i=a.milliseconds,j=a.pageInsights,k=a.qid,l=a.referrerSource;a=a.storyRenderLocation;if(i<100)return;a=babelHelpers["extends"]({container_module:a,duration_ms:i,is_live_pinned_comment:d,is_on_sponsored_story:g,is_page_comment:e,is_reply:f},h!=null?{mf_story_key:h}:null,{node_token:c},j!=null?{page_insights:j}:null,k!=null?{qid:k}:null,l!=null?{referrer_source:l}:null,{sid_raw:b("WebSession").getId()});b("Banzai").post("comment_vpvd",a)}e.exports=a}),null);
__d("getScrollableAreaContainingNode",["DataStore","Parent"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("Parent").byClass(a,"uiScrollableArea");return a?b("DataStore").get(a,"ScrollableArea"):null}e.exports=a}),null);
__d("CSSFade",["cx","invariant","CSS","DataStore","Event","Style","requestAnimationFrameAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="css-fade-animation",j="css-show-animation",k="CSSFade_hide",l="CSSFade_show";a=document.createElement("div").animate!==void 0;var m={cancel:function(){}};function n(a,c){a!=null||h(0,5875);a=b("DataStore").get(a,c);a&&a.cancel();return a}function o(a,b,c){a=((a=a)!=null?(a=a.style)!=null?a.animation:a:a)||"";b=b+"s "+c;a.length>5&&(b=a.slice(0,-1)+(", "+b));return b}function p(a,b){a=((a=a)!=null?(a=a.style)!=null?a.animation:a:a)||"";a=a.split(",");var c=a.findIndex(function(a){return a.indexOf(b)>-1});c!==-1&&a.splice(c,1);return a.join(",")}c={show:function(a,c){__p&&__p();c===void 0&&(c={});var d=c.duration!=null?c.duration/1e3:.3;n(a,i);n(a,j);b("CSS").removeClass(a,c.invisible?"invisible_elem":"hidden_elem");b("requestAnimationFrameAcrossTransitions")(function(){a.style.animation=o(a,d,l)});var e=b("Event").listen(a,"animationend",function(){c.callback&&c.callback(),a.style.animation=p(a,l)}),f={cancel:function(){a.style.animation=p(a,l),e.remove(),f.cancel=function(){}}};b("DataStore").set(a,j,f);return f},hide:function(a,c){__p&&__p();c===void 0&&(c={});var d=function(){b("CSS").addClass(a,c.invisible?"invisible_elem":"hidden_elem"),c.callback&&c.callback(),a.style.animation=p(a,k)};if(c.simple){d();return m}var e=c.duration!=null?c.duration/1e3:.3;n(a,j);n(a,i);b("requestAnimationFrameAcrossTransitions")(function(){a.style.animation=o(a,e,k)});var f=b("Event").listen(a,"animationend",d),g={cancel:function(){a.style.animation=p(a,k),f.remove(),g.cancel=function(){}}};b("DataStore").set(a,i,g);return g}};d={show:function(a,c){__p&&__p();c===void 0&&(c={});var d=c.duration!=null?c.duration:300;n(a,i);n(a,j);b("CSS").removeClass(a,c.invisible?"invisible_elem":"hidden_elem");b("Style").set(a,"opacity","1");d=a.animate([{opacity:"0"},{opacity:"1.0"}],{duration:d});c.callback&&(d.onfinish=c.callback);b("DataStore").set(a,j,d);return d},hide:function(a,c){__p&&__p();c===void 0&&(c={});var d=c.duration!=null?c.duration:300;n(a,j);if(c.simple===!0){b("CSS").addClass(a,c.invisible?"invisible_elem":"hidden_elem");return m}else{n(a,i);b("Style").set(a,"opacity","0");d=a.animate([{opacity:"1.0"},{opacity:"0"}],{duration:d});d.onfinish=function(){b("CSS").addClass(a,c.invisible?"invisible_elem":"hidden_elem"),c.callback&&c.callback()};b("DataStore").set(a,i,d);return d}}};e.exports=a?d:c}),null);
__d("LayerFadeOnHide",["invariant","CSSFade","Layer","SubscriptionsHandler","UserAgent_DEPRECATED","clearTimeout","emptyFunction","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a,this._subscriptionsHandler=new(b("SubscriptionsHandler"))()}var c=a.prototype;c.enable=function(){if(b("UserAgent_DEPRECATED").ie()<9)return;this._subscription=this._layer.subscribe("starthide",this._handleStartHide.bind(this))};c.disable=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._subscriptionsHandler.release()};c._getDuration=function(){return 150};c._handleStartHide=function(){__p&&__p();var a=!0,c=b("Layer").subscribe("show",function(){c.unsubscribe(),a=!1}),d=b("setTimeoutAcrossTransitions")(function(){var b=this;c.unsubscribe();c=null;var d=function(){b._layer.finishHide()};a?this._animate(d):d()}.bind(this),0);this._subscriptionsHandler.addSubscriptions({remove:function(){b("clearTimeout")(d)}});return!1};c._animate=function(a){var c=this._layer.getRoot();c!=null||g(0,70);b("CSSFade").hide(c,{callback:function(){a()},duration:this._getDuration()})};a.forDuration=function(c){var d=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a);d.prototype._getDuration=b("emptyFunction").thatReturns(c);return d};return a}();Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("LayerHideOnTransition",["LayerHideSources","PageTransitionsRegistrar"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){var c=this;this._handler=function(a){c._enabled&&c.isTransitionRelevant(a)&&c._layer.hide(b("LayerHideSources").TRANSITION),c._subscribe()};this._layer=a}var c=a.prototype;c.enable=function(){this._enabled=!0,this._subscribed||setTimeout(this._subscribe.bind(this),0)};c.disable=function(){this._enabled=!1,b("PageTransitionsRegistrar").removeHandler(this._handler)};c.isTransitionRelevant=function(a){return!0};c._subscribe=function(){b("PageTransitionsRegistrar").registerHandler(this._handler),this._subscribed=!0};return a}();Object.assign(a.prototype,{_enabled:!1,_subscribed:!1});e.exports=a}),null);
__d("AsyncDialog",["cx","AsyncRequest","CSS","DialogX","DOM","Keys","LayerFadeOnShow","LoadingDialogDimensions","Parent","React","ReactDOM","URI","XUIDialogTitle.react","XUISpinner.react","emptyFunction","forEachObject"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i,j;function k(a){__p&&__p();var c=b("LoadingDialogDimensions").WIDTH,d;a&&(c=parseInt(a.getAttribute("data-dialog-width"),10)||c,d=a.getAttribute("data-dialog-title")||d);if(!i){var e=(a=b("DOM")).create("div",{className:"_57-x"});i=new(b("DialogX"))({width:c,addedBehaviors:[b("LayerFadeOnShow")],xui:!0},a.create("div",null,e));j=a.create("div");a.insertBefore(e,j);b("ReactDOM").render(b("React").jsx(b("XUISpinner.react"),{size:"large"}),e);i.subscribe(["key","blur"],function(a,c){if(a=="blur"||a=="key"&&c.keyCode==b("Keys").ESC){o();return!1}})}d?b("ReactDOM").render(b("React").jsx(b("XUIDialogTitle.react"),{showCloseButton:!1,children:d}),j):b("DOM").empty(j);i.setWidth(c);return i}var l={},m=1,n=[];function o(){b("forEachObject")(l,function(a,b){a.abandon(),p(b)})}function p(a){delete l[a],Object.keys(l).length||k().hide()}function q(a,c){__p&&__p();var d=m++;n[d]=c;l[d]=a;var e=p.bind(null,""+d);Object.assign(a.getData(),{__asyncDialog:d});c=a.getRelativeTo();k(c).setCausalElement(c).show();var f=a.finallyHandler;a.setFinallyHandler(function(a){var c=a.getPayload();c&&c.asyncURL&&r.send(new(b("AsyncRequest"))(c.asyncURL));e();f&&f(a)});var g=a.abortHandler||b("emptyFunction"),h=a.interceptHandler||b("emptyFunction");a.setInterceptHandler(function(){try{h()}finally{e()}}).setAbortHandler(function(){try{g()}finally{e()}});a.send()}var r={send:function(a,c){q(a,c||b("emptyFunction"))},bootstrap:function(a,c,d){__p&&__p();if(!a)return;var e=b("Parent").byClass(c,"stat_elem")||c;if(e&&b("CSS").hasClass(e,"async_saving"))return!1;var f=new(h||(h=b("URI")))(a).getQueryData();d=d==="dialog";a=new(b("AsyncRequest"))().setURI(a).setData(f).setMethod(d?"GET":"POST").setReadOnly(d).setStatusElement(e);c&&(a.setRelativeTo(c),a.setNectarModuleDataSafe(c));r.send(a)},respond:function(a,b){var c=n[a];c&&(c(b),delete n[a])},getLoadingDialog:function(){return k()}};e.exports=r}),null);
__d("VideoFeedFastPreloadController",["DOMQuery","Run"],(function(a,b,c,d,e,f){var g=0,h={preload:function(c){g<2&&(c=b("DOMQuery").scry(c,"video")[0],c instanceof a.HTMLVideoElement&&(g||b("Run").onBeforeUnload(function(){return h.reset()}),c.preload="auto",g+=1))},reset:function(){g=0}};h.reset();e.exports=h}),null);
__d("VideoDisplayTimePlayButton",["CSS","DataStore","Event"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h="_spinner";a={getClicked:function(a){return b("DataStore").get(a,"clicked",!1)},register:function(a,c){var d=a.id;g[d]=b("Event").listen(a,"click",function(){c&&(b("CSS").hide(a),b("CSS").show(c)),b("DataStore").set(a,"clicked",!0)});c&&(g[d+h]=b("Event").listen(c,"click",function(){c&&b("CSS").hide(c),b("CSS").show(a),b("DataStore").set(a,"clicked",!1)}))},unregister:function(a){a=a.id;Object.prototype.hasOwnProperty.call(g,a)&&g[a].remove();a=a+h;Object.prototype.hasOwnProperty.call(g,a)&&g[a].remove()}};e.exports=a}),null);
__d("VideosRenderingInstrumentation",["DataStore","VideoPlayerHTML5Experiments","performanceAbsoluteNow"],(function(a,b,c,d,e,f){var g,h={storeRenderTime:function(a){var c=b("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?(g||(g=b("performanceAbsoluteNow")))():Date.now();b("DataStore").set(a,"videos_rendering_instrumentation",c);return c},retrieveRenderTime:function(a){var c=b("DataStore").get(a,"videos_rendering_instrumentation",NaN);Number.isNaN(c)&&(c=h.storeRenderTime(a));return c}};e.exports=h}),null);
__d("renderCrosspostedTooltipText",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this.props,c=a.posts,d=a.postViews;a=a.otherPostsViews;var e=Math.max(0,c-1);return e<=1||a<1?null:b("React").jsxs("div",{children:[b("React").jsx("strong",{children:g._({"*":"Video Posted {number} Times","_1":"Video Posted 1 Time"},[g._plural(c,"number")])}),b("React").jsx("br",{}),g._({"*":"{number} views from this post","_1":"1 view from this post"},[g._plural(d,"number")]),b("React").jsx("br",{}),g._({"*":{"*":"{number} views from {posts count} other posts","_1":"{number} views from {posts count} other post"},"_1":{"*":"1 view from {posts count} other posts","_1":"1 view from {posts count} other post"}},[g._plural(a,"number"),g._param("posts count",e),g._plural(e)])]})};return a}(b("React").PureComponent);function a(a){var c=a.posts,d=a.otherPostsViews;c=Math.max(0,c-1);return c<=1||d<1?null:b("React").jsx(h,babelHelpers["extends"]({},a))}e.exports=a}),null);
__d("WebGraphQL",["ActorURI","AsyncRequest","Deferred","FBLogger","WebGraphQLConfig","XGraphQLBatchAPIController","getAsyncParams"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){__p&&__p();var c=a.getURIBuilder().getURI(),d={exec:function(a,b){return d.execAll([a],b)[0]},execAll:function(a,d){__p&&__p();var e={},f={};a=a.map(function(a,c){c="o"+c;e[c]={doc_id:a.__getDocID(),query_params:a.__getVariables()};a=new(b("Deferred"))();f[c]=a;return a.getPromise()});var g=babelHelpers["extends"]({},b("getAsyncParams")("POST"));d&&d.actorID!=null&&(g[b("ActorURI").PARAMETER_ACTOR]=d.actorID);var h=d&&d.batchName?{batch_name:d.batchName}:{};h=new(b("AsyncRequest"))().setURI(c).setOption("suppressEvaluation",!0).setMethod("POST").setRequestHeader("Content-Type","application/x-www-form-urlencoded").setData(babelHelpers["extends"]({},h,g,{queries:JSON.stringify(e)})).setHandler(function(a){__p&&__p();a=a.getPayload();try{var c=a.response.split("\r\n");c.pop();c=c.map(function(a){return JSON.parse(a)});c.forEach(function(a){return Object.keys(a).forEach(function(b){var c=f[b];if(c){b=a[b];b.errors?c.reject(b):b.data?c.resolve(b.data):c.reject({data:{},errors:[{message:"Unexpected response received from server.",severity:"CRITICAL",response:b}]})}})})}catch(d){c=a.response;b("FBLogger")("webgraphql").catching(d).mustfix("Bad response: ","%s%s",c.substr(0,250),c.length>250?"[truncated]":"")}Object.keys(f).forEach(function(a){f[a].isSettled()||f[a].reject({data:{},errors:[{message:"No response received from server.",severity:"CRITICAL"}]})})}).setTimeoutHandler(b("WebGraphQLConfig").timeout,function(){Object.keys(f).forEach(function(a){f[a].isSettled()||f[a].reject({data:{},errors:[{message:"Request timed out.",severity:"CRITICAL"}]})})}).setErrorHandler(function(a){var b=a.getErrorDescription();Object.keys(f).forEach(function(c){f[c].isSettled()||f[c].reject({data:{},errors:[{message:b,severity:"CRITICAL",error:a.getError()}]})})});d&&d.msgrRegion&&h.setRequestHeader("X-MSGR-Region",d.msgrRegion);h.setAllowCrossPageTransition(!0);h.send();return a},__forController:g};return d}a=g(b("XGraphQLBatchAPIController"));e.exports=a}),null);
__d("LineClamp.react",["cx","DOMContainer.react","Locale","React","ReactDOM","getElementText","getVendorPrefixedName","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("getVendorPrefixedName")("lineClamp");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={enableTooltip:!1},d.$2=function(a){a=b("ReactDOM").findDOMNode(a);a instanceof HTMLElement&&(d.innerElement=a,d.$3())},d.$4=function(a){a=b("ReactDOM").findDOMNode(a);a instanceof HTMLElement&&(d.rootElement=a,d.$3())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a;this.props.lineHeight&&!this.props.customEllipsisDisableGradient&&(a={bottom:this.props.lineHeight+"px"});var c;this.props.customEllipsis&&this.props.customEllipsisDisableGradient?c=b("Locale").isRTL()?"_1osp":"_1osq":c=b("Locale").isRTL()?"_4ik3 _2k5c":"_4ik3"+(this.props.enableCustomizedStyleForEllipsis?" _6q5n":"")+(this.props.enableCustomizedStyleForEllipsis?"":" _2k5d");return b("React").jsx("div",{style:a,className:c,children:this.props.customEllipsis?this.props.customEllipsis:"\u2026"},"ellipsis")};d.$3=function(){__p&&__p();if(!this.props.enableTooltipOnOverflow)return;if(!this.rootElement)return;var a=this.rootElement,b;if(this.$5())b=a.scrollHeight>a.offsetHeight;else{if(!this.innerElement)return;b=this.innerElement.offsetHeight>a.offsetHeight}this.state.enableTooltip!==b&&this.setState({enableTooltip:b})};d.$5=function(){return!!h&&!this.props.disableNative};d.componentDidMount=function(){this.$3()};d.componentDidUpdate=function(){this.$3()};d.render=function(){var a=this.$5(),c=b("joinClasses")(this.props.className,"_4ik4"+(a?" _4ik5":"")+(this.props.width?" _8hwj":"")),d=this.props.hasXHPChildren?b("React").jsx(b("DOMContainer.react"),{children:this.props.children}):this.props.children,e={};this.props.lineHeight&&(e={lineHeight:this.props.lineHeight+"px"},this.props.fitHeightToShorterText?e=babelHelpers["extends"]({},e,{maxHeight:this.props.lineHeight*this.props.lines}):e=babelHelpers["extends"]({},e,{height:this.props.lineHeight*this.props.lines}));this.props.width&&(e=babelHelpers["extends"]({},e,{width:this.props.width+"px"}));a?e[h]=this.props.lines:(c=b("joinClasses")(c,"clearfix"),this.props.customEllipsisDisableGradient?d=[b("React").jsx("div",{className:"_1osu"},"spacer"),this.$1(),b("React").jsx("div",{className:"_1osv",ref:this.$2,children:this.props.children},"inner")]:d=[b("React").jsx("div",{className:"_4ik6",ref:this.$2,children:d},"inner"),this.$1()]);var f={};this.props.enableTooltipOnOverflow&&(f["data-hover"]="tooltip",this.state.enableTooltip&&(f["data-tooltip-content"]=a?b("getElementText")(this.rootElement):b("getElementText")(this.innerElement),this.props.tooltipDelay!=null&&(f["data-tooltip-delay"]=this.props.tooltipDelay)));return b("React").jsx("div",babelHelpers["extends"]({},f,{className:c,ref:this.$4,style:e,children:d}))};return c}(b("React").Component);e.exports=a}),null);
__d("isKeyActivation",["Keys"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=0,d=a.charCode;a=a.keyCode;d!=null&&d!==0?c=d:a!=null&&a!==0&&(c=a);return[b("Keys").RETURN,b("Keys").SPACE].includes(c)}e.exports=a}),null);
__d("KeyActivationToClickHOC.react",["React","isKeyActivation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var c,d;return d=c=function(c){__p&&__p();babelHelpers.inheritsLoose(d,c);function d(){__p&&__p();var a;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];a=c.call.apply(c,[this].concat(e))||this;a.$2=function(c){b("isKeyActivation")(c)&&(c.preventDefault(),c.stopPropagation(),a.$1&&a.$1.click())};a.$3=function(b){a.$1=b};a.$1=null;return a}var e=d.prototype;e.render=function(){return b("React").jsx(a,babelHelpers["extends"]({},this.props,{keyActivationToClickEvent:this.$2,keyActivationToClickRef:this.$3}))};return d}(b("React").Component),c.displayName="KeyActivationToClickHOC",d};e.exports=a}),null);
__d("AsyncData",["requireCond","cr:696703"],(function(a,b,c,d,e,f){__p&&__p();var g=Object.create(null),h=Object.create(null),i=Object.create(null),j={resolve:function(a,b){var c=i[a]={result:b,status:"success"};g[a]&&(g[a].forEach(function(a){return a(c.result)}),delete g[a]);delete h[a]},reject:function(a,b){var c=i[a]={error:b,status:"error"};h[a]&&(h[a].forEach(function(a){return a(c.error)}),delete h[a]);delete g[a]},resolveBlackBox:function(a,b){j.resolve(a,b)},rejectBlackBox:function(a,b){j.reject(a,b)},preload:function(a){var b={};b.onLoaded=l.bind(null,a,b);b.onError=m.bind(null,a,b);b.cleanup=n.bind(null,a);b.peek=k.bind(null,a);return b},blockDisplayUntilLoaded:function(a){var b=a.bigPipeContext;a=a.preloader;b=b?b.registerToBlockDisplayUntilDone_DONOTUSE():function(){};a.onLoaded(b).onError(b)},cleanup:n,__dumpValues:null};function k(a){a=i[a];return a&&!a.error?a.result:null}function l(a,c,d){__p&&__p();var e=i[a];if(e&&!e.error)d(e.result);else{g[a]=g[a]||[];if(b("cr:696703")){var f=b("cr:696703").getCallbackScheduler(),h=d;d=function(a){f(function(){return h(a)})}}g[a].push(d)}return c}function m(a,c,d){__p&&__p();var e=i[a];if(e)e.status==="error"&&d(e.error);else{h[a]=h[a]||[];if(b("cr:696703")){var f=b("cr:696703").getCallbackScheduler(),g=d;d=function(a){f(function(){return g(a)})}}h[a].push(d)}return c}function n(a){delete i[a]}e.exports=j}),null);
__d("AsyncDataPreloader",["AsyncData"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){a=a.id;this.$1=a;this.$2=b("AsyncData").preload.call(null,this.$1)}var c=a.prototype;c.getID=function(){return this.$1};c.peek=function(){return this.$2.peek()};c.onLoaded=function(a){this.$2.onLoaded(a);return this};c.onError=function(a){this.$2.onError(a);return this};c.cleanup=function(){b("AsyncData").cleanup(this.$1)};c.getContextProvider=function(){return null};return a}();e.exports=a}),null);
__d("PreloadedRelayQueryRendererContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext(null);e.exports=a}),null);