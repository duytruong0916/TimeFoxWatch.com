if (self.CavalryLogger) { CavalryLogger.start_js(["ZTIkw"]); }

__d("XPubcontentInlinePhotoPivotsEventsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pubcontent/inline_photo_pivots_chaining/events/",{})}),null);
__d("EntstreamAttachmentRelatedShare",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","Event","SubscribeButton","XPubcontentInlinePhotoPivotsEventsController","ge","getOrCreateDOMID","tidyEvent"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=2,j=3;a={loadSuggestedShowsPivotAttachment:function(a,c,d){var e=b("ge")(a);if(!e)return;var f=b("Arbiter").subscribe(b("SubscribeButton").SUBSCRIBED,function(a,g){f.unsubscribe();if(g.profile_id!==c.toString())return;b("Arbiter").inform("show_follow_click",{attachment:e,pageID:c,storyID:d})})},loadRelatedAttachment:function(a,c,d){var e=null;typeof a==="string"?e=b("ge")(a):e=a;if(!e)return;var f=b("Event").listen(e,"click",function(){f.remove(),b("Arbiter").inform("article_click",{attachment:e,global_share_id:c,is_right_click:!1,share_id:d})}),g=b("Event").listen(e,"mousedown",function(a){(a.which===j||a.button===i)&&(g.remove(),b("Arbiter").inform("article_click",{attachment:e,global_share_id:c,is_right_click:!0}))})},loadInlineStoryPivotAttachment:function(a,c){var d=b("ge")(a);if(!d)return;var e=b("Event").listen(d,"click",function(){e.remove(),b("Arbiter").inform("photo_click",{attachment:d,storyid:c})})},loadRelatedGameAttachment:function(a,c){var d=null;typeof a==="string"?d=b("ge")(a):d=a;if(!d)return;b("tidyEvent")(b("Event").listen(d,"click",function(){b("Arbiter").inform("game_click",{attachment:d,global_share_id:c})}));b("tidyEvent")(b("Event").listen(d,"mousedown",function(a){(a.which===j||a.button===i)&&b("Arbiter").inform("game_click",{attachment:d,global_share_id:c})}))},loadRelatedLSCVideoAttachment:function(a,c){var d=null;typeof a==="string"?d=b("ge")(a):d=a;if(!d)return;var e=b("Event").listen(d,"click",function(){e.remove(),b("Arbiter").inform("video_click",{attachment:d,global_share_id:c})})},loadRelatedLSCInlineVideoAttachment:function(a,c){__p&&__p();var d=null;typeof a==="string"?d=b("ge")(a):d=a;if(!d)return;b("Event").listen(d,"click",function(){__p&&__p();var a="^div._4-u2",e="_1d8v";a=b("DOM").scry(d,a);a=a.length===1?a[0]:null;var f=a.parentNode,g=f.previousSibling;while(!g)f=f.parentNode,g=f.previousSibling;if(!b("CSS").hasClass(g,e))var f=b("DOM").create("div",{className:e}),e=b("DOM").insertBefore(a.parentNode,f),a=e.length>=1?e[0]:null;else a=g;f=b("getOrCreateDOMID")(a);new(b("AsyncRequest"))().setURI("/ajax/flash/expand_inline.php").setData({share_id:c,target_div:f,max_width:470,max_height:264,replace_target_div:!0}).setMethod("GET").setReadOnly(!0).setRelativeTo(d.parentNode).send()})},loadRelatedEventsPivotAttachment:function(a,c){var d=null;typeof a==="string"?d=b("ge")(a):d=a;if(!d)return;b("tidyEvent")(b("Event").listen(d,"click",function(){b("Arbiter").inform("event_join",{attachment:d,event_id:c})}))},loadMapAttachment:function(a,c,d){a=typeof a==="string"?b("ge")(a):a;if(!a)return;var e=typeof c==="string"?b("ge")(c):c;if(!e)return;b("tidyEvent")(b("Event").listen(a,"click",function(){b("Arbiter").inform("map_click",{attachment:e,story_id:d})}))},loadMapAttachmentActionButton:function(a,c){var d=typeof a==="string"?b("ge")(a):a;if(!d)return;b("tidyEvent")(b("Event").listen(d,"click",function(){b("Arbiter").inform("action_button_click",{button:d,story_id:c})}))},closeButton:function(a,c){b("Event").listen(a,"click",function(){b("DOM").remove(c)})},closeButtonPhotoPivots:function(a,c,d,e){b("Event").listen(a,"click",function(){var a=b("XPubcontentInlinePhotoPivotsEventsController").getURIBuilder(),f={story_id:d,search_query_type:e,event:"hide"};new(b("AsyncRequest"))().setMethod("POST").setURI(a.getURI()).setData(f).send();b("DOM").remove(c)})},seeAllLinkPhotoPivots:function(a,c,d){b("Event").listen(a,"click",function(){var a=b("XPubcontentInlinePhotoPivotsEventsController").getURIBuilder(),e={story_id:c,search_query_type:d,event:"see_all"};new(b("AsyncRequest"))().setMethod("POST").setURI(a.getURI()).setData(e).send()})},removeOldSuggestions:function(a){a=b("ge")(a);if(!a)return;var c=b("DOM").scry(a.parentNode,"._5d73");for(var a=1;a<c.length;a++)b("DOM").remove(c[a]);window.setTimeout(function(){b("CSS").show(c[0])},1e3)},showHiddenSuggestions:function(a){__p&&__p();var c=b("Event").listen(a,"click",function(){c.remove();var d="^._1ui8";d=b("DOM").scry(a,d);if(!d)return;b("CSS").hide(d[0]);d=d[0].previousSibling;while(d)b("CSS").show(d),d=d.previousSibling})}};e.exports=a}),null);
__d("IntegrityContextTriggerBootloader",["Bootloader"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){a=a.triggerLoggerExtraData||null;b=b&&b.getExtraDataForTriggerLogger()||null;return babelHelpers["extends"]({},a,b)}function a(a){b("Bootloader").loadModules(["IntegrityContextTriggerGlimpseAnimator","IntegrityContextTriggerLoggerManager"],function(b,c){var d=b.initAnim(a);b=function(){return g(a,d)};c.initLogger(a,b)},"IntegrityContextTriggerBootloader")}e.exports={bootload:a}}),null);
__d("CtaImpressionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:CtaImpressionsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:CtaImpressionsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:CtaImpressionsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCtaType=function(a){this.$1.cta_type=a;return this};c.setOriginalURI=function(a){this.$1.original_uri=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={cta_type:!0,original_uri:!0,time:!0,weight:!0};e.exports=a}),null);
__d("SeoClickTrackerTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:SeoClickTrackerLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:SeoClickTrackerLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SeoClickTrackerLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClickedFbid=function(a){this.$1.clicked_fbid=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setFbid=function(a){this.$1.fbid=a;return this};c.setPosition=function(a){this.$1.position=a;return this};return a}();c={clicked_fbid:!0,component:!0,fbid:!0,position:!0};e.exports=a}),null);
__d("ExpandingCtaModern",["Animation","CtaImpressionsTypedLogger","Style","setInterval","setTimeout","clearInterval"],(function(a,b,c,d,e,f){__p&&__p();var g=150,h=750;a={show:function(a,c,d,e,f,i,j,k){__p&&__p();if(document.documentElement!==null){var l=function(){!p&&window.pageYOffset>h&&(m(),b("clearInterval")(q))},m=function(){__p&&__p();if(!p){b("Style").set(c,"display","none");b("Style").set(d,"display","block");n(a,"height",o+"px");n(a,"background","rgba(0,0,0,0.5)");p=!0;var e=new(b("CtaImpressionsTypedLogger"))();e.setCtaType("www_pages_cta");e.setOriginalURI(window.location.href);e.logVital()}},n=function(a,c,d){new(b("Animation"))(a).to(c,d).duration(g).ease(b("Animation").ease.both).go()},o=document.documentElement.clientHeight,p=!1;b("Style").set(document.body,"margin-bottom",j+"px");k&&b("Style").set(c,"display","none");var q=b("setInterval")(l,1e3);f&&b("setTimeout")(m,3e3);window.onload=function(){!f&&window.pageYOffset<=h&&n(a,"height",j+"px")};e.addEventListener("click",function(){!i?(b("Style").set(d,"display","none"),b("Style").set(a,"height","70%"),k||b("Style").set(c,"display","block"),b("Style").set(a,"background","none"),n(a,"height",j+"px")):n(a,"height","0px"),b("clearInterval")(q)})}}};e.exports=a}),null);
__d("PageTimelineViewportTracking",["csx","Banzai","DataAttributeUtils","DOM","ViewportTracking","$","viewportTrackingBuilder"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){return{getAllStories:function(){return b("DOM").scry(b("$")("globalContainer"),"._5pat")},getStoryID:function(a){a=JSON.parse(b("DataAttributeUtils").getDataFt(a));return a&&a.top_level_post_id},getDataToLog:function(a){return JSON.parse(b("DataAttributeUtils").getDataFt(a))||{}},getStream:function(){return b("$")("globalContainer")},getDataFromConfig:function(a,b){b.isTimetrackingEnabled=!0}}}var i=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.getTimetrackingDataToLog=function(a){a=c.prototype.getTimetrackingDataToLog.call(this,a);a.log_type="duration";return a};d.getAllStoriesFromCache=function(){return this.behavior.getAllStories()};d.sendDataToLog=function(a,c,d,e){if(!c.ft)return;a={};e&&(a.retry=e);d&&(a.delay=2e3);b("Banzai").post("page_timeline_vpv_tracking",c,a)};d.cleanup=function(){j.clearSingleton(),c.prototype.cleanup.call(this)};return a}(b("ViewportTracking")),j=b("viewportTrackingBuilder")(function(a){var b=new i(h(a));b.init(a);return b});j.init=j.singleton.bind(j);e.exports=j}),null);
__d("PagesPostsSearch",["cx","Arbiter","CSS","DOM","LoadingIndicator.react","React","ReactDOM","Run","SubscriptionsHandler","UIPagelet"],(function(a,b,c,d,e,f,g){__p&&__p();var h=100;a={searchPosts:function(a,c,d){this._pageID=a;this._postsContainer=c;this._searchResultsContainer=d;var e=new(b("SubscriptionsHandler"))();e.addSubscriptions(b("Arbiter").subscribe("PagesTimelineSearch/search",this._handleSearchBarAction.bind(this)));b("Run").onLeave(function(){return e.release()})},_handleSearchBarAction:function(a,c){var d=this;this._query=c.query;this._query!==""?this._handleSearch():this._handleClearField();setTimeout(function(){b("Arbiter").inform("PagesTimelineSearch/searchDone",{query:d._query})},h)},_handleSearch:function(){b("CSS").hide(this._postsContainer),b("ReactDOM").render(b("React").jsx("div",{className:"_3x9t",children:b("React").jsx(b("LoadingIndicator.react"),{color:"white",size:"large"})}),this._searchResultsContainer),b("UIPagelet").loadFromEndpoint("PagePostsSearchResultsPagelet",this._searchResultsContainer,{page_id:this._pageID,search_query:this._query})},_handleClearField:function(){b("DOM").setContent(this._searchResultsContainer,null),b("CSS").show(this._postsContainer)}};e.exports=a}),null);
__d("MorePagerFetchOnScroll",["AsyncRequest","DOMQuery","Event","Style","Vector","throttle"],(function(a,b,c,d,e,f){__p&&__p();var g={};a=function(){"use strict";__p&&__p();function a(a,b,c){this._pager=a,this._offset=b||0,this._hasEventHandlers=!1,c&&this.setup(),g[a.id]=this}var c=a.prototype;c.setup=function(){this._scrollParent=b("Style").getScrollParent(this._pager),this.setPagerInViewHandler(this._defaultPagerInViewHandler.bind(this)),this.check()||(this._scrollListener=b("Event").listen(this._scrollParent,"scroll",b("throttle")(function(){this.check()}.bind(this),50)),this._clickListener=b("Event").listen(this._scrollParent,"click",b("throttle")(function(){this.check()}.bind(this),50)),this._hasEventHandlers=!0)};c.check=function(){__p&&__p();if(!b("DOMQuery").contains(document.body,this._pager)){this.removeEventListeners();return!0}var a=b("Vector").getElementPosition(this._pager).y,c=this._scrollParent===window?b("Vector").getViewportDimensions().y:b("Vector").getElementDimensions(this._scrollParent).y;c=this._scrollParent===window?b("Vector").getScrollPosition().y+c:b("Vector").getElementPosition(this._scrollParent).y+c;if(a-this._offset<c){this._inViewHandler();this.removeEventListeners();return!0}return!1};c.removeEventListeners=function(){this._hasEventHandlers&&(this._scrollListener&&this._scrollListener.remove(),this._clickListener&&this._clickListener.remove(),this._hasEventHandlers=!1)};c.setPagerInViewHandler=function(a){this._inViewHandler=a;return this};c._defaultPagerInViewHandler=function(){var a=b("DOMQuery").scry(this._pager,"a")[0];a&&b("AsyncRequest").bootstrap(a.getAttribute("ajaxify")||a.href,a)};a.getInstance=function(a){return g[a]};return a}();e.exports=a}),null);
__d("PagesPageWebsiteClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("pages_page_website_click");e.exports=a}),null);
__d("SeoRhsItemWrapper",["Parent","SeoClickTrackerTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={log:function(a){a.child.addEventListener("click",this._onClick(a))},clickHandler:function(a){var c=a.evt.target;if(!(c instanceof Node))return;c=c&&b("Parent").byTag(c,"a");c!==null&&c.getAttribute("href")!=="#"&&c.getAttribute("ajaxify")===null&&new(b("SeoClickTrackerTypedLogger"))().setFbid(a.page_fbid).setClickedFbid(a.component_fbid).setComponent(a.component).setPosition(a.position).log()},_onClick:function(a){var b=this;return function(c){c=babelHelpers["extends"]({},a,{evt:c});b.clickHandler(c)}}};e.exports=a}),null);
__d("TBLPagesPageWebsiteClickFalcoEventWrapper",["PagesPageWebsiteClickFalcoEvent"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){}a.log=function(a){b("PagesPageWebsiteClickFalcoEvent").log(function(){return a.data})};a.registerLogOnClick=function(a){a.element.addEventListener("click",function(){b("PagesPageWebsiteClickFalcoEvent").log(function(){return a.data})})};return a}();e.exports=a}),null);